var CS_CONF={"useLambdaBuild":false,"collectionEnabled":true,"useSentry":false,"isSMB":false,"projectId":3150,"status":1,"hostnames":["nvidia.com","rainfocus.com","docs.nvidia.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":20,"validationRate":10,"lastTrackingDraw":1749076063,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":1,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":1,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":null,"whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":"","replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":"","anonymisationMethod":null,"tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":1,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":1,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":1,"apiErrors":{"collectStandardHeaders":0,"collectionRules":[]},"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aeu1.contentsquare.net","malkaRecordingDomain":"k-aeu1.contentsquare.net","staticResourceManagerDomain":"srm.ba.contentsquare.net","voc":{"siteId":null,"enabled":0}};

var CS_INTEGRATIONS_CONF = {"usertesting":{},"adobe-target":{},"foresee":{},"hotjar":{}};
/* integration-usertesting 3.2.0 */
!function(e){var n={};function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(i,r,function(n){return e[n]}.bind(null,r));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"UserTesting","dvarPrefix":"UGC_UT_","apvPrefix":"cs_usertesting","replayKey":"ut"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-usertesting-contentsquare","version":"3.2.0","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function i(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function r(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}function o(e,n){n||(n="="),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&=]"+e+n+"([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}t.r(n);function a(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var u=t(0);const c=function(e){let n,t,r,o;if(i((function(){const i=e.name;n=e.version;const a=i.replace("@contentsquare/integration-","");t=a+"-"+n;let u="-contentsquare";o=new RegExp(u+"$").test(a),r=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),o||(u="-cap",o=new RegExp(u+"$").test(a),r=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),o)return{snippetBuildName:t,parameterName:r,snippetVersion:n}}(t(1)),s=c.parameterName,p=c.snippetBuildName,d=c.snippetVersion;i((function(){const e=u.displayName,n=u.dvarPrefix,t=(u.apvPrefix,u.replayKey);var c,l;c=e,l=d,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(c+" - v"+l);const f=r(s,"settings"),w=(g=f,Array.isArray(g)?f:[]);var g;const _=w.includes("sendArtificialPageviews"),m=w.includes("setReplayLinkToCurrentPV");let x=!1;const y=document.location.search;if(y.indexOf("utm_source=UserTesting")>-1&&y.indexOf("utm_campaign=")>-1&&y.indexOf("utm_content=")>-1){const e=o("utm_campaign"),r=o("utm_content");r&&function(e,n,t,i){return new Promise((function(r,o){function a(){window._uxa.push(["replay:link:generate",{withTimestamp:t},u])}function u(i){if(i&&i.replayLink&&i.isRecording){let o="https://"+i.replayLink+"&vd="+e;if(!n&&!t){const e=new URLSearchParams(o);e.set("pvid",1);const n=e.toString();o=decodeURIComponent(n)}r(o)}}e||(e="missingFromDynamicSnippet"),t||(t=!1),i?a():(window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&a()}]))}))}(t,m).then((function(e){i((function(){if(x=!0,e){!function(e,n){const t=new XMLHttpRequest;t.open("POST",e),t.setRequestHeader("Content-Type","application/json"),t.send(n)}("https://cloudhub-prod.usertesting.com/usertesting/api/v1/partner-analytics",JSON.stringify({usertesting_eid:r,external_link:e,partner_name:"Contentsquare"}))}}),p)})),e&&(O="etr",S="cs_usertesting=study_id_"+e,function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])}(b=n+(b="Study ID"),v=e),x&&"etr"===O&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackEventTriggerRecording","@ETS@"+e])}(b),S&&_&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackPageview",e])}(window.location.pathname+"?"+S),a(p,`Dynamic variable with ${b} and value ${v} sent`))}var b,v,O,S}),p)}]);
/* integration-adobe-target 3.8.0 */
!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"Adobe Target","dvarPrefix":"AB_AT_"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-adobe-target-contentsquare","version":"3.8.0","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function o(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function i(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}t.r(n);function r(e,n,t){if((t=t||window)&&n&&e){let o=!1,i=t[e];i?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i},set:function(e){i=e,o||(o=!0,n())}})}}function a(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var c=t(0);const u=function(e){let n,t,i,r;if(o((function(){const o=e.name;n=e.version;const a=o.replace("@contentsquare/integration-","");t=a+"-"+n;let c="-contentsquare";r=new RegExp(c+"$").test(a),i=a.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),r||(c="-cap",r=new RegExp(c+"$").test(a),i=a.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),r)return{snippetBuildName:t,parameterName:i,snippetVersion:n}}(t(1)),s=u.parameterName,l=u.snippetBuildName,f=u.snippetVersion;o((function(){const e=c.displayName,n=c.dvarPrefix;var t,u;t=e,u=f,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(t+" - v"+u);const p=i(s,"customObjectName"),d=p?p.trim():"ttMETA";function g(e,t){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),a(l,`Dynamic variable with ${e} and value ${t} sent`)}const m=[];function w(e){if(e&&function(e){return Array.isArray(e)}(e))for(const n of e){let e,t;n.CampaignName&&n.RecipeName?(e=n.CampaignName,t=n.RecipeName):n.campaign&&n.experience?(e=n.campaign,t=n.experience):n["activity.name"]&&n["experience.name"]&&(e=n["activity.name"],t=n["experience.name"]),m.length&&m.includes(e+"~~~~"+t)&&(e="",t=""),e&&t&&(m.push(e+"~~~~"+t),g(e,t))}}document.addEventListener("at-request-succeeded",(function(e){o((function(){e&&e.detail&&e.detail.responseTokens&&w(e.detail.responseTokens)}),l)})),function(e,n,t){t=t||window;const o=e.split(".");if(1==o.length)r(e,n,t);else{let e=t,i=0;const a=function(){e=i>0?e[o[i-1]]:window,i++,i>=o.length?r(o[i-1],n,e):r(o[i-1],a,e)};a()}}(d,(function(){setTimeout((function(){o((function(){w(window[d])}),l)}),500)}))}),l)}]);
/* integration-foresee 3.2.0 */
!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"Verint (ForeSee)","dvarPrefix":"FB_FS_","apvPrefix":"cs_foresee","replayKey":"fs"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-foresee-contentsquare","version":"3.2.0","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function i(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function o(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}t.r(n);function r(e,n,t){if((t=t||window)&&n&&e){let i=!1,o=t[e];o?n():Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){o=e,i||(i=!0,n())}})}}function u(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var c=t(0);const a=function(e){let n,t,o,r;if(i((function(){const i=e.name;n=e.version;const u=i.replace("@contentsquare/integration-","");t=u+"-"+n;let c="-contentsquare";r=new RegExp(c+"$").test(u),o=u.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),r||(c="-cap",r=new RegExp(c+"$").test(u),o=u.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),r)return{snippetBuildName:t,parameterName:o,snippetVersion:n}}(t(1)),d=a.parameterName,s=a.snippetBuildName,f=a.snippetVersion;i((function(){const e=c.displayName,n=c.dvarPrefix,t=c.apvPrefix,a=c.replayKey;var p,l;p=e,l=f,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(p+" - v"+l);const b=o(d,"settings"),w=(S=b,Array.isArray(S)?b:[]);var S;const g=w.includes("sendArtificialPageviews"),y=w.includes("setReplayLinkToCurrentPV");let m=!1;function _(e,t,i,o){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),m&&"etr"===i&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackEventTriggerRecording","@ETS@"+e])}(e),o&&g&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackPageview",e])}(window.location.pathname+"?"+o),u(s,`Dynamic variable with ${e} and value ${t} sent`)}!function(e,n,t){t=t||window;const i=e.split(".");if(1==i.length)r(e,n,t);else{let e=t,o=0;const u=function(){e=o>0?e[i[o-1]]:window,o++,o>=i.length?r(i[o-1],n,e):r(i[o-1],u,e)};u()}}("FSR",(function(){setTimeout((function(){i((function(){"function"==typeof window.fsReady&&fsReady((function(){i((function(){(function(e,n,t,i){return new Promise((function(o,r){function u(){window._uxa.push(["replay:link:generate",{withTimestamp:t},c])}function c(i){if(i&&i.replayLink&&i.isRecording){let r="https://"+i.replayLink+"&vd="+e;if(!n&&!t){const e=new URLSearchParams(r);e.set("pvid",1);const n=e.toString();r=decodeURIComponent(n)}o(r)}}e||(e="missingFromDynamicSnippet"),t||(t=!1),i?u():(window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&u()}]))}))})(a,y).then((function(e){i((function(){m=!0,e&&FSR.CPPS&&"function"==typeof FSR.CPPS.set&&FSR.CPPS.set("ContentsquareReplay",e)}),s)})),FSR.onInviteShown&&"function"==typeof FSR.onInviteShown.subscribe&&FSR.onInviteShown.subscribe((function(e){i((function(){e&&(e.uid?_("Feedback Invite Displayed","Survey ID : "+e.uid,0,t+"=feedback_invite_displayed"):_("Feedback Invite Displayed","true",0,t+"=feedback_invite_displayed"))}),s)}),!0,!0),FSR.onInviteAccepted&&"function"==typeof FSR.onInviteAccepted.subscribe&&FSR.onInviteAccepted.subscribe((function(e){i((function(){e&&(e.uid?_("Feedback Invite Submitted","Survey ID : "+e.uid,"etr",t+"=feedback_invite_submitted"):_("Feedback Invite Submitted","true","etr",t+"=feedback_invite_submitted"))}),s)}),!0,!0),FSR.onFeedbackShown&&"function"===FSR.onFeedbackShown.subscribe&&FSR.onFeedbackShown.subscribe((function(e){i((function(){_("Feedback Displayed","true",0,t+"=feedback_displayed")}),s)}),!0,!0),FSR.onFeedbackSubmitted&&"function"===FSR.onFeedbackSubmitted.subscribe&&FSR.onFeedbackSubmitted.subscribe((function(e){i((function(){e&&(e.mid?_("Feedback Submitted","Survey ID : "+e.mid,"etr",t+"=feedback_submitted"):_("Feedback Submitted","true","etr",t+"=feedback_submitted"),e.rating&&_("Feedback Rating",parseInt(e.rating)))}),s)}),!0,!0)}),s)}))}),s)}),500)}))}),s)}]);
/* integration-hotjar 3.2.2 */
!function(e){var n={};function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(i,o,function(n){return e[n]}.bind(null,o));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=2)}([function(e){e.exports=JSON.parse('{"displayName":"Hotjar","dvarPrefix":"FB_HJ_","apvPrefix":"cs_hotjar","replayKey":"hj"}')},function(e){e.exports=JSON.parse('{"name":"@contentsquare/integration-hotjar-contentsquare","version":"3.2.2","scripts":{"build:snippet":"webpack"}}')},function(e,n,t){"use strict";function i(e,n){try{e()}catch(e){window._uxa=window._uxa||[],window._uxa.push(["logSnippetError",n,e.message]),(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION ERROR: [${n}] : ${e.message}`,"color:rgb(228, 25, 45); font-weight: bold")}}function o(e,n){function t(e){return"object"==typeof e&&null!==e}if(t(window.CS_INTEGRATIONS_CONF)&&t(window.CS_INTEGRATIONS_CONF[e]))return window.CS_INTEGRATIONS_CONF[e][n]}t.r(n);let r,u=1e3,a=10;function s(e,n,t,i,c,d){var l;n&&t&&(r||(r=o(e,"timingSettings"),"object"==typeof(l=r)&&null!==l&&Object.keys(l).length&&(u=r.doOnlyWhenInterval,a=r.doOnlyWhenTimes)),void 0===(c=c)&&(c=u),void 0===(d=d)&&(d=a),--d<0?"function"==typeof i&&i():t()?n():setTimeout((function(){s(e,n,t,i,c,d)}),c))}function c(e,n){!!(window.csqDebuggerEnabled||document.location.href.indexOf("csqDebuggerEnabled=true")>-1)&&console.log(`%cCSQ INTEGRATION: [${e}] : ${n}`,"color: #2a9d8f; font-weight: bold")}var d=t(0);const l=function(e){let n,t,o,r;if(i((function(){const i=e.name;n=e.version;const u=i.replace("@contentsquare/integration-","");t=u+"-"+n;let a="-contentsquare";r=new RegExp(a+"$").test(u),o=u.replace(/-contentsquare([^-contentsquare]*)$/,"$1"),r||(a="-cap",r=new RegExp(a+"$").test(u),o=u.replace(/-cap([^-cap]*)$/,"$1"))}),"Shared-Function-readPackageJSON"),r)return{snippetBuildName:t,parameterName:o,snippetVersion:n}}(t(1)),p=l.parameterName,f=l.snippetBuildName,y=l.snippetVersion;i((function(){const e=d.displayName,n=d.dvarPrefix,t=d.apvPrefix,r=d.replayKey;var u,a;u=e,a=y,CS_CONF.integrations=CS_CONF.integrations||[],CS_CONF.integrations.push(u+" - v"+a);const l=o(p,"settings"),w=(v=l,Array.isArray(v)?l:[]);var v;const g=w.includes("sendArtificialPageviews"),m=w.includes("setReplayLinkToCurrentPV");let _=!1;function S(e,t,i,o){(function(e,n){window._uxa=window._uxa||[],window._uxa.push(["trackDynamicVariable",{key:e,value:n}])})(e=n+e,t),_&&"etr"===i&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackEventTriggerRecording","@ETS@"+e])}(e),o&&g&&function(e){window._uxa=window._uxa||[],window._uxa.push(["trackPageview",e])}(window.location.pathname+"?"+o),c(f,`Dynamic variable with ${e} and value ${t} sent`)}const h=[];window.addEventListener("hotjar-survey-event",(function(e){i((function(){if(e&&e.detail&&e.detail.event){const n=e.detail,i=n.event,o=n.surveyId;if(i&&o)if("surveyInvitationDisplayed"===i)h.includes(i+"-"+o)||(h.push(i+"-"+o),S("Survey Invitation Displayed","Survey ID : "+o,0,t+"=survey_invitation_displayed"));else if("surveyDisplayed"===i)h.includes(i+"-"+o)||(h.push(i+"-"+o),S("Survey Displayed","Survey ID : "+o,0,t+"=survey_displayed"));else if("surveySubmitted"===i){h.includes(i+"-"+o)||(h.push(i+"-"+o),S("Survey Response Submitted","Survey ID : "+o,"etr",t+"=survey_response_submitted"));const e=n.question;if(e){const t=e.type,i=e.text,r=n.questionIndex,u=n.response;let a=u[0]&&u[0].answer;"multiple-close-ended"!=t&&i&&void 0!==a&&(isNaN(a)||(a=parseInt(a)),S(o+" : "+i,a),S(o+" : Question "+(r+1),a))}const r=n.insightsUrl;r&&(h.includes(r+"-"+o)||(h.push(r+"-"+o),S("Survey Response URL",r)))}else"surveyCompleted"===i&&(h.includes(i+"-"+o)||(h.push(i+"-"+o),S("Survey Completed","Survey ID : "+o,0,t+"=survey_completed")))}}),f)})),s(p,(function(){setTimeout(()=>{i((function(){(function(e,n,t,i){return new Promise((function(o,r){function u(){window._uxa.push(["replay:link:generate",{withTimestamp:t},a])}function a(i){if(i&&i.replayLink&&i.isRecording){let r="https://"+i.replayLink+"&vd="+e;if(!n&&!t){const e=new URLSearchParams(r);e.set("pvid",1);const n=e.toString();r=decodeURIComponent(n)}o(r)}}e||(e="missingFromDynamicSnippet"),t||(t=!1),i?u():(window._uxa=window._uxa||[],window._uxa.push(["onRecordingStateChange",function(e){e&&e.isRecording&&u()}]))}))})(r,m).then((function(e){i((function(){_=!0,e&&"function"==typeof hj&&hj("identify",null,{contentsquare_replay_link:e})}),f)}))}),f)},500)}),(function(){return"function"==typeof window.hj}))}),f)}]);;
(function(){var Oe={};(function(){Oe.d=function(i,r){for(var t in r)Oe.o(r,t)&&!Oe.o(i,t)&&Object.defineProperty(i,t,{enumerable:!0,get:r[t]})}})();(function(){Oe.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(i){if(typeof window=="object")return window}}()})();(function(){Oe.o=function(i,r){return Object.prototype.hasOwnProperty.call(i,r)}})();(function(){Oe.r=function(i){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})}})();var ta={};Oe.r(ta);Oe.d(ta,{getRequestParameters:function(){return nm}});function Ar(i,r){var t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=i[window.Zone.__symbol__(r)]),t||(t=i[r]),t}var Bn=function(){return typeof window=="undefined"}();function Ff(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof Oe.g!="undefined"?Oe.g:typeof process!="undefined"?process:Function("return this")()}var Ut=function(){return Ff()}();var yu=function(){return"cs-native-frame"}(),ar=function(){return{navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}}}();window.csSetTimeout=Ar(window,"setTimeout");window.csQueueMicrotask=Ar(window,"queueMicrotask");window.csClearTimeout=Ar(window,"clearTimeout");window.csSetInterval=Ar(window,"setInterval");window.csClearInterval=Ar(window,"clearInterval");window.csFileReader=Ar(window,"FileReader");(function(){var i,r=0;function t(n){return"cs$Symbol_"+n}function e(n){return t(n)+ ++r}e.for=t,window.csSymbol=(i=window.Symbol)!==null&&i!==void 0?i:e})();function Gf(){var i=document.createElement("iframe");i.id=yu,i.setAttribute("hidden",""),i.setAttribute("title","Intentionally blank"),i.setAttribute("sandbox","allow-same-origin");var r=document.createElement("cs-native-frame-holder");r.setAttribute("hidden",""),document.body.appendChild(r);var t=!!Element.prototype.attachShadow;if(t){var e=r.attachShadow({mode:"closed"});return e.innerHTML=i.outerHTML,e.firstElementChild.contentWindow}return r.innerHTML=i.outerHTML,r.firstElementChild.contentWindow}function zf(i,r){for(var t,e=i;e&&!(t=Object.getOwnPropertyDescriptor(e,r));)e=Object.getPrototypeOf(e);return t}function qf(i,r,t){var e=zf(i,r);if(!e)return function(){return this[r]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function gu(i){var r,t;Object.keys(ar.constructors).forEach(function(e){window[ar.constructors[e]]=i[e]instanceof Function&&i[e].prototype==null?i[e].bind(window):i[e]}),Xf(i),("Prototype"in window||Yf())&&(window.csMutationObserver=(t=(r=Ar(window,"MutationObserver"))!==null&&r!==void 0?r:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),Xr("csNode",ar.nodeProperties,i.Node.prototype,"get"),Xr("csElement",ar.elementProperties,i.Element.prototype,"get"),Xr("csElement",ar.elementPropertiesValues,i.Element.prototype,"value",!1),Xr("csHTMLImageElement",ar.imageProperties,i.HTMLImageElement.prototype,"set"),Xr("csEvent",ar.eventProperties,i.Event.prototype,"get"),Xr("csNavigator",ar.navigatorProperties,i.navigator,"value")}function Xr(i,r,t,e,n){n===void 0&&(n=!0),r.forEach(function(o){var a=typeof o!="string"&&"binding"in o,s=a?o.propertyName:o;(n||s in t)&&(window["".concat(i+s)]=qf(t,s,e),a&&(window["".concat(i+s)]=window["".concat(i+s)].bind(o.binding)))})}function mu(i,r){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[i]=r}function Wf(){try{var i=Gf();return i?(window.CSPureWindow=i,gu(window.CSPureWindow),!0):!1}catch(r){return mu("Warning","failed to copy references from pure iframe: ".concat(r.message)),!1}}if(!Wf())try{gu(Ut)}catch(i){mu("Critical","failed to copy references from window: ".concat(i.message))}function Yf(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Xf(i){window.csquerySelector={1:i.Element.prototype.querySelector,9:i.Document.prototype.querySelector,11:i.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:i.Element.prototype.querySelectorAll,9:i.Document.prototype.querySelectorAll,11:i.DocumentFragment.prototype.querySelectorAll}}var Ro=function(i,r){return Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ro(i,r)};function mt(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ro(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Sr=function(){return Sr=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Sr.apply(this,arguments)};function ze(i,r,t,e){var n=arguments.length,o=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(n<3?a(o):n>3?a(r,t,o):a(r,t))||o);return n>3&&o&&Object.defineProperty(r,t,o),o}function fr(i,r,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(h){try{c(e.next(h))}catch(f){a(f)}}function u(h){try{c(e.throw(h))}catch(f){a(f)}}function c(h){h.done?o(h.value):n(h.value).then(s,u)}c((e=e.apply(i,r||[])).next())})}function pr(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return u([c,h])}}function u(c){if(e)throw new TypeError("Generator is already executing.");for(;t;)try{if(e=1,n&&(o=c[0]&2?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(i,t)}catch(h){c=[6,h],n=0}finally{e=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function dt(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function yt(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,o=[],a;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(a)throw a.error}}return o}function Er(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))}var gt=function(){var i;return function(r){r.ELLIPSIS="\u2026";function t(a){return csString.prototype.replace.call(a,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(a){return csString.prototype.replace.call(a,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}r.escapeInvalidCharacters=e;function n(a,s,u){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(a,s,u);var c=new csRegExp(t(s),"g");return csString.prototype.replace.call(a,c,u)}r.stringReplaceAll=n;function o(a,s,u){return u===void 0&&(u=""),a.length<=s?a:csString.prototype.slice.call(a,0,s-u.length)+u}r.truncate=o}(i||(i={})),i}();function Co(i){return gt.escapeInvalidCharacters(csString.prototype.toLowerCase.call(i.localName))}function Kf(i){var r=i.getAttribute("id");return r&&gt.escapeInvalidCharacters(r)}function Ie(i){return ot(i)&&(typeof i=="number"||i instanceof Number)&&!isNaN(i)}function qe(i){return i===parseInt(i,10)}function J(i){return ot(i)&&(typeof i=="string"||i instanceof csString)}function Io(i){return typeof i=="boolean"}function ue(i){return typeof i=="object"}function ot(i){return typeof i!="undefined"}function Ht(i){return ot(i)&&i!==null}function Jf(i,r,t){return qe(i)&&i>=r&&i<=t}function Qf(i){for(var r in i)return!1;return!0}function ce(i){return typeof i=="function"}function Fn(i){return i instanceof Element}function wr(i){return i instanceof Error}function Zf(i){for(var r=i.length,t=0;t<r;t++)switch(csString.prototype.charCodeAt.call(i,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}function Et(i){return i.nodeType===1}function _i(i){return i.nodeType===3}function $f(i){return i.nodeType===8}function Su(i){return Et(i)&&i.localName==="link"}function tp(i){return Et(i)&&i.localName==="source"}function Eu(i){return Et(i)&&i.localName==="a"}function wu(i){return Su(i)&&csString.prototype.indexOf.call(i.rel,"stylesheet")!==-1}function ep(i){return Et(i)&&i.localName==="img"}function ea(i){return Et(i)&&i.localName==="style"}function Ni(i){return Et(i)&&i.localName==="input"}function ra(i){return Et(i)&&i.localName==="textarea"}function Mi(i){return Et(i)&&i.localName==="script"}function rp(i){return Et(i)&&i.localName==="button"}function fn(i){return Et(i)&&"ownerSVGElement"in i}function na(i){return Et(i)&&i.localName==="select"}function np(i){return Et(i)&&i.localName==="details"}function ip(i){return Et(i)&&i.localName==="summary"}function op(i){return fn(i)&&i.localName==="image"}function ap(i){return fn(i)&&i.localName==="use"}function sp(i){return fn(i)&&i.localName==="feImage"}function up(i){switch(i.nodeType){case 9:case 11:return!0;default:return!1}}function cp(i){switch(i.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function bi(i){return i.nodeType===9}function nn(i){return up(i)&&"host"in i&&"mode"in i}function _u(i){return Et(i)&&!!csElementshadowRoot.apply(i)&&nn(csElementshadowRoot.apply(i))}var lp=function(){return["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]}();function hp(i){return Et(i)&&Ht(i.tagName)&&csString.prototype.indexOf.call(i.tagName,"-")>0&&csString.prototype.indexOf.call(i.tagName,":")===-1&&csString.prototype.indexOf.call(i.tagName,'"')===-1&&csString.prototype.indexOf.call(i.tagName,",")===-1&&csArray.prototype.indexOf.call(lp,csString.prototype.toLocaleLowerCase.call(i.tagName))<0}var Gn=function(){return"detached"}();function bu(i){for(var r=i,t=[r];csNodeparentNode.apply(r)!==null;)r=csNodeparentNode.apply(r),csArray.prototype.push.call(t,r);return Ai(r)&&csArray.prototype.push.call(t,Gn),{ancestors:t,selectionRoot:r}}function fp(i){for(var r=i,t=[r],e=null;csNodeparentNode.apply(r)!==null;)e===null&&Eu(r)&&(e=r),csArray.prototype.push.call(t,csNodeparentNode.apply(r)),r=csNodeparentNode.apply(r);return Ai(r)&&csArray.prototype.push.call(t,Gn),{firstAnchorParent:e,ancestors:t,selectionRoot:r}}function Ai(i){return Me.isValidElement(i)}var xr=function(){var i,r;return(r=(i=Ut.Element)===null||i===void 0?void 0:i.prototype)!==null&&r!==void 0?r:{}}(),le=function(){return xr.matches||xr.matchesSelector||xr.mozMatchesSelector||xr.msMatchesSelector||xr.oMatchesSelector||xr.webkitMatchesSelector}(),os=function(){return xr.closest}(),Au=function(){return 9}();function pp(i,r){return r?csArray.prototype.some.call(r,function(t){return le.call(i,t)}):!1}function dp(i,r,t){if(i===Gn||i.nodeType===Au)return 0;for(var e=t.dynamicElementNameRegex,n=!!(e!=null&&e.test(r.localName)),o=Co(r),a=0,s=r.previousElementSibling;s;){var u=Co(s);(u===o||n&&(e!=null&&e.test(s.localName)))&&!pp(s,t.reliableSelectors)&&(a+=1),s=s.previousElementSibling}return a}function vp(i,r,t){if(i===Gn||i.nodeType===Au)return 0;for(var e=0,n=r.previousElementSibling;n;)le.call(n,t)&&(e+=1),n=n.previousElementSibling;return e}var yp=function(){return[/\d{4}/,/^ember\d+$/]}(),gp=function(){return"@"}(),ia=function(){return"data-cs-override-id"}(),mp=function(){return"data-cs-dynamic-id"}();function Tu(i,r,t,e){var n=e.dynamicIdRegex||null,o=e.dynamicElementNameRegex,a=Co(i);if(o){var s=o.test(i.localName);s&&(a=csString.prototype.replace.call(a,o,"$1".concat(gp)))}if(wp(i,t)){var u=oa(i);return{hasUniqueIdentifier:!0,elementSelector:"".concat(a,"[").concat(ia,'="').concat(u,'"]')}}var c=Ip(i,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:"".concat(a,"#UA[").concat(c.attributeName,'="').concat(c.attributeValue,'"]')};var h=Sp(i,t,e);if(h)return{hasUniqueIdentifier:!0,elementSelector:"".concat(a,"#UCS[").concat(h,"]")};var f=Kf(i);if(bp(i,f,t,n))return{hasUniqueIdentifier:!0,elementSelector:"".concat(a,"#").concat(f)};var p=Ep(i,e);if(p){var d=vp(r,i,p);return{hasUniqueIdentifier:!1,elementSelector:"".concat(a,"[").concat(p,"](").concat(d,")")}}var m=dp(r,i,e);return{hasUniqueIdentifier:!1,elementSelector:"".concat(a,":eq(").concat(m,")")}}function Sp(i,r,t){var e,n;if(t.uniqueCssSelectors)try{for(var o=dt(t.uniqueCssSelectors),a=o.next();!a.done;a=o.next()){var s=a.value;if(le.call(i,s)&&Cp(s,r))return s}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}function Ep(i,r){var t,e;if(r.reliableSelectors)try{for(var n=dt(r.reliableSelectors),o=n.next();!o.done;o=n.next()){var a=o.value;if(le.call(i,a))return a}}catch(s){t={error:s}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}}function wp(i,r){var t=oa(i);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&aa(ia,t,r)}function _p(i){return oa(i)!==null}function oa(i){return i.getAttribute(ia)}function bp(i,r,t,e){return r&&!_p(i)&&!Ap(i,r,e)&&Rp(r,t)}function Ap(i,r,t){return i.hasAttribute(mp)||Tp(r,t)}function Tp(i,r){var t=!1;return i&&r&&(t=r.test(i)),i&&(csArray.prototype.some.call(yp,function(e){return e.test(i)})||t)}function Rp(i,r){return i&&aa("id",i,r)}function aa(i,r,t){try{return window.csquerySelectorAll[t.nodeType].call(t,"[".concat(i,'="').concat(r,'"]')).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function Cp(i,r){try{return window.csquerySelectorAll[r.nodeType].call(r,i).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function Ip(i,r,t){var e,n;if(!t.uniqueAttributes)return{success:!1};try{for(var o=dt(t.uniqueAttributes),a=o.next();!a.done;a=o.next()){var s=a.value,u=i.getAttribute(s);if(u!==null){var c=aa(s,u,r);if(c)return{attributeName:s,attributeValue:u,success:!0}}}}catch(h){e={error:h}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{success:!1}}var Po=function(){return 11}();function Ti(i,r,t){var e=function(){return csArray.prototype.shift.call(i)}();if(i.length===0)return as(e,t);var n=e,o=i[0],a=Tu(n,o,r,t),s=a.elementSelector,u=a.hasUniqueIdentifier;if(!t.fullPath&&u){var c=i[i.length-1];return"".concat(as(c,t)).concat(s)}var h=Ti(i,r,t);return"".concat(h?"".concat(h,">"):"").concat(s)}function as(i,r){if(i===Gn)return"|detached|";if(i.host){var t=bu(i.host),e=t.ancestors,n=t.selectionRoot;return"".concat(Ti(e,n,r),"|shadow-root|")}return i.nodeType===Po?"|fragment|":""}var Ru=function(){var i=function(){function r(t){this.options=t,this.done=!1,this.path=null}return r.prototype.getPath=function(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path},r.prototype.isDone=function(){return this.done},r}();return i}(),Pp=function(){var i=function(r){mt(t,r);function t(){var e=r.apply(this,Er([],yt(arguments),!1))||this;return e.sa=!1,e.ua=!1,e.$s=!1,e}return t.prototype.Gy=function(e,n){return this.sa&&!(n===null&&Ai(e))&&e.nodeType!==Po&&!e.host},t.prototype.zy=function(e){return!e.localName},t.prototype.serializeElement=function(e,n,o){var a;if((a=this.path)!==null&&a!==void 0||(this.path=""),!this.Gy(e,n)){var s=!1;n===null&&Ai(e)&&(s=!0,this.done=!0);var u=this.ua&&!this.options.fullPath?"":">",c=!!e.host;if(c&&this.path&&(this.path="|shadow-root|"+u+this.path,this.$s=!0,this.sa=!1,this.ua=!1),!c&&n===null&&e.nodeType===Po){this.path="|fragment|"+u+this.path,this.done=!0;return}if(!this.zy(e)){var h=n!=null?n:"detached",f=Tu(e,h,o,this.options),p=f.elementSelector,d=f.hasUniqueIdentifier;d&&(this.ua=!0,this.sa=!this.options.fullPath);var m="".concat(s?"|detached|".concat(u):"").concat(this.sa&&!d?"":p),w=!d&&this.ua&&!this.options.fullPath,E=w?"":this.path&&!this.$s?">":"";this.$s=!1,this.path="".concat(m).concat(E).concat(this.path)}}},t}(Ru);return i}(),Oo=function(i,r){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Oo(i,r)};function xi(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Oo(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var Lr=function(){return Lr=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},Lr.apply(this,arguments)};function Op(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function _t(i,r,t,e){var n=arguments.length,o=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(n<3?a(o):n>3?a(r,t,o):a(r,t))||o);return n>3&&o&&Object.defineProperty(r,t,o),o}function Ae(i,r,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(h){try{c(e.next(h))}catch(f){a(f)}}function u(h){try{c(e.throw(h))}catch(f){a(f)}}function c(h){h.done?o(h.value):n(h.value).then(s,u)}c((e=e.apply(i,r||[])).next())})}function ge(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return u([c,h])}}function u(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,n&&(o=c[0]&2?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(i,t)}catch(h){c=[6,h],n=0}finally{e=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ie(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,o=[],a;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(a)throw a.error}}return o}function _r(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))}function ne(i,r){r===void 0&&(r=Yt.SHOW_ALL);var t=r|Yt.SHOW_ELEMENT,e=[document.createTreeWalker(i,t,null,!1)],n=ss(i);n&&csArray.prototype.push.call(e,document.createTreeWalker(n,t,null,!1));var o=null;return{root:i,nextNode:function(){if(n){var a=n;return n=null,a}for(;e.length>0;){if(o){var a=o;return o=null,a}var s=e[e.length-1],u=s.nextNode();if(!u){csArray.prototype.pop.call(e);continue}var c=ss(u);if(r&Yt.SHOW_DOCUMENT_FRAGMENT&&c&&(o=c),c&&csArray.prototype.push.call(e,document.createTreeWalker(c,t,null,!1)),(ro[u.nodeType]&r)!==0)return u}return null},visitAll:function(a){ro[i.nodeType]&r&&a(i);for(var s=this.nextNode();s;){if((ro[s.nodeType]&r)===0){s=this.nextNode();continue}a(s),s=this.nextNode()}},collectAll:function(a){var s=[];return this.visitAll(function(u){return csArray.prototype.push.call(s,a?a(u):u)}),s}}}function ss(i){return i&&_u(i)?i.shadowRoot:null}var eo=function(){var i;return(i=Ut.Node)!==null&&i!==void 0?i:{}}(),Yt=function(){var i;return(i=Ut.NodeFilter)!==null&&i!==void 0?i:{}}(),ro=function(){var i;return i={},i[2]=Yt.SHOW_ATTRIBUTE,i[4]=Yt.SHOW_CDATA_SECTION,i[8]=Yt.SHOW_COMMENT,i[11]=Yt.SHOW_DOCUMENT_FRAGMENT,i[9]=Yt.SHOW_DOCUMENT,i[10]=Yt.SHOW_DOCUMENT_TYPE,i[1]=Yt.SHOW_ELEMENT,i[eo.ENTITY_NODE]=Yt.SHOW_ENTITY,i[eo.ENTITY_REFERENCE_NODE]=Yt.SHOW_ENTITY_REFERENCE,i[eo.NOTATION_NODE]=Yt.SHOW_NOTATION,i[7]=Yt.SHOW_PROCESSING_INSTRUCTION,i[3]=Yt.SHOW_TEXT,i}(),bt=function(){return{debug:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r]},warn:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r]},implementation:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r]},error:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r]},critical:function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r]},isPerfLoggingActive:function(){return!1}}}();function Np(i){bt=i}var B=function(){return function(i){return function(r,t,e){var n=(t==null?void 0:t.toString())||"",o=i||"".concat(r.constructor&&r.constructor.name,".").concat(n);if(e){var a=e.value;e.value=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return br(o,a.bind(this)).apply(void 0,_r([],Se(s),!1))}}}}}();function br(i,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{var n=r.apply(this,t);return ot(window.Promise)&&n instanceof window.Promise?n.then(function(o){return o},function(o){return bt.error(wr(o)?o:new Error(o),i)}):n}catch(o){try{bt.error(wr(o)?o:new Error(o),i)}catch(a){}}}}var pn=function(){var i=function(){function r(){this.ca=0}return Object.defineProperty(r.prototype,"length",{get:function(){return this.ca},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return!this.Pr},enumerable:!1,configurable:!0}),r.prototype.pushAll=function(t){for(var e=0;e<t.length;e++)this.push(t[e])},r.prototype.push=function(t){this.ca++,this.Hi?this.Hi=this.Hi[1]=[t,void 0]:this.Hi=this.Pr=[t,void 0]},r.prototype.pop=function(){if(!this.Pr)return null;this.ca--;var t=this.Pr[0];return this.Pr=this.Pr[1],this.Pr||(this.Hi=void 0),t},r.prototype.forEach=function(t){for(var e=this.Pr;e!=null&&e.length;)t(e[0]),e=e[1]},r.prototype.clear=function(){this.ca=0,this.Pr=this.Hi=void 0},r}();return i}(),Cu=function(){return 50}(),Iu=function(){return .1}();function Mp(){var i;if(!(!((i=window.performance)===null||i===void 0)&&i.mark))return!1;var r="isPerformanceMeasureSupported",t="".concat(r,"_a");return performance.mark(t),performance.measure(r,t)!==void 0}var Ri=function(){return!1}(),gi=function(){return new pn}();function xp(i,r){i===void 0&&(i=50),r===void 0&&(r=.1),Ri=bt.isPerfLoggingActive()&&Mp(),Ri&&(Cu=i,Iu=r)}var No=function(){return[]}(),no=function(){return[]}();function Pu(i){csArray.prototype.push.call(No,i),performance.mark("".concat(i,"-start"))}function Ou(i){var r=performance.measure(i,"".concat(i,"-start"));if(r){var t=r.duration;t>=Iu&&csArray.prototype.push.call(no,{mName:i,mDuration:+t.toFixed(2)}),csArray.prototype.pop.call(No),No.length===0&&(t>Cu&&gi.push(no),no=[])}}function Hr(i,r){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!Ri)return i.apply(this,t);Pu(r);var n=i.apply(this,t);return Ou(r),n}}var Jt=function(){return function(i){return function(r,t,e){var n=e.value;e.value=function(){if(!Ri)return e.value=n,n.apply(this,arguments);Pu(i);var o=n.apply(this,arguments);return Ou(i),o}}}}();var Ur=function(){var i;return function(r){function t(){return!!Element.prototype.attachShadow}r.isSupported=t;function e(o){return o&&_u(o)?o.shadowRoot:null}r.getShadowRoot=e;function n(o){return ne(o,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(function(a){return a.host})}r.getAllShadowHosts=Hr(n,"getAllShadowHosts")}(i||(i={})),i}(),Ot=function(){var i;return function(r){function t(){var f=[n()];return document.documentElement&&csArray.prototype.push.call(f,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(f,document.body.scrollHeight,document.body.offsetHeight),Math.max.apply(Math,_r([],Se(f),!1))}r.documentHeight=t;function e(){return document.documentElement.scrollWidth}r.documentWidth=e;function n(){return window.innerHeight}r.windowHeight=n;function o(){return window.innerWidth}r.windowWidth=o;function a(){var f=window.csScreen.width;return qe(f)&&f>0?f:window.screen.width}r.screenWidth=a;function s(){var f=window.csScreen.height;return qe(f)&&f>0?f:window.screen.height}r.screenHeight=s;function u(){return window.pageXOffset}r.windowOffsetX=u;function c(){return window.pageYOffset}r.windowOffsetY=c;function h(){return{dw:"".concat(e()),dh:"".concat(t()),ww:"".concat(o()),wh:"".concat(n()),sw:"".concat(a()),sh:"".concat(s())}}r.getRequestParameters=h}(i||(i={})),i}();function on(i){for(var r,t=(r=i.length)!==null&&r!==void 0?r:0,e=function(){return new csArray(t)}(),n=0;n<t;n+=1)e[n]=i[n];return e}function Ne(i,r){for(var t=i.length,e=function(){return new csArray(t)}(),n=0;n<t;n+=1)e[n]=r(i[n]);return e}function kp(i,r,t){for(var e=[],n=0,o=0;o<i.length;o+=1)for(var a=r(i[o]),s=0;s<a.length;s++)t(a[s],n++);return e}function Nu(i,r){var t=[];return kp(i,r,function(e){return csArray.prototype.push.call(t,e)}),t}function rt(i,r){if(Dp(i))for(var t=i.length,e=0;e<t;e++)r(i[e],e);else for(var n=0,o=i.next();!o.done;)r(o.value,n++),o=i.next()}function Dp(i){return i.length>=0}function Fe(i,r){for(var t=i.length,e=0;e<t;e++)if(r(i[e],e))return i[e]}function Mo(i,r){for(var t=i.length,e=0;e<t;e++)if(r(i[e],e))return!0;return!1}function Lp(i,r){for(var t=i.length,e=0;e<t;e++)if(!r(i[e],e))return!1;return!0}function sa(i,r){for(var t=i.length,e=[],n=0;n<t;n+=1){var o=i[n];r(o)&&csArray.prototype.push.call(e,o)}return e}function Up(i,r,t){for(var e=i.length+r.length+((t==null?void 0:t.length)||0),n=function(){return new csArray(e)}(),o=0,a=0;a<i.length;a++)n[o++]=i[a];for(var a=0;a<r.length;a++)n[o++]=r[a];if(!t)return n;for(var a=0;a<t.length;a++)n[o++]=t[a];return n}function us(i,r){for(var t=0;t<i.length;t++)csArray.prototype.push.call(r,i[t])}function dn(i){var r=i instanceof Map,t=[];return i.forEach(function(e,n){return csArray.prototype.push.call(t,r?[n,e]:e)}),t}var io=function(){var i;return(i=Ut.Node)!==null&&i!==void 0?i:Object}(),It=function(){var i;return function(r){var t="isConnected"in io.prototype?function(T){return T.isConnected}:function(T){return!T.ownerDocument||!(T.ownerDocument.compareDocumentPosition(T)&T.DOCUMENT_POSITION_DISCONNECTED)};function e(T,P){for(var L=T;L;L=csNodenextSibling.apply(L))P(T)}r.forEachChild=e;function n(T){return t(T)}r.isConnected=n;function o(T,P){var L,Y,G=[];try{for(var at=ie(u(T,P)),St=at.next();!St.done;St=at.next()){var Tt=St.value;csArray.prototype.push.call(G,Tt)}}catch(zt){L={error:zt}}finally{try{St&&!St.done&&(Y=at.return)&&Y.call(at)}finally{if(L)throw L.error}}return G}r.getAncestors=o;var a=function(T,P){var L;return(L=csNodeparentNode.apply(T))!==null&&L!==void 0?L:P&&nn(T)?T.host:null};function s(T,P,L){L===void 0&&(L=!1);for(var Y=T;Y;){if(P(Y))return Y;var G=a(Y,L);if(G&&G!==Y)Y=G;else break}return null}r.findAncestor=s;function u(T,P){var L,Y;return P===void 0&&(P=!1),ge(this,function(G){switch(G.label){case 0:L=T,G.label=1;case 1:return L?[4,L]:[3,3];case 2:if(G.sent(),Y=a(L,P),Y&&Y!==L)L=Y;else return[3,3];return[3,1];case 3:return[2]}})}r.walkUp=u;function c(T,P){if(T===P||P.contains(T))return!0;var L=r.getParentElement(T);return L&&L!==T?c(L,P):!1}r.isDescendantOf=c;function h(T){var P;return T.parentElement?T.parentElement:r.getRootNode(T)?(P=r.getRootNode(T))===null||P===void 0?void 0:P.host:null}r.getParentElement=h;function f(T,P){var L,Y,G;P===void 0&&(P=document);var at=on(window.csquerySelectorAll[P.nodeType].call(P,T)),St=Ur.getAllShadowHosts(P);try{for(var Tt=ie(St),zt=Tt.next();!zt.done;zt=Tt.next()){var Le=zt.value,Tr=Ur.getShadowRoot(Le);if(Tr){var pe=on(window.csquerySelectorAll[Tr.nodeType].call(Tr,T));(G=csArray.prototype.push).call.apply(G,_r([at],Se(pe),!1))}}}catch(Ue){L={error:Ue}}finally{try{zt&&!zt.done&&(Y=Tt.return)&&Y.call(Tt)}finally{if(L)throw L.error}}return at}r.findAllElements=f,r.getRootNode=function(){if("getRootNode"in io.prototype)return function(L,Y){return L.getRootNode(Y)};function T(L){var Y=P(L);return nn(Y)?T(Y.host):Y}function P(L){return csNodeparentNode.apply(L)!=null?P(csNodeparentNode.apply(L)):L}return function(L,Y){var G=typeof Y=="object"&&!!Y.composed;return G?T(L):P(L)}}();function p(T){return T==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(T)}function d(T){var P=T.getBoundingClientRect();return P.right+Ot.windowOffsetX()<0||P.bottom+Ot.windowOffsetY()<0}function m(T){var P,L;if(((P=T.checkVisibility)===null||P===void 0?void 0:P.call(T,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!T.offsetParent){if(!T.getBoundingClientRect)return bt.warn("SUP-11432: Element doesn't have getBoundingClientRect. Node: ".concat(T instanceof io," Ctor: ").concat((L=T==null?void 0:T.constructor)===null||L===void 0?void 0:L.name)),!1;var Y=T.getBoundingClientRect();if(Y.width==0&&Y.height==0)return!0}var G=window.getComputedStyle(T);if(!G)return!0;var at=G.display==="none"||G.visibility==="hidden"||G.visibility==="collapse"||G.opacity==="0"||G.filter==="opacity(0)"||G.width==="0px"&&G.height==="0px"||p(G.color);return at}r.isHiddenByCSS=m;function w(T){var P=m(T);if(P)return!0;var L=h(T);return L!=null&&w(L)}r.areAncestorsHiddenByCSS=w;function E(T){var P=null,L=T;do if(m(L))P=L;else break;while(L=h(L));return P}r.getTopAncestorHiddenByCSS=E;function _(T){var P=b(T);return P!==null&&!T.contains(P)&&!P.contains(T)}function b(T){var P=T.getBoundingClientRect(),L=P.left+.5*P.width,Y=P.top+.5*P.height;return A(document,L,Y)}r.getTopElement=b;function R(T){if(!T.getBoundingClientRect)return null;var P=T.getBoundingClientRect(),L=P.x+P.width/2,Y=P.y+P.height/2;return r.getTopElementFromPoint(document,L,Y)}r.getElementOnTop=R;function A(T,P,L){var Y=T.elementFromPoint(P,L);if(!Y)return null;var G=Ur.getShadowRoot(Y);return G&&G!=r.getRootNode(document.body)&&G!==T?A(G,P,L):Y}r.getTopElementFromPoint=A;function I(T){return!d(T)&&!m(T)&&!_(T)}r.isVisibleInDocument=I;function U(T){return m(T)?!1:N(T)}r.isVisibleInViewportInForeground=U;function N(T){var P=b(T);return P===null?!1:T===P?!0:W(T)?T.textContent!==""&&P.contains(T):T.contains(P)}r.isInViewPort=N;function q(T,P,L){var Y=T.getAttributeNS(P,L);return Y===""?T.hasAttributeNS(P,L)?Y:null:Y}r.getAttributeNS=q;function $(T){if(T.hasAttribute("tabIndex"))return!0;var P=T.getAttribute("contentEditable");return!!(P==="true"||Eu(T)&&T.hasAttribute("href")||(na(T)||ra(T)||Ni(T)||rp(T))&&!T.hasAttribute("disabled")||np(T)||ip(T))}r.isElementFocusable=$;function W(T){return T.localName==="span"||T.localName==="a"||T.localName==="b"||T.localName==="i"||T.localName==="button"||T.localName==="input"||T.localName==="label"||T.localName==="cite"||T.localName==="small"||T.localName==="strong"||T.localName==="code"||T.localName==="abbr"||T.localName==="em"||T.localName==="dfn"||T.localName==="time"||T.localName==="output"||T.localName==="object"||T.localName==="sub"}r.isInlineElement=W}(i||(i={})),i}(),Vp=function(){var i=function(){function r(t){this.qy=t}return r.prototype.run=function(t){for(var e=Er([],yt(this.qy),!1),n=It.getAncestors(t,!1),o=n[n.length-1];e.length>0&&n.length>0;){var a=csArray.prototype.shift.call(n),s=n[0]||null;if(this.Wy(e,a,s,o),this.Yy(e),e.length===0)break;n.length===0&&a.host&&(n=It.getAncestors(a.host,!1),o=n[n.length-1])}},r.prototype.Wy=function(t,e,n,o){var a,s;try{for(var u=dt(t),c=u.next();!c.done;c=u.next()){var h=c.value;h.serializeElement(e,n,o)}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},r.prototype.Yy=function(t){for(var e=0;e<t.length;e++){var n=t[e];n.isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}},r}();return i}(),jp=function(){var i=function(r){mt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.serializeElement=function(e){var n;if((n=this.path)!==null&&n!==void 0||(this.path=""),!((e==="detached"||e.localName==="body")&&(this.done=!0,this.path.length>0))){var o=this.Xy(e);if(o+=o.length>0?"|":"",this.path.length+o.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=o+this.path}},t.prototype.Xy=function(e){if(!e.localName)return"";var n="@".concat(e.localName,";");return n+=this.Ky(e.id),e.classList&&(n+=this.Jy(csArray.from(e.classList))),e.attributes&&(n+=this.Qy(e)),n},t.prototype.Ky=function(e){return e?"#".concat(e,";"):""},t.prototype.Jy=function(e){return e.length>0?".".concat(csArray.prototype.join.call(csArray.prototype.sort.call(e),";."),";"):""},t.prototype.Zy=function(e,n){var o,a;return((a=(o=this.options).isAttributeSensitive)===null||a===void 0?void 0:a.call(o,e,n))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,n)!==-1||fn(e)&&csString.prototype.indexOf.call(n,"data-")===-1&&n!=="aria-label"||Ni(e)&&n==="value"},t.prototype.$y=function(e,n){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(e)||n.length>this.options.attrMaxLength},t.prototype.tg=function(e){var n,o,a={};try{for(var s=dt(csArray.from(e.attributes)),u=s.next();!u.done;u=s.next()){var c=u.value;this.Zy(e,c.name)||(a[c.name]=c.value)}}catch(h){n={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return a},t.prototype.Qy=function(e){var n=this,o,a;if(!((a=(o=this.options).isNodeSensitive)===null||a===void 0)&&a.call(o,e))return"";var s=Object.entries(this.tg(e));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(s,function(u){var c=yt(u,1),h=c[0];return h.length<n.options.attrMaxLength}),function(u){var c=yt(u,2),h=c[0],f=c[1];return n.$y(h,f)?"[".concat(h,"]"):"[".concat(h,"=").concat(f,"]")})),";")+(s.length>0?";":"")},t}(Ru);return i}(),Me=function(){var i;return function(r){r.INVALID_ELEMENT="INVALID_ELEMENT";function t(s){return!!s&&"localName"in s&&"getAttribute"in s&&"hasAttribute"in s&&"parentNode"in s}r.isValidElement=t;function e(s,u,c){c===void 0&&(c={fullPath:!1,dynamicIdRegex:null});var h=a(s);if(h===document)return{path:"",hierarchy:""};if(!t(h))return{path:r.INVALID_ELEMENT,hierarchy:r.INVALID_ELEMENT};var f=new Pp(c),p=new jp(u),d=new Vp([f,p]);return d.run(h),{path:f.getPath(),hierarchy:p.getPath()}}r.getElementPathAndHierarchy=e;function n(s,u){u===void 0&&(u={fullPath:!1,dynamicIdRegex:null});var c=a(s);if(c===document)return"";if(!t(c))return r.INVALID_ELEMENT;var h=bu(c),f=h.ancestors,p=h.selectionRoot;return Ti(f,p,u)}r.getElementPath=n;function o(s,u){u===void 0&&(u={fullPath:!1,dynamicIdRegex:null});var c=a(s);if(c===document)return{path:"",firstAnchorParent:null};if(!t(c))return{path:r.INVALID_ELEMENT,firstAnchorParent:null};var h=fp(c),f=h.firstAnchorParent,p=h.ancestors,d=h.selectionRoot,m=Ti(p,d,u);return{path:m,firstAnchorParent:f}}r.getElementPathAndFirstAnchorParent=o;function a(s){return s&&"jquery"in s&&s.length===1?s[0]:s}}(i||(i={})),i}();window.CSPathComputation=window.CSPathComputation||Me;var Hp=function(){return Number.MAX_SAFE_INTEGER||9007199254740991}();function cs(){}function We(i,r){return csString.prototype.lastIndexOf.call(i,r,0)===0}function Bp(i,r){return csString.prototype.indexOf.call(i,r,i.length-r.length)!==-1}var ua=function(){return 34164e6}(),Ye=function(){return{percentage:function(){return Math.floor(Math.random()*1e4)/100},boolean:function(i){return this.percentage()<i},integer:function(i){return i===void 0&&(i=Hp),Math.floor(Math.random()*i)}}}(),oo=function(){return csSymbol("cachedJson")}();function Fp(i){if(i[oo])return i[oo];if(csArray.isArray(i)){if(i.length===0)return"[]";for(var r="["+an(i[0]),t=1;t<i.length;t++)r+=","+an(i[t]);return r+="]"}return i[oo]=csJSON.stringify(i)}var an=function(){return typeof window.Symbol!="undefined"?Fp:csJSON.stringify}();var ft=function(){var i;return function(r){r.debug="debug",r.warn="warn",r.implementation="implementation",r.error="error",r.critical="critical"}(i||(i={})),i}(),Mu=function(){return["t.contentsquare.net","clicktale"]}(),Gp=function(){return function(i){var r;if(typeof i.filename=="string"&&csArray.prototype.some.call(Mu,function(e){return csString.prototype.indexOf.call(i.filename,e)>-1})&&!(csString.prototype.indexOf.call(i.filename,"blob")>-1&&(i.message==null?void 0:csString.prototype.indexOf.call(i.message,"importScripts"))>-1)){var t=new Error(i.message);t.stack=(r=i.error)===null||r===void 0?void 0:r.stack,F.critical(t)}}}();window.addEventListener("error",Gp);var F=function(){var i=function(){function r(){}return r.whiteListFilename=function(t){csArray.prototype.push.call(Mu,t)},r.setStrategy=function(t){r.Xn=t},r.computeIsActive=function(t){r.De=Ye.boolean(t),r.De?r.tu=Ye.boolean(10):r.tu=!1},r.isLoggingActive=function(){return r.De},r.getStrategy=function(){return r.Xn},r.debug=function(t,e){e===void 0&&(e=""),r.De&&this.Xn.send(t,e,ft.debug)},r.warn=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n="");var o;r.De&&e&&this.Xn.send(t,n,ft.warn),(o=window.UXAnalytics.Console)===null||o===void 0||o.warn(t)},r.implementation=function(t,e){e===void 0&&(e=""),r.De&&this.Xn.send(t,e,ft.implementation)},r.error=function(t,e){e===void 0&&(e="");var n;r.De&&this.Xn.send(t,e,ft.error),(n=window.UXAnalytics.Console)===null||n===void 0||n.error(t)},r.critical=function(t,e){e===void 0&&(e=""),this.Xn.send(t,e,ft.critical)},r.tryToExecute=function(t,e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];try{var a=e.apply(this,n);return ot(window.Promise)&&a instanceof window.Promise?a.then(function(s){return s},function(s){return r.error(wr(s)?s:new Error(s),t)}):a}catch(s){try{r.error(wr(s)?s:new Error(s),t)}catch(u){}}}},r.isPerfLoggingActive=function(){return r.tu},r}();return i.De=!1,i.tu=!1,i}();var xo=function(i,r){return xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},xo(i,r)};function Q(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");xo(i,r);function t(){this.constructor=i}i.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}var k=function(){return k=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}return r},k.apply(this,arguments)};function zp(i,r){var t={};for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&r.indexOf(e)<0&&(t[e]=i[e]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(i);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(i,e[n])&&(t[e[n]]=i[e[n]]);return t}function X(i,r,t,e){var n=arguments.length,o=n<3?r:e===null?e=Object.getOwnPropertyDescriptor(r,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(i,r,t,e);else for(var s=i.length-1;s>=0;s--)(a=i[s])&&(o=(n<3?a(o):n>3?a(r,t,o):a(r,t))||o);return n>3&&o&&Object.defineProperty(r,t,o),o}function Kt(i,r,t,e){function n(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(h){try{c(e.next(h))}catch(f){a(f)}}function u(h){try{c(e.throw(h))}catch(f){a(f)}}function c(h){h.done?o(h.value):n(h.value).then(s,u)}c((e=e.apply(i,r||[])).next())})}function Gt(i,r){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},e,n,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(c){return function(h){return u([c,h])}}function u(c){if(e)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(t=0)),t;)try{if(e=1,n&&(o=c[0]&2?n.return:c[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,c[1])).done)return o;switch(n=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,n=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){t.label=c[1];break}if(c[0]===6&&t.label<o[1]){t.label=o[1],o=c;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(c);break}o[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(i,t)}catch(h){c=[6,h],n=0}finally{e=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function D(i){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&i[r],e=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&e>=i.length&&(i=void 0),{value:i&&i[e++],done:!i}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function it(i,r){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var e=t.call(i),n,o=[],a;try{for(;(r===void 0||r-- >0)&&!(n=e.next()).done;)o.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(t=e.return)&&t.call(e)}finally{if(a)throw a.error}}return o}function Ct(i,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,o;e<n;e++)(o||!(e in r))&&(o||(o=Array.prototype.slice.call(r,0,e)),o[e]=r[e]);return i.concat(o||Array.prototype.slice.call(r))}var qp=function(){return/^\d+\.\d+(?:\.\d+)?$/}(),Wp=function(){return function(i){if(qp.test(i)){var r=it(csArray.prototype.map.call(csString.prototype.split.call(i,"."),Number),3),t=r[0],e=r[1],n=r[2];return{major:t,minor:e,patch:!n||Number.isNaN(n)?0:n}}}}(),Yp=function(){return function(i,r){return i.major!==r.major?i.major-r.major:i.minor!==r.minor?i.minor-r.minor:i.patch-r.patch}}(),Xp=function(){return function(i,r){return Yp(i,r)>=0}}(),Kp=function(){return 1}(),Jp=function(){return"f553e78fb58e051e51fe8074c4c6e73e"}(),ko=function(){var i;return function(r){r[r.Disabled=0]="Disabled",r[r.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",r[r.Enabled=2]="Enabled"}(i||(i={})),i}(),Qp=function(){var i=function(){function r(t){var e,n,o,a,s,u,c,h,f,p,d,m;this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||ua,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((a=(n=t.collectionEnabled)!==null&&n!==void 0?n:(o=t.smbConfig)===null||o===void 0?void 0:o.record)!==null&&a!==void 0)||a),this.useSentry=!!((s=t.useSentry)!==null&&s!==void 0?s:!((u=t.smbConfig)===null||u===void 0)&&u.useSentry),this.apiErrors=k({enabled:(c=t.apiErrorsEnabled)!==null&&c!==void 0?c:0},t.apiErrors),this.customErrors=k({enabled:(h=t.customErrorsEnabled)!==null&&h!==void 0?h:0},t.customErrors),this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=this.eu(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=this.eu(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=this.eu(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.malkaQuotaServiceDomain=t.malkaQuotaServiceDomain||null,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions=k(k({},t.taskSchedulerOptions),{enabled:!!t.taskSchedulerOptions.enabled})),this.uxaDomain=t.uxaDomain,this.environment=((f=t.uxaDomain)===null||f===void 0?void 0:f.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc=k(k({},t.voc),{enabled:!!t.voc.enabled})),t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(p=t.anonymizeDigits)!==null&&p!==void 0?p:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(d=t.recordTargetingRules)!==null&&d!==void 0?d:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!=!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(m=t.collectTargetText)!==null&&m!==void 0?m:ko.Disabled}return r.prototype.getTrackerUri=function(){return"".concat(this.ur(),"://").concat(this.trackerDomain)},r.prototype.getSentryFileUri=function(){return"".concat(this.ur(),"://").concat(this.tagDomain,"/uxa/smb/errors.js")},r.prototype.getSentryDSNUri=function(){return"https://".concat(Jp,"@").concat(this.loggerDomain,"/4508608369131520")},r.prototype.getRecordingUri=function(){return"".concat(this.ur(),"://").concat(this.malkaRecordingDomain)},r.prototype.getLegacyQuotaUri=function(){return"".concat(this.ur(),"://").concat(this.malkaQuotaServiceDomain)},r.prototype.getLoggerUri=function(){return"".concat(this.ur(),"://").concat(this.loggerDomain)},r.prototype.getMetricsUri=function(){return"".concat(this.ur(),"://").concat(this.loggerDomain,"/metrics")},r.prototype.getStaticResourceManagerUri=function(){return"".concat(this.ur(),"://").concat(this.staticResourceManagerDomain)},r.prototype.getSettingsFileUri=function(){return this.settingsFileUri?this.settingsFileUri:"".concat(this.ur(),"://").concat(this.dynamicConfDomain,"/").concat(this.projectId,".json")},r.prototype.isQuotaEnabled=function(){return this.isSMB&&!!this.dynamicConfDomain},r.prototype.getPaProxyDomainUri=function(){return"".concat(this.ur(),"://").concat(this.paProxyDomainUri)},r.prototype.ur=function(){return this.useHttps?"https":"http"},r.prototype.isProjectActive=function(){return this.status===Kp},r.prototype.processOptionOverrides=function(t){var e=this;t&&t.forEach&&t.forEach(function(n){var o=it(n),a=o[0],s=o.slice(1);if(a==="setOption"){var u=it(s,2),c=u[0],h=u[1];e.eg(c,h)}})},r.prototype.eg=function(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="malkaQuotaServiceDomain"&&(this.malkaQuotaServiceDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e)},r.prototype.eu=function(t){return t?this.rg(t):null},r.prototype.getRequestParameters=function(){return{pid:"".concat(this.projectId)}},r.prototype.updateDynamicFields=function(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)},r.prototype.rg=function(t){try{var e=/^\/(.*)\/([gim]*)$/.exec(t);if(e){var n=it(e,3),o=n[1],a=n[2];return new csRegExp("^".concat(o,"$"),a)}return new csRegExp("^".concat(t,"$"))}catch(s){return null}},r.prototype.isHeaderCollectionActive=function(){var t,e;return this.apiErrors.collectStandardHeaders||!!(!((t=this.apiErrors.validCustomHeaders)===null||t===void 0)&&t.length)||!!(!((e=this.apiErrors.plainCustomHeaders)===null||e===void 0)&&e.length)},r.prototype.isCsSideloadingHeap=function(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent},r.prototype.isHeapSideloadsCs=function(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"},r.prototype.isHeapSideloadsCsV5=function(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.Hh()},r.prototype.isHeapSideloadsStartDataCollection=function(){if(this.isHeapSideloadsCs()){if(this.Hh())return!0;var t=Wp(this.getHeapVersion()||"");if(t&&t.major===4&&Xp(t,{major:4,minor:23,patch:5}))return!0}return!1},r.prototype.Hh=function(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"},r.prototype.getHeapVersion=function(){var t,e,n,o,a,s,u=typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((o=(n=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||n===void 0?void 0:n.sdk)===null||o===void 0?void 0:o.version)||((s=(a=window.heap)===null||a===void 0?void 0:a.version)===null||s===void 0?void 0:s.heapJsVersion);return u||void 0},r.prototype.isCsCrosswritingHeap=function(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"},r.prototype.isCollectTargetTextEnabled=function(){return this.isSMB||this.collectTargetText!==ko.Disabled},r.prototype.isNetworkDetailsEnabled=function(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1},r.prototype.hasTargetingRules=function(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)},r}();return i}(),Zp=function(){var i=function(){function r(t,e){this.ha=t,this.Bh=e}return r.prototype.init=function(){this.Fh=this.ha!==this.ha.top,this.Gh=this.Bh.isWebView&&this.ha===this.ha.top,this.Bh.iframesTracking&&this.Fh||this.Gh?this.zh=!1:this.zh=!0},r.prototype.isInIframeContext=function(){return this.Fh},r.prototype.isTopWindowTracker=function(){return this.zh},r.prototype.isInWebViewContext=function(){return this.Gh},r}();return i}(),jn=function(){var i;return function(r){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),function(n){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n]))}),"&")}r.toQuery=t}(i||(i={})),i}(),xu=function(){var i=function(){function r(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}return r.prototype.setRequestParametersProviders=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.requestParametersProviders=t},r.prototype.before=function(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)},r.prototype.after=function(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)},r.prototype.retrieveParameters=function(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,function(t){return t.getRequestParameters()}),function(t,e){return k(k({},t),e)}):{}},r}();return i}(),sn=function(){var i=function(r){Q(t,r);function t(e,n){return r.call(this,e,n)||this}return t.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,function(o){return o()});var e=this.retrieveParameters();this.ru(e);var n=jn.toQuery(e);this.ng(n),csArray.prototype.forEach.call(this.afterRequestCallbacks,function(o){return o()})},t.prototype.ng=function(e){var n=new window.Image(1,1);n.onload=cs,n.onerror=cs,csHTMLImageElementsrc.call(n,"".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(e))},t.prototype.ru=function(e){e.r=csString.prototype.slice.call("".concat(Math.random()),2,8)},t}(xu);return i}(),$p=function(){var i=function(){function r(t,e){this.Or=t,this.ig=e}return r.prototype.init=function(){this.cr=new sn(this.Or.getLoggerUri()),this.cr.setRequestParametersProviders(this,this.ig)},r.prototype.send=function(t){this.fa=t,this.cr.send()},r.prototype.getRequestParameters=function(){return{a:this.fa.app,l:this.fa.level,m:this.fa.message,s:this.fa.stacktrace}},r}();return i}(),Do=function(){var i=function(){function r(t){this.name=t}return r.setGlobalService=function(t){r.globalService=t},r.prototype._get=function(){return this._values},r.prototype._reset=function(){this._values={}},r.prototype.aggregate=function(){var t=this;if(r.globalService){var e=this._get(),n=Object.keys(e);n.length&&(r.globalService.push(csArray.prototype.map.call(n,function(o){return{name:t.name,parameter:o,value:e[o]}})),this._reset())}},r}();return i.globalService=null,_t([B("Metric.aggregate")],i.prototype,"aggregate",null),i}(),Qt=function(){var i=function(r){xi(t,r);function t(e,n){n===void 0&&(n=100);var o=r.call(this,e)||this;return o.og=n,o.Ie=null,o._values={},o}return t.prototype.count=function(e,n){n===void 0&&(n=1),this._values[e]=(this._values[e]||0)+n,this._debounce()},t.prototype._debounce=function(){var e=this;Do.globalService&&(this.Ie&&window.csClearTimeout(this.Ie),this.Ie=window.csSetTimeout(function(){e.aggregate(),e.Ie=null},this.og))},t}(Do);return i}();var pt=function(){return{counters:{commandsFromIntegrations:new Qt("commands-from-integrations"),commandsFromCSTC:new Qt("commands-from-cstc"),commandsFromIframe:new Qt("commands-from-iframe"),commandApplied:new Qt("command-applied"),commandError:new Qt("command-error"),commandMisuse:new Qt("command-misuse"),CSTCSnippetUsed:new Qt("cstc-snippet-used"),redactedPII:new Qt("redacted-pii"),pageAnonymisation:new Qt("page-anonymisation"),patchedNativeFunctions:new Qt("patched-native-functions"),pureWindowState:new Qt("pure-window-state"),sensitiveElements:new Qt("sensitive-elements"),cspErrors:new Qt("csp-errors"),networkRequests:new Qt("network-requests")},setService:function(i){Do.setGlobalService(i)}}}(),td=function(){return/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g}(),ed=function(){return/[a-zA-Z0-9+_-](?:@|%40|%2540)/}(),rd=function(){return"CS_ANONYMIZED_EMAIL"}(),ao=function(){return"([-A-Za-z0-9+/=_]|=[^=]|={3,})+"}(),nd=function(){return new csRegExp("(ey".concat(ao,"\\.ey").concat(ao,"\\.").concat(ao,")"),"g")}(),id=function(){return"CS_ANONYMIZED_JWT"}(),od=function(){return/[0-9]{4}/}(),ad=function(){return/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g}(),sd=function(){return"CS_ANONYMIZED_PII"}(),ud=function(){return"\u2022"}(),cd=function(){return/\d/g}(),ld=function(){return/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/}(),hd=function(){return/(?:\d{1,3}\.){3}\d{1,3}/}(),fd=function(){return/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/}(),ye=function(){var i;return function(r){function t(h){return csString.prototype.replace.call(h,td,rd)}r.replaceEmail=t;function e(h){return csString.prototype.replace.call(h,nd,id)}r.replaceJWT=e;function n(h,f){return csString.prototype.replace.call(h,ad,f)}r.replaceCreditCardNumber=n;function o(h){return csString.prototype.replace.call(h,cd,ud)}r.replaceDigits=o;function a(h){return hd.test(h)||fd.test(h)}r.mayHaveIPAddress=a;function s(h){return ld.test(h)}r.mayHaveNumberSequence=s;function u(h){return od.test(h)}r.mayHaveCreditCardNumber=u;function c(h){return ed.test(h)}r.mayHaveEmail=c}(i||(i={})),i}(),Br=function(){var i=function(){function r(){}return r.prototype.hasPII=function(t,e){var n=this.checkAndAnonymizePII(t,e);return t!==n},r.prototype.checkAndAnonymizePII=function(t,e){e===void 0&&(e=null);var n=this.ag(this.nu(t));return e===!0?n=this.sg(n):e===!1&&(n=this.ug(n)),n},r.prototype.anonymizePII=function(t){return this.nu(t)},r.prototype.anonymizeJwt=function(t){return ye.replaceJWT(t)},r.prototype.anonymizeFields=function(t,e){var n=this;return csArray.prototype.forEach.call(e,function(o){t[o]=n.nu(t[o])}),t},r.prototype.nu=function(t){if(ye.mayHaveEmail(t)){var e=ye.replaceEmail(t);return e!==t&&pt.counters.redactedPII.count("email"),e}return t},r.prototype.sg=function(t){return ye.replaceDigits(t)},r.prototype.ug=function(t){return ye.mayHaveNumberSequence(t)?ye.replaceDigits(t):t},r.prototype.ag=function(t){var e=this;return ye.mayHaveCreditCardNumber(t)?ye.replaceCreditCardNumber(t,function(n,o,a,s,u){var c=csString.prototype.indexOf.call(a,"*")===-1;if(c){var h=s.length?csArray.prototype.join.call(csString.prototype.split.call(a,s),""):a;if(!e.cg(h))return n;pt.counters.redactedPII.count("cc")}else pt.counters.redactedPII.count("cc-partial");return"".concat(o).concat(sd).concat(u)}):t},r.prototype.cg=function(t){for(var e=parseInt(t[t.length-1]),n=0,o=t.length-2;o>=0;o--){var a=parseInt(t[o]);o%2===0&&(a*=2),n+=Math.floor(a/10)+a%10}return 10-n%10===e},r}();return i}(),ku=function(){return"15.107.2"}();function ca(){return{v:ku}}function la(i){for(var r=new ArrayBuffer(i.length),t=new Uint8Array(r),e=0,n=i.length;e<n;e+=1)t[e]=csString.prototype.charCodeAt.call(i,e);return r}function ls(i){for(var r=new Uint8Array(i),t="",e=0;e<r.byteLength;e+=1)t+=csString.fromCodePoint(r[e]);return t}function Du(i){var r=self.atob(i);return la(r)}function Lo(i){var r=function(){return csArray.from(new Uint8Array(i))}();return csArray.prototype.join.call(csArray.prototype.map.call(r,function(t){return csString.prototype.padStart.call(t.toString(16),2,"0")}),"")}function hs(i){var r=function(){return csString.prototype.indexOf.call(i,";base64,")!==-1}(),t=function(){return csString.prototype.indexOf.call(i,",")}(),e=function(){return r?[csString.prototype.substring.call(i,0,t-7),csString.prototype.substring.call(i,t+1)]:[csString.prototype.substring.call(i,0,t),csString.prototype.substring.call(i,t+1)]}(),n=!r&&/^%3Csvg/i.test(e[1]);if(n)try{e[1]=decodeURIComponent(e[1])}catch(a){bt.warn("".concat(a,", calling decodeURIComponent on: ").concat(e[1]))}var o=r?Du(e[1]):la(e[1]);return new Blob([o],{type:csString.prototype.replace.call(e[0],"data:","")})}var Lu=function(){return typeof performance!="undefined"&&!!performance.now}(),fs=function(){return Lu?function(){return performance.now()}:csDate.now}(),pd=function(){var i,r;return Lu?(r=(i=performance.timing)===null||i===void 0?void 0:i.navigationStart)!==null&&r!==void 0?r:Math.floor(performance.timeOrigin):0}(),V=function(){return{now:function(){return Math.round(fs()+pd)},elapsed:function(){return fs()}}}();function ps(){return Math.floor(V.now()/1e3)}function Uu(){return typeof window.Promise=="function"}function dd(){var i;return typeof crypto!="undefined"&&ce((i=crypto.subtle)===null||i===void 0?void 0:i.digest)}function ds(){var i,r;return typeof((i=window.navigation)===null||i===void 0?void 0:i.addEventListener)=="function"&&typeof((r=window.navigation)===null||r===void 0?void 0:r.removeEventListener)=="function"}function ke(i,r){return csString.prototype.lastIndexOf.call(i,r,0)===0}function zn(i,r){return csString.prototype.indexOf.call(i,r,i.length-r.length)!==-1}var Vu=function(){var i=function(){function r(t,e){this.h=t,this.I=e}return r.prototype.getRequestParameters=function(){return k(k({d:"".concat(V.now()),p:this.I.anonymizePII(window.location.href)},this.h.getRequestParameters()),ca())},r}();return i}(),vd=function(){return"uxa"}(),vs=function(){return 5}(),yd=function(){return"No stacktrace"}(),ju=function(){return"snippet-"}(),Hu=function(){return"implementation-snippet-"}(),ys=function(){var i;return function(r){r.IMPLEMENTATION="implementation",r.DYNAMIC="dynamic"}(i||(i={})),i}(),so=function(){var i;return i={},i[ft.debug]=0,i[ft.warn]=1,i[ft.implementation]=1,i[ft.error]=2,i[ft.critical]=3,i}(),gd=function(){var i=function(){function r(t,e,n){var o;this.lr=e,this.I=new Br,this.qh=so[ft.warn],this.qh=so[t.minLogLevel||ft.warn],this.cr=n||new $p(t,new Vu(t,this.I)),this.Wh=(o={},o[ft.debug]=[],o[ft.warn]=[],o[ft.implementation]=[],o[ft.error]=[],o[ft.critical]=[],o),this.pa={implementation:{},dynamic:{}},this.cr.init()}return r.prototype.send=function(t,e,n){if(e===void 0&&(e=""),n===void 0&&(n=ft.warn),!!this.lg(n,e)){csArray.prototype.push.call(this.Wh[n],e||"");var o={message:this.hg(t,e),stacktrace:this.fg(t),app:vd,level:n};this.cr.send(o)}},r.prototype.hg=function(t,e){var n=wr(t)?this.I.anonymizePII(t.message||t.toString()):t;return e&&(n+=" ErrorCode: ".concat(e)),n},r.prototype.fg=function(t){return wr(t)?"".concat(t.stack||yd," ").concat(this.da()):this.da()},r.prototype.da=function(){var t=this.lr.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";var n=this.lr.getSessionService(),o=n&&n.getSession(),a={userId:e.id,sessionNumber:e.visitsCount,pageNumber:o&&o.pageNumber};return csJSON.stringify(a)},r.prototype.lg=function(t,e){if(so[t]<this.qh)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Hu,0))===0)return this.Yh(e,ys.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,ju,0))===0)return this.Yh(e,ys.DYNAMIC);var n=this.Wh[t];return!(n.length>=vs||e&&csArray.prototype.some.call(n,function(o){return o===e}))},r.prototype.Yh=function(t,e){return t in this.pa[e]?this.pa[e][t]>=vs?!1:(this.pa[e][t]+=1,!0):(this.pa[e][t]=1,!0)},r}();return i}(),Dt=function(){return!Bn&&document.createElement("a")}(),md=function(){return/(:443|:80)$/}();function xe(i){return Dt?(Dt.href=i,Dt.href):""}function Bu(i,r){var t=function(){return new csURL(i,r)}();return t.href}function Fu(i){var r=fa(i);return r===null?"":decodeURIComponent(r.hostname)}function ha(i,r){return csArray.prototype.some.call(r,function(t){return zn(i,".".concat(t))||i===t||t===""})}function Sd(i){return i[0]==="/"?i:"/".concat(i)}function gs(i){return csString.prototype.replace.call(i,md,"")}function fa(i){return!Dt||!ke(i,"http://")&&!ke(i,"https://")?null:(Dt.href=i,{hash:Dt.hash,host:gs(Dt.host),hostname:Dt.hostname,href:Dt.href,origin:Dt.origin?Dt.origin:gs("".concat(Dt.protocol,"//").concat(Dt.host)),pathname:Sd(Dt.pathname),port:Dt.port,protocol:Dt.protocol,search:Dt.search})}var ms=function(){return"CS_IFRAME_MESSAGE"}(),un=function(){var i;return function(r){r.AfterPageView="afterPageView",r.GetSessionKey="getSessionKey"}(i||(i={})),i}(),ee=function(){var i;return function(r){r.Parent="parent",r.Child="child"}(i||(i={})),i}(),M=function(){var i;return function(r){r.Discovery="discovery",r.Stop="stop",r.RecordingContext="recordingContext",r.SensitiveStatus="sensitiveStatus",r.RecordingEvent="recordingEvent",r.EndOfBufferedMessages="endOfBufferedMessages",r.ChildLogMessage="childLogMessage",r.AnalysisEvent="analysisEvent",r.JavascriptError="javascriptError",r.ApiError="apiError",r.Assets="assets",r.DetailedApiError="detailedApiError",r.EmerchandisingMessage="emerchandisingMessage",r.Commands="commands",r.IntegrationCallback="integrationCallback",r.StaticResource="staticResource",r.TrackingContextResultMessage="trackingContextResultMessage",r.TrackingContextRequestMessage="trackingContextRequestMessage",r.CustomError="customError"}(i||(i={})),i}(),ct=function(){var i;return function(r){function t(u,c,h,f){var p={type:u,from:c,pid:h,signature:ms};return f!==void 0&&f>=0&&(p.id=f),p}r.buildBaseMessage=t;function e(u,c,h,f){var p=Fu(u.origin);return!!u.data&&!!u.data.type&&u.data.signature===ms&&u.data.from===c&&u.data.pid===h&&ha(p,f)}r.isMessageValid=e;function n(u,c,h,f){f?u.postMessage(h,c,f):u.postMessage(h,c)}r.sendPostMessage=n;function o(){return new MessageChannel}r.getNewChannelMessage=o;function a(u,c){u.postMessage(c)}r.sendChannelMessage=a;function s(u){u.close()}r.closeChannelPort=s}(i||(i={})),i}(),Ed=function(){var i=function(){function r(t){this.h=t}return r.prototype.send=function(t,e,n){e===void 0&&(e=""),n===void 0&&(n=ft.warn);var o={message:t,errorCode:e,level:n},a=ct.buildBaseMessage(M.ChildLogMessage,ee.Child,this.h.projectId);a.content=o,ct.sendPostMessage(window.parent,"*",a)},r}();return i}(),wd=function(){var i=function(){function r(){}return r.prototype.setContext=function(t,e){this.R=t,this.w=e},r.prototype.getVisitorService=function(){return this.R},r.prototype.getSessionService=function(){return this.w},r}();return i}();function _d(i){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",i,{once:!0});return}i()}function bd(){var i=new MutationObserver(function(r){r.forEach(function(t){rt(t.removedNodes,function(e){e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(pt.counters.pureWindowState.count("iframe-deletion"),bt.warn("<cs-native-frame-holder> deleted"),i.disconnect())})})});i.observe(document.body,{childList:!0})}function Ss(i){return typeof i!="function"?!1:i.toString().indexOf("[native code]")!==-1}function Ad(){(!Ss(MutationObserver)||!Ss(MutationObserver.prototype.observe))&&pt.counters.patchedNativeFunctions.count("MutationObserver")}function Td(){try{window.CSPureWindow&&bd(),Ad()}catch(i){}}var Rt=function(){var i;return function(r){r.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(u){var c=new csRegExp("(^|;)[ ]*".concat(u,"=([^;]*)")),h=c.exec(document.cookie);return h?decodeURIComponent(h[2]):null}r.get=t;function e(u,c,h,f,p,d){var m=encodeURIComponent("".concat(c)),w=h===r.CURRENT_DOMAIN?void 0:h,E=n(f),_=E?";expires=".concat(E.toUTCString()):"",b=";path=/",R=Ht(w)?";domain=".concat(w):"",A="".concat(u,"=").concat(m).concat(_).concat(b).concat(R);return ot(p)&&p!==dr.NotSet&&(A="".concat(A,";SameSite=").concat(p)),ot(d)&&d===He.Yes&&(A="".concat(A,";Secure")),document.cookie=A,!0}r.set=e;function n(u){return Ie(u)?new csDate(V.now()+u):u}r.toExpireDate=n;function o(u,c){t(u)&&e(u,"",c,new csDate(0)),t(u)&&e(u,"",c,new csDate(0),dr.None,He.Yes)}r.remove=o;function a(){return document.cookie.length>0}r.isCookiePresent=a;function s(u,c){var h="_cs_root-domain",f=t(h);if(f!==null&&f!=="1")return f;for(var p=csString.prototype.split.call(window.location.hostname,"."),d=csArray.prototype.pop.call(p);p.length&&(f===null||f==="1");)d=csArray.prototype.join.call([csArray.prototype.pop.call(p),d],"."),e(h,d,d,void 0,u,c),f=t(h);return o(h,d),d}r.getRootDomain=s}(i||(i={})),i}(),Rd=function(){var i;return function(r){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}r.browserIsSafariV12=t}(i||(i={})),i}(),dr=function(){var i;return function(r){r.None="None",r.Lax="Lax",r.NotSet="X"}(i||(i={})),i}(),He=function(){var i;return function(r){r[r.Yes=1]="Yes",r[r.No=0]="No"}(i||(i={})),i}(),ki=function(){var i=function(){function r(t,e,n){this.h=t,this.A=e,this.mn=n,this.iu=!1,this.Xh=dr.NotSet,this.ou=He.No}return r.prototype.getSameSiteFlag=function(){return this.Xh},r.prototype.getSecureFlag=function(){return this.ou},r.prototype.getDomain=function(){return this.au},r.prototype.getRootDomain=function(){return this.Kh},r.prototype.init=function(){if(!this.h.cookielessTrackingEnabled){var t=this.pg(),e=this.dg();this.iu=this.vg(t,e),this.iu?(this.Xh=t,this.ou=e):this.h.secureCookiesEnabled&&this.A.getUrlProtocol()==="https:"&&(this.ou=He.Yes),this.Kh=this.yg(),this.au=this.gg(this.Kh)}},r.prototype.vg=function(t,e){return Rd.browserIsSafariV12()?!1:(Rt.set(r.COOKIE_TEST_FOR_SAME_SITE,"Test same site",r.CURRENT_DOMAIN,void 0,t,e),Rt.get(r.COOKIE_TEST_FOR_SAME_SITE)?(Rt.remove(r.COOKIE_TEST_FOR_SAME_SITE,r.CURRENT_DOMAIN),!0):!1)},r.prototype.pg=function(){return this.A.getUrlProtocol()==="http:"?dr.Lax:this.mn.isSameSiteNoneSecureNeeded()||this.h.crossDomainTracking?dr.None:dr.Lax},r.prototype.dg=function(){return this.A.getUrlProtocol()==="http:"?He.No:this.h.secureCookiesEnabled||this.h.crossDomainTracking||this.mn.isSameSiteNoneSecureNeeded()?He.Yes:He.No},r.prototype.isSameSiteSupported=function(){return this.iu},r.prototype.set=function(t,e,n){var o=Rt.toExpireDate(n);Rt.set(t,e,this.au,o,this.getSameSiteFlag(),this.getSecureFlag())},r.prototype.get=function(t){var e=new csRegExp("(^|;)[ ]*".concat(t,"=([^;]*)")),n=e.exec(document.cookie);return n?decodeURIComponent(n[2]):null},r.prototype.delete=function(t,e){var n=e||this.au;Rt.remove(t,n)},r.prototype.yg=function(){var t=this.mn.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?dr.None:void 0,n=t?He.Yes:void 0;return Rt.getRootDomain(e,n)},r.prototype.gg=function(t){return this.h.allowSubdomains?t:Rt.CURRENT_DOMAIN},r}();return i.CURRENT_DOMAIN="CURRENT_DOMAIN",i.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",i}(),Kr=function(){return"_cs_t"}(),Es=function(){return"1"}(),Cd=function(){var i=function(){function r(t,e){this.pt=t,this.h=e,this.va=!1,this.ya=!1}return r.prototype.init=function(){if(!this.h.cookielessTrackingEnabled&&this.pt.isTopWindowTracker()&&"cookie"in document){if(!this.pt.isInIframeContext()&&Rt.isCookiePresent()){this.va=!0,this.ya=!1;return}if(Rt.set(Kr,Es,Rt.CURRENT_DOMAIN),Rt.get(Kr)!==null){this.va=!0,this.ya=!1,Rt.remove(Kr,Rt.CURRENT_DOMAIN);return}Rt.set(Kr,Es,Rt.CURRENT_DOMAIN,void 0,dr.None,He.Yes),Rt.get(Kr)!==null&&(this.va=!0,this.ya=!0,Rt.remove(Kr,Rt.CURRENT_DOMAIN))}},r.prototype.areCookiesEnabled=function(){return this.va},r.prototype.isSameSiteNoneSecureNeeded=function(){return this.ya},r}();return i}();function Id(){var i="CSSessionStorageTest";try{return sessionStorage.setItem(i,i),sessionStorage.getItem(i)!==i?!1:(sessionStorage.removeItem(i),!0)}catch(r){return!1}}var Pd=function(){var i=function(){function r(t,e){this.h=t,this.mn=e}return r.prototype.canTrack=function(){return this.h.isProjectActive()&&this.mg()&&this.Jh()&&this.Sg()},r.prototype.canTrackInChild=function(){return this.h.isProjectActive()&&this.Eg()&&(this.Jh()||this.wg())},r.prototype.Sg=function(){return this.h.cookielessTrackingEnabled?Id():this.mn.areCookiesEnabled()},r.prototype.Jh=function(){return ha(window.location.hostname,this.h.hostnames)},r.prototype.mg=function(){return!this.Qh()&&this._g()},r.prototype.Eg=function(){return!this.Qh()&&this.bg()},r.prototype.wg=function(){return window.location.protocol==="about:"&&window.location.hostname===""},r.prototype.Qh=function(){return"visibilityState"in document&&document.visibilityState==="prerender"},r.prototype._g=function(){return this.Zh()&&this.Ag()},r.prototype.bg=function(){return this.Zh()},r.prototype.Ag=function(){try{return!!window.localStorage}catch(t){return!1}},r.prototype.Zh=function(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window},r}();return i}(),Od=function(){var i=function(){function r(t,e){var n=this;this.su=!1,this.$h=new Map,this.tf=new Map,this.ef=new Map,this.rf="CS_WORKER_SIGNATURE";var o="\n    const algorithm = ".concat(t.algorithm,";\n    const compressor = (").concat(t.getCompressorSourceCode(),")();\n    ").concat('!function(){"use strict";var e,t=function(){return t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},t.apply(this,arguments)};function r(e,t,r,n){return new(r||(r=Promise))(function(o,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function i(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,i)}c((n=n.apply(e,t||[])).next())})}function n(e,t){var r,n,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(e||(e={}));var o,a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},s=function(){function r(e){var t,r=this;this.queryParams={},this.headers={},this.handleRecoveredRequests=function(e){var t,n;try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),a=o.next();!a.done;a=o.next()){var s=a.value,i=s.metadata,c=s.events;r.send(c,i)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}return r.prototype.setQueryParams=function(e){var t=this;Object.keys(e).forEach(function(r){t.queryParams[r]=e[r]})},r.prototype.removeQueryParams=function(e){var t=this;e?e.forEach(function(e){delete t.queryParams[e]}):this.queryParams={}},r.prototype.send=function(r,n){var o=this,s=n||t({},this.queryParams),i=!("ct"in s),c="string"!=typeof r&&!this.isArrayBuffer(r);"ct"in s||(this.compressionOpts&&i?s.ct=this.compressionOpts.compressionType:s.ct=e.UNCOMPRESSED);var u=c?JSON.stringify(r):r,h=Object.keys(s).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(s[e]))}).join("&"),f="".concat(this.endpoint,"?").concat(h);!function(e,t){for(var r=e.length,n=0;n<r;n++)if(t(e[n],n))return!0;return!1}(this.mandatoryParameters,function(e){return null==s[e]})?this.compressionOpts&&i&&"string"==typeof u?this.compressionOpts.compressor(u,this.compressionOpts.compressionOutputType,function(e){return o.doSend(f,s,e)}):this.doSend(f,s,u):a("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(f))},r.prototype.onLoad=function(e){this.onLoadCallback=e},r.prototype.onError=function(e){this.onErrorCallback=e},r.prototype.onTimeout=function(e,t){this.onTimeoutCallback=e,this.timeout=t},r.prototype.abort=function(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()},r.prototype.setRequestHeader=function(e,t){this.headers[e]=t},r.prototype.getQueryParams=function(){return this.queryParams},r.prototype.isArrayBuffer=function(e){return e&&void 0!==e.byteLength},r.prototype.doSend=function(e,t,r){var n=this,o=new XMLHttpRequest,a=Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&");o.open("POST",e),o.onload=function(){if(n.recoveryStorage&&n.recoveryStorage.recover(n.handleRecoveredRequests),n.onLoadCallback){var e={params:t,responseText:o.responseText,status:o.status};n.onLoadCallback(e)}},o.onerror=function(){n.recoveryStorage&&n.recoveryStorage.save({key:a,metadata:t,events:r}),n.onErrorCallback&&n.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(o.timeout=this.timeout,o.ontimeout=function(){n.onTimeoutCallback()}),this.abortCurrentXhrCall=function(){return o.abort()},Object.keys(this.headers).forEach(function(e){o.setRequestHeader(e,n.headers[e])}),o.send(r)},r}(),i=function(){function e(e){this.maxStoredBytes=e,this.storageBytesUsed=0}return e.prototype.addString=function(e){this.storageBytesUsed+=2*e.length},e.prototype.addArrayBuffer=function(e){this.storageBytesUsed+=e.byteLength},e.prototype.isThresholdReached=function(){return this.storageBytesUsed>this.maxStoredBytes},e.prototype.reset=function(){this.storageBytesUsed=0},e}(),c=function(){function e(e){this.ramStorage={},this.byteSizeCounter=new i(e)}return e.prototype.save=function(e){var t=e.key,r=e.metadata,n=e.events;this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(t),"string"==typeof n?this.byteSizeCounter.addString(n):this.byteSizeCounter.addArrayBuffer(n),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[t]={metadata:r,events:n}))},e.prototype.recover=function(e){var t=this,r=[];this.getStorageKeys().forEach(function(e){var n=t.ramStorage[e];void 0!==n&&(delete n.metadata.datatype,r.push(n),t.removeItem(e))}),0!==r.length&&(e(r),this.byteSizeCounter.reset())},e.prototype.getStorageKeys=function(){return Object.keys(this.ramStorage)},e.prototype.removeItem=function(e){delete this.ramStorage[e]},e}();!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(o||(o={}));var u=function(){function e(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=o.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new i(t),this.init()}return e.prototype.init=function(){return r(this,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return[4,this.openCache()];case 1:return e.sent(),this.cacheState===o.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer),[2]}})})},e.prototype.flushToBeSavedBuffer=function(){var e=this;this.toBeSavedBuffer.forEach(function(t){e.save(t)}),this.toBeSavedBuffer=[]},e.prototype.save=function(e){return r(this,void 0,void 0,function(){var t,r,a;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.cacheState===o.OPEN_IN_PROGRESS?(this.toBeSavedBuffer.push(e),[2]):this.cacheState!==o.READY||this.byteSizeCounter.isThresholdReached()?[2]:(t=e.key,r=e.metadata,a=e.events,this.byteSizeCounter.addString(t),"string"==typeof a?this.byteSizeCounter.addString(a):this.byteSizeCounter.addArrayBuffer(a),this.byteSizeCounter.isThresholdReached()?[2]:[4,this.cache.put("".concat(this.origin,"/").concat(t),new Response(a,{headers:r}))]);case 1:case 2:return n.sent(),[3,3];case 3:return[2]}})})},e.prototype.recover=function(e){return r(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return this.cache?[3,2]:[4,this.openCache()];case 1:if(t.sent(),this.cacheState!==o.READY)return[2];t.label=2;case 2:return this.doRecover(e),[2]}})})},e.prototype.openCache=function(){return r(this,void 0,void 0,function(){var e;return n(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.cacheState=o.OPEN_IN_PROGRESS,e=this,[4,self.caches.open("".concat(this.context).concat(this.storageName))];case 1:return e.cache=t.sent(),this.cacheState=o.READY,[3,3];case 2:return t.sent(),this.cacheState=o.OPEN_FAILED,[3,3];case 3:return[2]}})})},e.prototype.doRecover=function(e){return r(this,void 0,void 0,function(){var t,r,o,a,s=this;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,5,6,7]),this.recoveryInProgress++,this.recoveryInProgress>1?[2]:[4,this.cache.keys()];case 1:return 0===(t=n.sent()).length?[2]:[4,this.cache.matchAll()];case 2:return r=n.sent(),o=r.map(function(e){var t={};e.headers.forEach(function(e,r){t[r]=e}),delete t["content-type"];var r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then(function(e){return{metadata:t,events:e}}):e.arrayBuffer().then(function(e){return{metadata:t,events:e}})}),[4,Promise.all(o)];case 3:return a=n.sent(),[4,Promise.all(t.map(function(e){return s.cache.delete(e)}))];case 4:return n.sent(),e(a),this.byteSizeCounter.reset(),[3,7];case 5:return n.sent(),[3,7];case 6:return this.recoveryInProgress--,[7];case 7:return[2]}})})},e}(),h=function(){function e(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}return e.prototype.initializeStorageStrategy=function(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()},e.prototype.save=function(e){this.storageStrategy.save(e)},e.prototype.recover=function(e){this.storageStrategy.recover(e)},e.prototype.setCachesStrategy=function(t){var r=this;this.storageStrategy=new u(t,e.MAX_SIZE,function(e){r.setRamStorageStrategy(e)})},e.prototype.setRamStorageStrategy=function(t){var r=this;this.storageStrategy=new c(e.MAX_SIZE),t&&t.forEach(function(e){r.storageStrategy.save(e)})},e.MAX_SIZE=16777216,e}();!function(){var e="CS_WORKER_SIGNATURE",t=new Map,o=new h("csPersisted");function a(r){var n;if((n=r)&&n.WORKER_SIGNATURE===e)switch(r.type){case"CreatePostRequest":var a=r.endpoint,i=r.compressionOutputType,c=r.useRetry,u=r.mandatoryParameters,h={endpoint:a,mandatoryParameters:u,worker:!0};i&&(h.compressionOpts={compressor:compressor,compressionOutputType:i,compressionType:algorithm}),c&&(h.recoveryStorage=o);var f=new s(h);t.set(a,f),f.onLoad(function(t){var r={type:"onLoad",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)}),f.onError(function(t){var r={type:"onError",endpoint:a,response:t,WORKER_SIGNATURE:e};self.postMessage(r)});break;case"SetQueryParams":var p=r.endpoint,y=r.queryParams;(f=t.get(p))&&f.setQueryParams(y);break;case"RemoveQueryParams":p=r.endpoint,y=r.queryParams,(f=t.get(p))&&f.removeQueryParams(y);break;case"Send":p=r.endpoint;var d=r.payload;y=r.queryParams,(f=t.get(p))&&f.send(d,y);break;case"Abort":p=r.endpoint,(f=t.get(p))&&f.abort();break;case"SetHeader":p=r.endpoint;var l=r.headerName,v=r.headerValue;(f=t.get(p))&&f.setRequestHeader(l,v);break;case"SetTimeout":var S=r.endpoint,m=r.timeout;(f=t.get(S))&&f.onTimeout(function(){var t={type:"onTimeout",endpoint:S,WORKER_SIGNATURE:e};self.postMessage(t)},m);break;default:throw new Error(JSON.stringify(r))}}self.addEventListener("message",function(e){e.data.getReader?function(e,t){r(this,void 0,void 0,function(){var r,o,a,s;return n(this,function(n){switch(n.label){case 0:r=e.getReader(),n.label=1;case 1:return[4,r.read()];case 2:return o=n.sent(),a=o.done,s=o.value,a?[3,3]:(t(s),[3,1]);case 3:return[2]}})})}(e.data,a):a(e.data)})}()}();');try{this.fr=this.Tg(e||o),this.su=!0,r.isTransferableStreamSupported()&&(this.nf=new ReadableStream({start:function(a){n.lu=a},cancel:function(){n.lu=null}}),this.fr.postMessage(this.nf,[this.nf]))}catch(a){a.name==="SecurityError"&&pt.counters.cspErrors.count("network-worker"),this.su=!1}}return r.prototype.postMessage=function(t){t.WORKER_SIGNATURE=this.rf,this.lu?this.lu.enqueue(t):this.fr.postMessage(t)},r.prototype.Tg=function(t){var e=this,n=window.csURL||window.webkitURL,o=window.Blob,a=window.Worker,s=new o([t],{type:"application/javascript"}),u=n.createObjectURL(s);F.whiteListFilename(u);var c=new a(u);return c.onmessage=function(h){var f=h.data,p=f.type,d=f.endpoint,m=f.WORKER_SIGNATURE;if(m===e.rf){if(p==="onLoad"){var w=h.data.response,E=e.$h.get(d);E&&E(w)}else if(p==="onError"){var w=h.data.response,E=e.tf.get(d);E&&E(w)}else if(p==="onTimeout"){var E=e.ef.get(d);E&&E()}}},c},r.prototype.registerOnLoadCallback=function(t,e){this.$h.set(t,e)},r.prototype.registerOnErrorCallback=function(t,e){this.tf.set(t,e)},r.prototype.registerOnTimeoutCallback=function(t,e){this.ef.set(t,e)},r.prototype.isSupported=function(){return this.su},r.isTransferableStreamSupported=function(){try{var t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch(e){return!1}},r}();return i}(),Nd=function(){var i=function(){function r(t){var e;this.qt={},this.Wt=t.endpoint,this.ge=t.networkWorker,this.Rg=t.compressionOutputType,this.Cg=t.useRetry,this.ge.postMessage({type:"CreatePostRequest",endpoint:this.Wt,compressionOutputType:this.Rg,useRetry:this.Cg,mandatoryParameters:(e=t.mandatoryParameters)!==null&&e!==void 0?e:[]})}return r.prototype.setQueryParams=function(t){var e=this;this.ge.postMessage({type:"SetQueryParams",endpoint:this.Wt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),function(n){e.qt[n]=t[n]})},r.prototype.getQueryParams=function(){return this.qt},r.prototype.removeQueryParams=function(t){var e=this;this.ge.postMessage({type:"RemoveQueryParams",endpoint:this.Wt,queryParams:t}),t&&csArray.prototype.forEach.call(t,function(n){delete e.qt[n]})},r.prototype.send=function(t,e){this.ge.postMessage({type:"Send",endpoint:this.Wt,payload:t,queryParams:e})},r.prototype.abort=function(){this.ge.postMessage({type:"Abort",endpoint:this.Wt})},r.prototype.onLoad=function(t){this.ge.registerOnLoadCallback(this.Wt,t)},r.prototype.onError=function(t){this.ge.registerOnErrorCallback(this.Wt,t)},r.prototype.setRequestHeader=function(t,e){this.ge.postMessage({type:"SetHeader",endpoint:this.Wt,headerName:t,headerValue:e})},r.prototype.onTimeout=function(t,e){this.ge.registerOnTimeoutCallback(this.Wt,t),this.ge.postMessage({type:"SetTimeout",endpoint:this.Wt,timeout:e})},r}();return i}(),Di=function(){var i;return function(r){r.UNCOMPRESSED="0",r.GZIP="2"}(i||(i={})),i}(),Gu=function(){var i=function(){function r(t){this.onError=t}return r}();return i}(),Md=function(){var i=function(){function r(t){var e=this,n;this.qt={},this.hu={},this.of=function(o){var a,s;try{for(var u=D(o),c=u.next();!c.done;c=u.next()){var h=c.value,f=h.metadata,p=h.events;e.send(p,f)}}catch(d){a={error:d}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},this.Wt=t.endpoint,this.Bi=t.compressionOpts,this.Yt=t.recoveryStorage,this.mandatoryParameters=(n=t.mandatoryParameters)!==null&&n!==void 0?n:[],this.worker=!!t.worker,this.Yt&&this.Yt.recover(this.of)}return r.prototype.setQueryParams=function(t){var e=this;Object.keys(t).forEach(function(n){e.qt[n]=t[n]})},r.prototype.removeQueryParams=function(t){var e=this;t?t.forEach(function(n){delete e.qt[n]}):this.qt={}},r.prototype.send=function(t,e){var n=this,o=e||k({},this.qt),a=!("ct"in o),s=typeof t!="string"&&!this.Ig(t);"ct"in o||(!this.Bi||!a?o.ct=Di.UNCOMPRESSED:o.ct=this.Bi.compressionType);var u=s?JSON.stringify(t):t,c=Object.keys(o).map(function(f){return"".concat(encodeURIComponent(f),"=").concat(encodeURIComponent(o[f]))}).join("&"),h="".concat(this.Wt,"?").concat(c);if(Mo(this.mandatoryParameters,function(f){return o[f]==null})){bt.warn("[".concat(this.worker?"WORKER":"MAIN","] All mandatory parameters are not present on ").concat(h));return}this.Bi&&a&&typeof u=="string"?this.Bi.compressor(u,this.Bi.compressionOutputType,function(f){return n.af(h,o,f)}):this.af(h,o,u)},r.prototype.onLoad=function(t){this.Kn=t},r.prototype.onError=function(t){this.Fi=t},r.prototype.onTimeout=function(t,e){this.Sn=t,this.Gi=e},r.prototype.abort=function(){this.sf&&this.sf()},r.prototype.setRequestHeader=function(t,e){this.hu[t]=e},r.prototype.getQueryParams=function(){return this.qt},r.prototype.Ig=function(t){return t&&t.byteLength!==void 0},r.prototype.af=function(t,e,n){var o=this,a=new XMLHttpRequest,s=Object.keys(e).map(function(u){return"".concat(encodeURIComponent(u),"=").concat(encodeURIComponent(e[u]))}).join("&");a.open("POST",t),a.onload=function(){if(o.Yt&&o.Yt.recover(o.of),o.Kn){var u={params:e,responseText:a.responseText,status:a.status};o.Kn(u)}},a.onerror=function(){o.Yt&&o.Yt.save({key:s,metadata:e,events:n}),o.Fi&&o.Fi({params:e})},this.Gi&&this.Sn&&(a.timeout=this.Gi,a.ontimeout=function(){o.Sn()}),this.sf=function(){return a.abort()},Object.keys(this.hu).forEach(function(u){a.setRequestHeader(u,o.hu[u])}),a.send(n)},r}();return i}(),zu=function(){var i=function(){function r(t){this.fu=t,this.ge=new Od(this.fu)}return r.prototype.create=function(t,e,n,o,a){if(a===void 0&&(a=[]),this.ge.isSupported()&&e)return new Nd({networkWorker:this.ge,endpoint:t,compressionOutputType:n,useRetry:!!o,mandatoryParameters:a});var s=n?{compressor:this.fu.compress,compressionOutputType:n,compressionType:this.fu.algorithm}:void 0;return new Md({endpoint:t,compressionOpts:s,recoveryStorage:o})},r}();return i}(),xd=function(){var i=function(){function r(t,e,n,o,a){this.R=t,this.w=e,this.We=n,this.wt=o,this.h=a}return r.prototype.get=function(){return{exclusion:this.We.getAppliedTrackingDraw(),visitor:this.R.getVisitor(),session:this.w.getSession(),cvars:this.wt.getCustomVariablesSession()}},r.prototype.apply=function(t){t&&(t.exclusion?this.exclude():this.include(t))},r.prototype.exclude=function(){this.We.exclude(this.h),this.R.removeVisitor(),this.w.removeSession(),this.wt.removeCustomVariablesSession()},r.prototype.include=function(t){this.We.removeExclusion(),this.R.setVisitor(t.visitor),t.session?this.w.setSession(t.session):this.w.removeSession(),t.cvars?this.wt.setCustomVariableSession(t.cvars):this.wt.removeCustomVariablesSession()},r}();return i}(),qu=function(){return"."}();var Wu=function(){return"x"}();function kd(i){var r=yt(function(){return csString.prototype.split.call(i,qu)}(),9),t=r[0],e=r[1],n=r[2],o=r[3],a=r[4],s=r[5],u=r[6],c=r[7],h=r[8];return{id:t,creationTimestamp:Number(e),visitsCount:Number(n),hitTimestamp:Number(o),lastVisitTimestamp:Number(a),appliedTrackingDraw:Number(s),expires:Number(u),allowSubdomains:c===void 0?void 0:!!Number(c),identityPrint:h===void 0||h===Wu?null:h}}function Dd(i){var r;return csArray.prototype.join.call([i.id,i.creationTimestamp,i.visitsCount,i.hitTimestamp,i.lastVisitTimestamp,i.appliedTrackingDraw,i.expires,i.allowSubdomains?1:0,(r=i.identityPrint)!==null&&r!==void 0?r:Wu],qu)}var Ld=function(){var i;return function(r){r.ETR_OFF="0",r.ETR_ON="1"}(i||(i={})),i}();var Ud=function(){var i;return function(r){r.ETR_DISABLED="0",r.ETR_PENDING="1",r.ETR_SAVED_PAGE="2",r.ETR_SAVED_SESSION="3",r.ETR_NOT_SAVED_SESSION="9"}(i||(i={})),i}(),Yu=function(){return/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/}(),Xu=function(){return"."}();function Vd(i){return csArray.prototype.join.call([i.pageNumber,i.collectState,i.etrState,i.etrStatus],Xu)}function jd(i){var r=Uo(i);return r!==null?Ku(r):null}function Ku(i){var r,t,e=yt(function(){return csString.prototype.split.call(i,Xu)}(),4),n=e[0],o=e[1],a=e[2],s=e[3];return{collectState:o,etrState:(r=a)!==null&&r!==void 0?r:Ld.ETR_OFF,etrStatus:(t=s)!==null&&t!==void 0?t:Ud.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(n,10)}}function Ju(i){return Yu.test(i)}function Uo(i){if(!i)return null;var r=function(){var t;return(t=csString.prototype.match.call(i,Yu))===null||t===void 0?void 0:t[1]}();return r!=null?r:null}var Ve=function(){return"_cs_ex"}(),ws=function(){return 2592e6}(),Hd=function(){return/^[0-9]+$/}(),Bd=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Xt=n}return r.prototype.onCookieToSet=function(t){this.En=t},r.prototype.onCookieToRemove=function(t){this.wn=t},r.prototype.get=function(){return this.h.cookielessTrackingEnabled?Number(this.Xt.getItem(Ve)):Number(this.M.get(Ve))},r.prototype.set=function(t){var e;this.h.cookielessTrackingEnabled?this.Xt.setItem(Ve,t):(this.M.set(Ve,t,ws),(e=this.En)===null||e===void 0||e.call(this,Ve,t,ws))},r.prototype.remove=function(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(Ve):(this.M.delete(Ve),(t=this.wn)===null||t===void 0||t.call(this,Ve))},r.isValidExclusionString=function(t){return Hd.test(t)},r}();return i}(),sr=function(){return"_cs_cvars"}(),Fd=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Xt=n}return r.prototype.onCookieToSet=function(t){this.En=t},r.prototype.onCookieToRemove=function(t){this.wn=t},r.prototype.get=function(){return this.h.cookielessTrackingEnabled?this.Xt.getItem(sr):this.M.get(sr)},r.prototype.set=function(t){var e;this.h.cookielessTrackingEnabled?this.Xt.setItem(sr,t):(this.M.set(sr,t),(e=this.En)===null||e===void 0||e.call(this,sr,t))},r.prototype.remove=function(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(sr):(this.M.delete(sr),(t=this.wn)===null||t===void 0||t.call(this,sr))},r.isValidCustomVarString=function(t){return typeof t=="string"},r}();return i}();var Gd=function(){return"spki"}(),_s=function(){return"RSA-OAEP"}(),zd=function(){return"SHA-256"}(),bs=function(){return"AES-CTR"}(),qd=function(){return"SHA-1"}(),As=function(){return 190}(),Vr=function(){var i;return function(r){var t,e=!1,n=null,o,a=typeof TextEncoder!="undefined"?new TextEncoder:null,s;r.crypto=(t=Ut.crypto)===null||t===void 0?void 0:t.subtle,r.MAX_DIGEST_INPUT_SIZE=100;function u(){return!e}r.isKeyImported=u;function c(){return n}r.getCryptoKey=c;function h(){var A,I;return((I=(A=Ut.self.crypto)===null||A===void 0?void 0:A.subtle)===null||I===void 0?void 0:I.encrypt)!=null&&Ut.self.CryptoKey!=null}r.isSupported=h;function f(A){return Ae(this,void 0,void 0,function(){return ge(this,function(I){switch(I.label){case 0:return o=r.crypto.importKey(Gd,Du(A),{name:_s,hash:zd},!1,["encrypt"]).catch(function(){return e=!0,null}),[4,o];case 1:return n=I.sent(),o=void 0,n||bt.warn("Fail to import public key '".concat(A,"'")),[2]}})})}r.importKey=f;function p(A){return Ae(this,void 0,void 0,function(){var I,U,N;return ge(this,function(q){switch(q.label){case 0:return!h()||e?[2,null]:[4,o];case 1:q.sent(),I=la(A),I.byteLength>As&&(I=I.slice(0,As)),q.label=2;case 2:return q.trys.push([2,4,,5]),[4,r.crypto.encrypt({name:_s},n,I)];case 3:return U=q.sent(),[2,ls(U)];case 4:return N=q.sent(),[2,null];case 5:return[2]}})})}r.asymmetricEncrypt=p;function d(A,I){return Ae(this,void 0,void 0,function(){var U,N,q,$;return ge(this,function(W){switch(W.label){case 0:if(!h()||e)return[2,null];U={counter:I.initializationVector,name:bs,length:64},N=a.encode(A),W.label=1;case 1:return W.trys.push([1,3,,4]),[4,r.crypto.encrypt(U,I.cryptoKey,N)];case 2:return q=W.sent(),[2,ls(q)];case 3:return $=W.sent(),[2,null];case 4:return[2]}})})}r.symmetricEncrypt=d;function m(A){return Ae(this,void 0,void 0,function(){var I,U;return ge(this,function(N){switch(N.label){case 0:return[4,w(A)];case 1:if(I=N.sent(),!I)throw new Error("Export secret failed");return[4,p(I)];case 2:if(U=N.sent(),!U)throw new Error("Encrypt secret failed");return[2,U]}})})}r.encryptSecret=m;function w(A){return Ae(this,void 0,void 0,function(){var I,U,N;return ge(this,function(q){switch(q.label){case 0:if(!h())return[2,null];q.label=1;case 1:return q.trys.push([1,3,,4]),[4,r.crypto.exportKey("jwk",A)];case 2:return U=q.sent(),[2,(I=U.k)!==null&&I!==void 0?I:null];case 3:return N=q.sent(),[2,null];case 4:return[2]}})})}function E(){return Ae(this,void 0,void 0,function(){var A,I;return ge(this,function(U){switch(U.label){case 0:if(!h()||e)return[2,null];U.label=1;case 1:return U.trys.push([1,3,,4]),[4,r.crypto.generateKey({name:bs,length:128},!0,["encrypt","decrypt"])];case 2:return A=U.sent(),[2,{cryptoKey:A,initializationVector:Ut.crypto.getRandomValues(new Uint8Array(16))}];case 3:return I=U.sent(),[2,null];case 4:return[2]}})})}r.generateSymmetricKey=E;function _(A){s=A}r.setDigestSalt=_;function b(A){return Ae(this,void 0,void 0,function(){var I,U,N;return ge(this,function(q){switch(q.label){case 0:A=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(A)),s&&(A="".concat(A,":").concat(s)),I=a.encode(A),q.label=1;case 1:return q.trys.push([1,3,,4]),[4,r.crypto.digest(qd,I)];case 2:return U=q.sent(),[2,Lo(U)];case 3:return N=q.sent(),[2,null];case 4:return[2]}})})}r.digest=b;function R(){return Ut.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}r.generateKeyPair=R}(i||(i={})),i}();function Wd(){var i=new Error,r=function(){return i.stack?csArray.prototype.filter.call(csString.prototype.split.call(i.stack,"\n"),function(e){return e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1}):[]}();if(r.length===0)return"";var t=Xd(r);return t===""||(r=Kd(r,t),r.length===0)?"":Qu(r[0])}function Yd(i){return csString.prototype.indexOf.call(i,"@")!==-1}function Xd(i){return i.length>0?Qu(i[0]):""}function Kd(i,r){return csArray.prototype.filter.call(i,function(t){return csString.prototype.indexOf.call(t,r)===-1})}function Qu(i){var r="",t;Yd(i)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");var e=t.exec(i);return e&&(r=e[1]),r}var Jd=function(){return function(i){return i}}();function Qd(i,r,t,e){var n=function(){return csSymbol.for("propertyProxy")}();Object.defineProperty(i,r,{get:function(){var o=this,a;if(this[n])return this[n];var s=(a=t.get)===null||a===void 0?void 0:a.apply(this);return typeof s!="object"?s:(typeof Proxy=="function"?this[n]=new Proxy(s,{get:function(u,c){var h=Reflect.get(u,c);return typeof h=="function"?h.bind(u):h},set:function(u,c,h){var f=u[c],p=Reflect.set(u,c,h);return e.forEach(function(d){return d(o,h,f,"subproperty")}),p}}):this[n]=s,this[n])},set:function(){var o=this,a,s=arguments,u=this[r],c=(a=t.set)===null||a===void 0?void 0:a.apply(this,s);delete this[n];try{e.forEach(function(h){return h(o,s[0],u,"property")})}catch(h){bt.error(h)}return c}})}function Zd(i,r,t){var e=$d(i,r);if(!e)return null;var n=function(o,a,s,u){return t(o,a,s,u)};return{activate:function(){e.add(n)},deactivate:function(){e.delete(n)}}}function $d(i,r){var t=function(){return csSymbol.for(r)}();if(i[t]){var e=i[t];return e}var n=new Set,o=Object.getOwnPropertyDescriptor(i,r);return o?o.configurable?(i[t]=n,Qd(i,r,o,n),n):(bt.warn("Cannot intercept non configurable property '".concat(csString(r),"' of object '").concat(i,"'")),null):(bt.warn("Cannot intercept property '".concat(csString(r),"' because it does not exist directly on the target object '").concat(i,"'")),null)}function tv(i,r){var t=function(){return csSymbol.for(r)}();if(i[t]){var e=i[t];return e}var n=Object.getOwnPropertyDescriptor(i,r);if(!(n!=null&&n.writable)&&!(n!=null&&n.set))return bt.warn("Cannot intercept read only function '".concat(csString(r),"' of object '").concat(i,"'")),null;var o=new Set;i[t]=o;var a=i[r];if(typeof a=="function"){var s=function(){return function(){var u=arguments,c=[];try{c=csArray.prototype.map.call(dn(o),function(p){return p(u)})}catch(p){bt.error(p)}var h=a.apply(this,u);try{for(var f=0;f<c.length;f++)c[f]({result:h,context:this,args:u})}catch(p){bt.error(p)}return h}}();rv(s,a),i[r]=s}return o}function me(i){var r=i.target,t=i.methodName,e=i.hook,n=i.hookPrepareArgs,o=n===void 0?Jd:n,a=i.options,s=tv(r,t);if(!s)return null;var u=function(c){var h=o(c),f=a!=null&&a.withCallerName?{callerName:Wd()}:{};return function(p){return e(Lr(Lr(Lr({},p),f),{args:h}))}};return{activate:function(){s.add(u)},deactivate:function(){s.delete(u)}}}function ev(i,r){var t=function(){return csSymbol.for(r)}();if(i[t]){var e=i[t];return e}var n=new Set,o=Object.getOwnPropertyDescriptor(i,r);return o?o.configurable?(i[t]=n,Object.defineProperty(i,r,{set:function(){var a=this,s,u=arguments,c=this[r],h=(s=o.set)===null||s===void 0?void 0:s.apply(this,u);try{n.forEach(function(f){return f(a,u[0],c,"property")})}catch(f){bt.error(f)}return h}}),n):(bt.warn("Cannot intercept read only property '".concat(csString(r),"' of object '").concat(i,"'")),null):n}function Vo(i,r,t){var e=ev(i,r);if(!e)return null;var n=function(o,a,s){return t(o,a,s,"property")};return{activate:function(){e.add(n)},deactivate:function(){e.delete(n)}}}function rv(i,r){i.prototype=r.prototype,Object.defineProperty(i,"toString",{value:function(){return r.toString()}})}var vn=function(){var i,r=function(){function t(e){this.E=e,this.E=br("DocumentShadowRootObserver:callback",function(n,o){return e(n,o)})}return t.Mg=function(e){this.Nr.forEach(function(n){e(n,"initial")})},t.zi=function(e){var n,o,a=this;if(this.P||(this.P=new csMutationObserver(function(f){var p,d;try{for(var m=ie(f),w=m.next();!w.done;w=m.next()){var E=w.value;E.target.isConnected&&rt(E.addedNodes,a.xg),rt(E.removedNodes,a.kg)}}catch(_){p={error:_}}finally{try{w&&!w.done&&(d=m.return)&&d.call(m)}finally{if(p)throw p.error}}})),csArray.prototype.push.call(this.Ee,e),!this.B){this.B=!0,this.P.observe(document,this.qi);try{for(var s=ie(Ur.getAllShadowHosts(document)),u=s.next();!u.done;u=s.next()){var c=u.value,h=csElementshadowRoot.apply(c);this.Nr.add(h),this.P.observe(h,this.qi)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}this.gu||(this.gu=me({target:Element.prototype,methodName:"attachShadow",hook:function(f){return f.result.isConnected&&a.lf(f.result)}})),this.gu.activate()}this.Mg(e)},t.Wi=function(e){var n,o;this.Ee=csArray.prototype.filter.call(this.Ee,function(a){return a!==e}),this.Ee.length===0&&(this.Ee=[],this.B=!1,(n=this.P)===null||n===void 0||n.disconnect(),(o=this.gu)===null||o===void 0||o.deactivate(),this.Nr.clear())},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){return dn(i.Nr)},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var e,n;return(n=(e=i.P)===null||e===void 0?void 0:e.takeRecords())!==null&&n!==void 0?n:[]},t.prototype.observe=function(){Ur.isSupported()&&i.zi(this.E)},t.prototype.disconnect=function(){Ur.isSupported()&&i.Wi(this.E)},t}();return i=r,r.Ee=[],r.Nr=new Set,r.B=!1,r.qi={childList:!0,subtree:!0},r.lf=function(t){i.Nr.has(t)||(i.P.observe(t,i.qi),i.Nr.add(t),rt(i.Ee,function(e){return e(t,"added")}))},r.xg=function(t){ne(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(i.lf)},r.kg=function(t){t.isConnected||ne(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(function(e){i.Nr.has(e)&&(i.Nr.delete(e),rt(i.Ee,function(n){return n(e,"removed")}))})},_t([B()],r.prototype,"observe",null),_t([B()],r.prototype,"disconnect",null),r}(),Zu=function(){return!0}();function Vt(i,r){r===void 0&&(r=Zu),i.boundElement.addEventListener(i.type,i.listener,r)}function jt(i,r){r===void 0&&(r=Zu),i.boundElement.removeEventListener(i.type,i.listener,r)}function Zt(i,r){r===void 0&&(r=0);var t=Math.pow(10,r);return Math.round(i*t)/t}var Ts=function(){return!1}();function Lt(){return function(i,r,t){if(t){var e=t.value;t.value=function(o,a){(o==null?void 0:o.isTrusted)===!1&&Ts||e.call(this,o,a)}}else{var n=i[r];if(typeof n!="function")return;i[r]=function(o){for(var a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];(o==null?void 0:o.isTrusted)===!1&&Ts||n.call(this,o,a)}}}}function Li(i,r){typeof r=="number"&&(r={wait:r});var t=r.wait,e=r.mode||"leading",n,o=[],a=null,s=0,u,c=function(){s=V.now(),a=null,u=i.apply(n,o),o=[],n=null},h=function(){return function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];if(n=this!==null&&this!==void 0?this:window,o=_r([],Se(f),!1),e==="trailing")return a||(a=window.csSetTimeout(c,t)),u;var d=V.now(),m=t-(d-s);return m<=0||m>t?(s=d,u=i.apply(n,o),a?(window.csClearTimeout(a),a=null):o=[]):a||(a=window.csSetTimeout(c,m)),u}}();return h.cancel=function(){a&&(window.csClearTimeout(a),s=0,a=null,o=[])},h.flushPending=function(){a&&(window.csClearTimeout(a),c())},h}var qn=function(){return function(i){return function(r,t,e){e.value=Li(e.value,i)}}}();function nv(i){return i.nodeType===1}function Mt(i){var r=function(){return csEventtarget.apply(i)}();return r&&nv(r)&&csElementshadowRoot.apply(r)&&i.composedPath?i.__csOriginalTarget||i.composedPath()[0]:r}function iv(i){return i.composedPath&&Object.defineProperty(i,"__csOriginalTarget",{value:i.composedPath()[0],writable:!1,enumerable:!1}),i}function ov(){return function(i,r,t){var e=t.value;return e&&(t.value=function(n){var o=Mt(n);if(o===csEventtarget.apply(n))return e.call(this,n)}),t}}function av(i){if(!J(i))return null;var r=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i,t=r.exec(i);return t?Number(t[2]):null}var sv=function(){return!!window.chrome}(),Rs=function(){return"data-cs-scroll-container"}();function uv(i){try{if(Ht(csEventtarget.apply(i)))return!0}catch(r){}return!1}var $r=function(){var i;return function(r){function t(n){return!!(Ht(n)&&uv(n)&&Fn(csEventtarget.apply(n))&&csEventtarget.apply(n).getAttribute(Rs)!==null)}r.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,"[".concat(Rs,"]"))}r.getScrollContainer=e}(i||(i={})),i}();function cv(){var i=function(){return csSymbol.for("propStore")}();return{getStore:function(r){return r[i]},get:function(r,t){var e=r[i];return e==null?void 0:e[t]},set:function(r,t,e){var n=r[i];n||(n={},r[i]=n),n[t]=e}}}var mi=function(){return cv()}(),tt=function(){var i;return function(r){function t(u,c,h){var f;u instanceof Node?mi.set(u,c,h):((f=u.props)!==null&&f!==void 0||(u.props={}),u.props[c]=h)}r.setProperty=t;function e(u,c){var h;return u instanceof Node?mi.get(u,c):(h=u.props)===null||h===void 0?void 0:h[c]}r.getProperty=e;function n(u){return u instanceof Node?mi.getStore(u):u.props}r.getProperties=n;function o(u,c){var h=null;return a(u,function(f,p,d){return c(f)&&(h=f)&&!!d()}),h}r.findDescendant=o;function a(u,c){s(u,void 0,c)}r.traverse=a;function s(u,c,h){var f,p,d=!1,m=function(){return d=!0};if(h(u,c,m),!d){var w=u.shadowRoot;w&&s(w,u,h);var E=u.children;if(E!=null&&E.length)try{for(var _=dt(E),b=_.next();!b.done;b=_.next()){var R=b.value;if(R&&(s(R,u,h),d))break}}catch(A){f={error:A}}finally{try{b&&!b.done&&(p=_.return)&&p.call(_)}finally{if(f)throw f.error}}}}}(i||(i={})),i}(),$u=function(){return 1}(),Mn=function(){return csSymbol("nodeIdentifier")}();function lv(i){i===void 0&&(i=!1),i&&($u=1),Mn=csSymbol("nodeIdentifier")}function hv(i){return tt.getProperty(i,Mn)}function lt(i){var r=tt.getProperty(i,Mn);return r!=null?r:(tt.setProperty(i,Mn,$u++),tt.getProperty(i,Mn))}var uo;function tn(i){uo||(uo=document.createElement("div"));var r=!!i&&J(i);if(!r)return bt.warn("isValidSelector: invalid selector provided '".concat(i,"'")),!1;try{return le.call(uo,i),!0}catch(t){return bt.warn("isValidSelector: invalid selector provided '".concat(i,"'")),!1}}function jo(i,r){if(os)return os.call(i,r);var t=i;do{if(le.call(t,r))return t;t=t==null?void 0:t.parentElement}while(t!==null&&t.nodeType===1);return null}var H=function(){var i;return function(r){var t;(function(_){_[_.NotMasked=0]="NotMasked",_[_.Parent=1]="Parent",_[_.Child=2]="Child"})(t=r.MaskedElementState||(r.MaskedElementState={})),r.maskedProp="masked",r.maskedAttributeProp="maskedAttribute";function e(_){return ue(_)&&"Attributes"in _&&"PIISelectors"in _?_.Attributes instanceof Array&&_.PIISelectors instanceof Array:!1}r.isSelectorUserInput=e;function n(_){if(!ue(_)||_===null)throw new Error("Command misuse: setPIISelectors");return"Attributes"in _||(_.Attributes=[]),"PIISelectors"in _||(_.PIISelectors=[]),_}r.sanitizeSelectorUserInput=n;function o(_){var b;return(b=tt.getProperty(_,r.maskedProp))!==null&&b!==void 0?b:{state:t.NotMasked}}r.getMaskedElementDetails=o;function a(_){var b;return(b=tt.getProperty(_,r.maskedAttributeProp))!==null&&b!==void 0?b:{attributes:[]}}r.getMaskedAttributeDetails=a;function s(_){var b=tt.getProperty(_,r.maskedProp);return(b==null?void 0:b.state)===t.Parent}r.isMaskedElement=s;function u(_){var b=tt.getProperty(_,r.maskedProp);return(b==null?void 0:b.state)===t.Child}r.isMaskedElementChild=u;function c(_,b){var R=tt.getProperty(_,r.maskedAttributeProp);return((R==null?void 0:R.attributes)==null?void 0:csArray.prototype.indexOf.call(R==null?void 0:R.attributes,b))>-1}r.isMaskedAttribute=c;function h(_,b){tt.setProperty(_,r.maskedProp,b)}r.setMaskedElementProperty=h;function f(_){tt.setProperty(_,r.maskedProp,void 0)}r.unsetMaskedElementProperty=f;function p(_,b){tt.setProperty(_,r.maskedAttributeProp,b)}r.setMaskedAttributeProperty=p;function d(_,b){var R,A=csArray.prototype.filter.call(_.PIISelectors,function(N){return tn(N)});b.elementSelector.length>0&&(R=csArray.prototype.push).call.apply(R,Er([A],yt(csString.prototype.split.call(b.elementSelector,",")),!1));var I=E(Er([],yt(A),!1)),U={elementSelector:csArray.prototype.join.call(I,","),attrSelector:b.attrSelector,attrSelectors:b.attrSelectors};return csArray.prototype.forEach.call(_.Attributes,function(N){N!=null&&N.attrName&&(N!=null&&N.selector)&&tn(N.selector)&&!m(U.attrSelectors,N)&&csArray.prototype.push.call(U.attrSelectors,N)}),U.attrSelector=w(U.attrSelectors),U}r.getComputedSelectorSettings=d;function m(_,b){return csArray.prototype.some.call(_,function(R){return R.selector===b.selector&&R.attrName===b.attrName})}function w(_){var b="";return csArray.prototype.forEach.call(_,function(R){var A=csString.prototype.split.call(R.selector,",");csArray.prototype.forEach.call(A,function(I){tn(I)&&(b&&(b+=","),b+=I)})}),b}function E(_){var b,R,A,I;if(_.length<=1)return _;var U=[];try{for(var N=dt(_),q=N.next();!q.done;q=N.next()){var $=q.value,W=csString.prototype.split.call($,",");try{for(var T=(A=void 0,dt(W)),P=T.next();!P.done;P=T.next()){var L=P.value;csArray.prototype.indexOf.call(U,L)===-1&&csArray.prototype.push.call(U,L)}}catch(Y){A={error:Y}}finally{try{P&&!P.done&&(I=T.return)&&I.call(T)}finally{if(A)throw A.error}}}}catch(Y){b={error:Y}}finally{try{q&&!q.done&&(R=N.return)&&R.call(N)}finally{if(b)throw b.error}}return U}}(i||(i={})),i}(),z=function(){var i;return function(r){r[r.MUTATION_INSERT=1]="MUTATION_INSERT",r[r.MUTATION_REMOVE=2]="MUTATION_REMOVE",r[r.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",r[r.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",r[r.INITIAL_DOM=5]="INITIAL_DOM",r[r.SCROLL=6]="SCROLL",r[r.CLICK=8]="CLICK",r[r.RESIZE=9]="RESIZE",r[r.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",r[r.INPUT_SELECT=11]="INPUT_SELECT",r[r.INPUT_TEXT=12]="INPUT_TEXT",r[r.HASH_CHANGE=13]="HASH_CHANGE",r[r.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",r[r.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",r[r.MOUSE_OVER=16]="MOUSE_OVER",r[r.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",r[r.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",r[r.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",r[r.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",r[r.ATTACH_SHADOW=22]="ATTACH_SHADOW",r[r.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",r[r.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",r[r.PAGE_EVENT=27]="PAGE_EVENT",r[r.API_ERROR=28]="API_ERROR",r[r.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",r[r.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",r[r.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",r[r.KEY_DOWN=32]="KEY_DOWN",r[r.KEY_UP=33]="KEY_UP",r[r.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",r[r.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",r[r.USER_IDENTIFIER=38]="USER_IDENTIFIER",r[r.TOUCH_START=41]="TOUCH_START",r[r.TOUCH_MOVE=42]="TOUCH_MOVE",r[r.TOUCH_END=43]="TOUCH_END",r[r.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",r[r.POINTER_DOWN=47]="POINTER_DOWN",r[r.POINTER_MOVE=48]="POINTER_MOVE",r[r.POINTER_UP=49]="POINTER_UP",r[r.CUSTOM_ERROR=50]="CUSTOM_ERROR",r[r.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",r[r.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",r[r.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",r[r.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",r[r.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",r[r.SCREEN_RESIZE=65]="SCREEN_RESIZE",r[r.RESOURCE_HASHES=66]="RESOURCE_HASHES",r[r.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",r[r.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",r[r.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",r[r.TEXT_REF=73]="TEXT_REF",r[r.TOUCH_CANCEL=74]="TOUCH_CANCEL",r[r.MUTATION_MOVE=75]="MUTATION_MOVE",r[r.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",r[r.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",r[r.VIDEO_PLAY=78]="VIDEO_PLAY",r[r.VIDEO_PAUSE=79]="VIDEO_PAUSE",r[r.VIDEO_SEEK=80]="VIDEO_SEEK",r[r.DEBUG=999]="DEBUG"}(i||(i={})),i}();var Rn=function(){var i;return function(r){r[r.SWIPE=0]="SWIPE",r[r.PINCH_IN=1]="PINCH_IN",r[r.PINCH_OUT=2]="PINCH_OUT",r[r.LONG_PRESS=3]="LONG_PRESS",r[r.TAP=4]="TAP",r[r.DOUBLE_TAP=5]="DOUBLE_TAP"}(i||(i={})),i}(),en=function(){var i;return function(r){r[r.COPY=0]="COPY",r[r.CUT=1]="CUT",r[r.PASTE=2]="PASTE"}(i||(i={})),i}(),et=function(){var i;return function(r){r[r.SPACE=0]="SPACE",r[r.ENTER=1]="ENTER",r[r.BACKSPACE=2]="BACKSPACE",r[r.DELETE=3]="DELETE",r[r.ARROWUP=4]="ARROWUP",r[r.ARROWDOWN=5]="ARROWDOWN",r[r.ARROWLEFT=6]="ARROWLEFT",r[r.ARROWRIGHT=7]="ARROWRIGHT",r[r.CAPSLOCK=8]="CAPSLOCK",r[r.SHIFT=9]="SHIFT",r[r.TAB=10]="TAB",r[r.ALPHANUMERICAL=11]="ALPHANUMERICAL",r[r.ESCAPE=12]="ESCAPE",r[r.END=13]="END",r[r.ALT=14]="ALT",r[r.CTRL=15]="CTRL",r[r.META=16]="META"}(i||(i={})),i}(),fv=function(){return 33}(),tc=function(){var i=function(){function r(){var t=this;this.eventType="user",this.mu=[],this.Dg=[{type:"pointerup",listener:function(n){return t.pointerUpListener(n)},boundElement:document},{type:"pointermove",listener:function(n){return t.pointerMoveListener(n)},boundElement:document},{type:"pointerdown",listener:function(n){return t.pointerDownListener(n)},boundElement:document}],this.Lg=[{type:"touchstart",listener:function(n){return t.touchStartListener(n)},boundElement:document},{type:"touchmove",listener:function(n){return t.touchMoveListener(n)},boundElement:document},{type:"touchend",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document},{type:"touchcancel",listener:function(n){return t.touchEndCancelListener(n)},boundElement:document}],this.ga=[{type:"click",listener:function(n){return t.clickListener(n)},boundElement:document},{type:"keyup",listener:function(n){return t.keyUpListener(n)},boundElement:document},{type:"keydown",listener:function(n){return t.keyDownListener(n)},boundElement:document},{type:"copy",listener:function(n){return t.copyListener(n)},boundElement:document},{type:"cut",listener:function(n){return t.cutListener(n)},boundElement:document},{type:"paste",listener:function(n){return t.pasteListener(n)},boundElement:document},{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))},boundElement:document},{type:"mouseover",listener:function(n){return t.mouseOverListener(n)},boundElement:document}],this.Su=[{type:"scroll",listener:function(n){return t.scrollListener(csEventtarget.apply(n))}}];var e=av(window.navigator.userAgent);(e===null||e&&e>=16)&&csArray.prototype.push.call(this.Su,{type:"mouseover",listener:function(n){return t.mouseOverListener(n)}}),this.ne=new vn(function(n,o){switch(o){case"initial":case"added":t._n(n);break;case"removed":t.bn(n);break}})}return r.prototype.init=function(){this.Ug(),this.Vg(),this.Eu()},r.prototype.onEvent=function(t){csArray.prototype.push.call(this.mu,t)},r.prototype.Kt=function(t,e){e===void 0&&(e=!1),csArray.prototype.forEach.call(this.mu,function(n){return n(t,e)})},r.prototype.start=function(){this.wu(),this._n(document),this.ne.observe()},r.prototype.stop=function(){this.bn(document),this.ne.disconnect(),this.mu=[]},r.prototype.Vg=function(){var t;this.jg()&&(t=csArray.prototype.push).call.apply(t,Ct([this.ga],it(this.Dg),!1))},r.prototype.Ug=function(){var t;this.Hg()&&(t=csArray.prototype.push).call.apply(t,Ct([this.ga],it(this.Lg),!1))},r.prototype._n=function(t){bi(t)?csArray.prototype.forEach.call(this.ga,function(e){return Vt(e)}):csArray.prototype.forEach.call(this.Su,function(e){var n={type:e.type,listener:e.listener,boundElement:t};Vt(n)})},r.prototype.bn=function(t){bi(t)?csArray.prototype.forEach.call(this.ga,function(e){return jt(e)}):csArray.prototype.forEach.call(this.Su,function(e){var n={type:e.type,listener:e.listener,boundElement:t};jt(n)})},r.prototype.jg=function(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"},r.prototype.Hg=function(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"},r.prototype.wu=function(){this.Bg()},r.prototype.Bg=function(){var t=$r.getScrollContainer()||document,e=lt(t),n=this.hf(t);if(n.top!==0||n.left!==0){var o={type:z.SCROLL,args:[e,n.left,n.top],date:V.now()};this.Kt(o,!0)}},r.prototype.hf=function(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}},r.prototype.scrollListener=function(t){if(!(H.isMaskedElement(t)||H.isMaskedElementChild(t))){var e=lt(t),n=this.hf(t),o={type:z.SCROLL,args:[e,n.left,n.top],date:V.now()};this.Kt(o)}},r.prototype.mouseOverListener=function(t){if(!H.isMaskedElementChild(t.target)){var e=lt(t.target),n={type:z.MOUSE_OVER,args:[e],date:V.now()};this.Kt(n)}},r.prototype.clickListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.CLICK,args:[n],date:V.now()};this.Kt(o)}},r.prototype.keyUpListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o=this.D[t.key];if(o!==void 0){var a={type:z.KEY_UP,args:[n,o],date:V.now()};this.Kt(a)}}},r.prototype.keyDownListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o=this.D[t.key];if(o!==void 0){var a={type:z.KEY_DOWN,args:[n,o],date:V.now()};this.Kt(a)}}},r.prototype.copyListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.CLIPBOARD_COMMAND,args:[n,en.COPY],date:V.now()};this.Kt(o)}},r.prototype.cutListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.CLIPBOARD_COMMAND,args:[n,en.CUT],date:V.now()};this.Kt(o)}},r.prototype.pasteListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.CLIPBOARD_COMMAND,args:[n,en.PASTE],date:V.now()};this.Kt(o)}},r.prototype.pointerUpListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.POINTER_UP,args:[t.pointerId,t.pointerType,Zt(t.clientX,1),Zt(t.clientY,1),n,t.button],date:V.now()};this.Kt(o)}},r.prototype.pointerMoveListener=function(t){var e={type:z.POINTER_MOVE,args:[t.pointerId,t.pointerType,Zt(t.clientX,1),Zt(t.clientY,1)],date:V.now()};this.Kt(e)},r.prototype.pointerDownListener=function(t){var e=Mt(t);if(!H.isMaskedElementChild(e)){var n=lt(e),o={type:z.POINTER_DOWN,args:[t.pointerId,t.pointerType,Zt(t.clientX,1),Zt(t.clientY,1),n,t.button,{pageX:Zt(t.pageX,1),pageY:Zt(t.pageY,1)}],date:V.now()};this.Kt(o)}},r.prototype.touchStartListener=function(t){if(t.changedTouches)for(var e=t.changedTouches,n=0;n<e.length;n+=1){var o=e[n],a={type:z.TOUCH_START,args:[o.identifier,Zt(o.clientX,1),Zt(o.clientY,1)],date:V.now()};this.Kt(a)}},r.prototype.touchMoveListener=function(t){if(t.changedTouches)for(var e=t.changedTouches,n=0;n<e.length;n+=1){var o=e[n],a={type:z.TOUCH_MOVE,args:[o.identifier,Zt(o.clientX,1),Zt(o.clientY,1)],date:V.now()};this.Kt(a)}},r.prototype.touchEndCancelListener=function(t){if(t.changedTouches)for(var e=t.changedTouches,n=0;n<e.length;n+=1){var o=e[n],a={type:t.type==="touchend"?z.TOUCH_END:z.TOUCH_CANCEL,args:[o.identifier,Zt(o.clientX,1),Zt(o.clientY,1)],date:V.now()};this.Kt(a)}},r.prototype.Eu=function(){this.D={},this.D[" "]=et.SPACE,this.D.Spacebar=et.SPACE,this.D.Backspace=et.BACKSPACE,this.D.Enter=et.ENTER,this.D.Delete=et.DELETE,this.D.ArrowUp=et.ARROWUP,this.D.ArrowDown=et.ARROWDOWN,this.D.ArrowLeft=et.ARROWLEFT,this.D.ArrowRight=et.ARROWRIGHT,this.D.Up=et.ARROWUP,this.D.Down=et.ARROWDOWN,this.D.Left=et.ARROWLEFT,this.D.Right=et.ARROWRIGHT,this.D.CapsLock=et.CAPSLOCK,this.D.Shift=et.SHIFT,this.D.Tab=et.TAB,this.D.Escape=et.ESCAPE,this.D.Esc=et.ESCAPE,this.D.End=et.END,this.D.Alt=et.ALT,this.D.Control=et.CTRL,this.D.Meta=et.META},r}();return X([Jt("RecordingPageEvents.start")],i.prototype,"start",null),X([B("scroll")],i.prototype,"scrollListener",null),X([B("mouseOver"),Lt(),ov()],i.prototype,"mouseOverListener",null),X([B("click"),Lt()],i.prototype,"clickListener",null),X([B("Event handler type: keyup")],i.prototype,"keyUpListener",null),X([B("Event handler type: keydown")],i.prototype,"keyDownListener",null),X([B("Event handler type: copy")],i.prototype,"copyListener",null),X([B("Event handler type: cut")],i.prototype,"cutListener",null),X([B("Event handler type: paste")],i.prototype,"pasteListener",null),X([B("Event handler type: pointerup"),Lt()],i.prototype,"pointerUpListener",null),X([B("Event handler type: pointermove"),Lt(),qn({wait:fv})],i.prototype,"pointerMoveListener",null),X([B("Event handler type: pointerdown"),Lt()],i.prototype,"pointerDownListener",null),X([B("Event handler type: touchstart"),Lt()],i.prototype,"touchStartListener",null),X([B("Event handler type: touchmove"),Lt()],i.prototype,"touchMoveListener",null),X([B("Event handler type: touchend-cancel"),Lt()],i.prototype,"touchEndCancelListener",null),i}(),pv=function(){return 2}(),pa=function(){var i=function(){function r(t){this.Fg=t,this.ma=0}return r.prototype.addString=function(t){this.ma+=t.length*pv},r.prototype.addArrayBuffer=function(t){this.ma+=t.byteLength},r.prototype.isThresholdReached=function(){return this.ma>this.Fg},r.prototype.reset=function(){this.ma=0},r}();return i}(),dv=function(){return 2*1e3*1024}(),vv=function(){return 200}(),yv=function(){var i=function(){function r(t,e){t===void 0&&(t=[]),e===void 0&&(e=dv),this.Nt=t,this._u=new pa(e)}return r.prototype.addEvent=function(t){this._u.addString(an(t)),csArray.prototype.push.call(this.Nt,t)},r.prototype.addEventByTimestamp=function(t){for(var e=0;e<this.Nt.length;e+=1){var n=this.Nt[e];if(n.date>=t.date)break}csArray.prototype.splice.call(this.Nt,e,0,t)},r.prototype.eventsCount=function(){return this.Nt.length},r.prototype.clearEvents=function(){this._u.reset(),this.Nt=[]},r.prototype.isFull=function(){return this.eventsCount()>=vv},r.prototype.isThresholdReached=function(){return this._u.isThresholdReached()},r.prototype.getEvents=function(){return this.Nt},r.prototype.extractEvents=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=[],o=[];return csArray.prototype.forEach.call(this.Nt,function(a){csArray.prototype.indexOf.call(t,a.type)!==-1?csArray.prototype.push.call(n,a):csArray.prototype.push.call(o,a)}),this.Nt=o,n},r.prototype.stringifyEvents=function(){return an(this.Nt)},r.prototype.cC=function(t){t.type===z.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)},r}();return X([Jt("RecordingBatch.addEvent")],i.prototype,"addEvent",null),i}(),gv=function(){var i=function(){function r(){this.Sa=1}return r.prototype.getCurrentIndex=function(){return this.Sa},r.prototype.increment=function(){this.Sa+=1},r.prototype.reset=function(){this.Sa=1},r.prototype.getRequestParameters=function(){return{ri:"".concat(this.Sa)}},r}();return i}(),da=function(){var i=function(){function r(){}return r.prototype.emit=function(t,e,n,o){o===void 0&&(o=document);var a=n!==void 0?"".concat(n):"".concat(r.Gg),s="".concat(a).concat(t),u=r.createEvent(s,{detail:e});u!==null&&o.dispatchEvent(u)},r.createEvent=function(t,e){if(e===void 0&&(e={}),typeof CustomEvent=="function")return new CustomEvent(t,e);var n=this.zg();if(n===null)return null;var o=e.bubbles,a=o===void 0?!1:o,s=e.cancelable,u=s===void 0?!1:s,c=e.detail;return n.initCustomEvent(t,a,u,c),n},r.zg=function(){try{return document.createEvent("CustomEvent")}catch(t){return null}},r}();return i.Gg="cs.tracking.",i}(),wt=function(){var i=function(){function r(){this._isStarted=!1}return Object.defineProperty(r.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),r.prototype.start=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._isStarted||(this._isStarted=!0,this.onStart.apply(this,Ct([],it(t),!1)))},r.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,this.onStop())},r.prototype.restart=function(){this.stop(),this.start()},r}();return i}(),Si=function(){return"null"}(),vr=function(){return null}(),ec=function(){return[]}(),mv=function(){return function(){var i;return Bn||!!(!((i=document.body)===null||i===void 0)&&i.getAttribute("data-cs-tag-extension"))}}();!Bn&&mv()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],vr=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",function(i){Ho({type:"UXA_EVENT",event:i.detail})}),vr.addEventListener("message",function(i){if(i.data.type==="CONNECT"){if(i.data.sessionId===Si)return;Si=i.data.sessionId,csArray.prototype.forEach.call(ec,function(r){return r()}),vr==null||vr.postMessage({type:"CONNECTED",sessionId:Si})}}));function Sv(i){Bn||(Si!==null&&csSetTimeout(i),csSetTimeout(function(){return csArray.prototype.push.call(ec,i)}))}function Ho(i){vr==null||vr.postMessage(i)}var Ui=function(){var i=function(){function r(t,e){e===void 0&&(e=""),this.name=t,this.format=e}return r}();return i}(),Nr=function(){var i=function(r){xi(t,r);function t(e){var n=r.call(this,e,"Value: {count}")||this;return n.count=0,n}return t.prototype.increase=function(e){e===void 0&&(e=1),this.count+=e},t.prototype.decrease=function(){this.count>0&&this.count--},t.prototype.clear=function(){this.count=0},t.prototype.getData=function(){return{count:this.count}},t}(Ui);return i}();var Cs=function(){var i=function(r){xi(t,r);function t(e){var n=r.call(this,e,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}")||this;return n.added=0,n.removed=0,n}return Object.defineProperty(t.prototype,"value",{get:function(){return this.added-this.removed},enumerable:!1,configurable:!0}),t.prototype.increase=function(){this.added++},t.prototype.decrease=function(){this.removed++},t.prototype.getData=function(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}},t}(Ui);return i}(),co=function(){var i=function(r){xi(t,r);function t(e){var n=r.call(this,e,"Count: {count}<br/>Average: {average}ms<br/>Total: {total}ms")||this;return n.total=0,n.count=0,n}return Object.defineProperty(t.prototype,"average",{get:function(){return this.count?this.total/this.count:0},enumerable:!1,configurable:!0}),t.prototype.measure=function(e){var n=V.elapsed();e(),this.count++,this.total+=V.elapsed()-n},t.prototype.asyncMeasure=function(){var e=this,n=V.elapsed();return function(){e.count++,e.total+=V.elapsed()-n}},t.prototype.getData=function(){return{total:this.total,count:this.count,average:this.average}},t}(Ui);return i}(),Pe=function(){return{general:{category:"General",nbEvents:new Nr("Nb of Events"),pendingTasks:new Nr("Pending Tasks"),pendingEvents:new Nr("Pending Tasks"),nbOfMutationObservers:new Cs("Nb of Mutation Observers")},mutations:{category:"Mutations",initialDOM:new co("Initial DOM"),pendingMutations:new Nr("Nb of Mutations scheduled"),serializedMutations:new co("Serialized Mutations"),count:new Nr("Mutation Count"),elementMutationObserved:new Cs("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new co("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new Nr("Nb of Hidden Elements "),nbElements:new Nr("Nb of  Elements")}}}(),Is=function(){return null}();Sv(function(){var i=function(){return function(n){return Object.keys(n)}}(),r=function(){return csArray.prototype.map.call(i(Pe),function(n){return Pe[n]})}(),t=function(){return csArray.prototype.map.call(r,function(n){return csArray.prototype.filter.call(csArray.prototype.map.call(i(n),function(o){return n[o]}),function(o){return o instanceof Ui})})}(),e=function(){return csArray.prototype.map.call(r,function(n,o){return{category:n.category,performanceCounters:csArray.prototype.map.call(t[o],function(a){return{name:a.name,format:a.format}})}})}();Ho({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:e}),!Is&&(Is=csSetInterval(function(){var n=Nu(Ne(t,function(o){return Ne(o,function(a){return a.getData()})}),function(o){return o});Ho({type:"UXA_PERFORMANCE_COUNTER",event:n})},1e3))});var j=function(){var i;return function(r){r.QUOTA_REACHED="X",r.RECORDING_RULES_TARGETING="8",r.ANALYTICS_ONLY_RULES_TARGETING="9",r.ANALYTICS_ONLY="0",r.RECORDING_GLOBAL_SAMPLING="5",r.RECORDING_TEMPORARILY="T",r.RECORDING_URL_SAMPLING="6",r.RECORDING_ETR_SAMPLING="7",r.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",r.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(i||(i={})),i}(),Ft=function(){var i;return function(r){r.ETR_OFF="0",r.ETR_ON="1"}(i||(i={})),i}(),mr=function(){var i;return function(r){r.ETR_LEGACY="0",r.ETR_SESSION="1",r.ETR_PAGE="2"}(i||(i={})),i}(),Wt=function(){var i;return function(r){r.ETR_DISABLED="0",r.ETR_PENDING="1",r.ETR_SAVED_PAGE="2",r.ETR_SAVED_SESSION="3",r.ETR_NOT_SAVED_SESSION="9"}(i||(i={})),i}();function re(i){return ke(i,"data:")}function rc(i){return ke(i,"#")}function Ci(i){return!!i&&(zn(i,".css")||ke(i,"https://fonts.googleapis.com/css"))}var Ps=function(){return/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:…\])]/gi}();function Ev(i){Ps.lastIndex=0;for(var r,t=0,e=[],n=function(){var a=r.index,s=r.index+r[0].length;if(a>t){var u=function(){return csString.prototype.slice.call(i,t,a)}();csArray.prototype.push.call(e,{content:u,isUrl:!1})}var c=function(){return csString.prototype.slice.call(i,a,s)}();csArray.prototype.push.call(e,{content:c,isUrl:!0}),t=s};(r=Ps.exec(i))!==null;)n();if(t<i.length){var o=function(){return csString.prototype.slice.call(i,t)}();csArray.prototype.push.call(e,{content:o,isUrl:!1})}return e}function va(i){var r=function(){return csString.prototype.trim.call(i)}();if(i==="")return[];var t=Se(wv(r),2),e=t[0],n=t[1];return n?(zn(e,",")||(n=_v(n)),_r([Os(e)],Se(va(n)),!1)):[Os(e)]}function wv(i){return csString.prototype.split.call(i,/\s(.+)/)}function Os(i){return csString.prototype.split.call(i,/,$/)[0]}function _v(i){return csString.prototype.split.call(i,/,(.+)/)[1]||""}var bv=function(){return/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g}();function Av(i,r){var t=function(){return csString.prototype.replace.call(i,bv,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[3]||e[4],a=e[9]||e[10]||e[11],s=Rv((o||a).trim()),u=o?"@import ":"",c=r(s)||s;return"".concat(u,"url(").concat(Tv(c),")")})}();return t}function Tv(i){return csString.prototype.indexOf.call(i,'"')===-1?'"'.concat(i,'"'):csString.prototype.indexOf.call(i,"'")===-1?"'".concat(i,"'"):i}function xn(i){var r=new Set;return Av(i,function(t){var e,n;return r.add((n=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&n!==void 0?n:t),t}),dn(r)}function Rv(i){var r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(i,r,function(t,e,n,o){if(e==="\\")return csString.prototype.slice.call(t,1);if(o)return o;var a=parseInt(n,16),s=55296<=a&&a<=57343;return s||a===0||a>1114111?"\uFFFD":csString.fromCodePoint(a)})}var Ns=function(){return new Map}(),lo=function(){return!Bn&&document.implementation.createHTMLDocument("")}();function nc(i){var r,t;return(t=(r=i.sheet)===null||r===void 0?void 0:r.href)!==null&&t!==void 0?t:i.getAttribute("href")}function Cv(i){if(!ea(i))return null;var r=ic(i);if(r===null||r.length===0)return null;var t="";if(Zf(i.textContent))rt(r,function(s){return t+=s.cssText});else{var e=Iv(i);if(e===r.length||e>r.length)return null;for(var n=function(){return new csArray(r.length-e)}(),o=e,a=0;o<r.length;o+=1,a+=1)n[a]=r[o];rt(n,function(s){return t+=s.cssText})}return t}function Iv(i){if(!lo)return 0;var r=Ns.get(i.textContent);if(r)return r;var t=i.cloneNode(!0);t.textContent=i.textContent,lo.head.appendChild(t);var e=ic(t);return r=e?e.length:0,Ns.set(i.textContent,r),lo.head.removeChild(t),r}function ic(i){try{if(i.disabled)return null;var r=i.sheet;return r?r.cssRules||r.rules:null}catch(t){if(t.name!=="SecurityError"&&t.name!=="InvalidAccessError")throw t;return null}}var In=function(){return function(i){return i instanceof HTMLFormElement?"form":i.localName}}();var Fr=function(){var i=function(){function r(t){this.csId=lt(t),this.props=mi.getStore(t)}return r}();return i}(),oc=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=3,n.data=e.data,n}return t}(Fr);return i}(),rn=function(){var i=function(r){mt(t,r);function t(e){var n,o=r.call(this,e)||this;o.attributes=[],o.nodeType=1,o.localName=In(e),o.namespaceURI=(n=e.namespaceURI)!==null&&n!==void 0?n:void 0,o.children=[];var a=Cv(e);if(a){o.children=new csArray(csNodechildNodes.apply(e).length);var s=document.createTextNode(a),u=new oc(s);csArray.prototype.push.call(o.children,u)}return fn(e)&&tt.setProperty(o,"SVG",!0),o}return t.isElement=function(e){return e.nodeType===1},t.getAttribute=function(e,n){return Fe(e.attributes,function(o){return o.name===n})},t.getAttributeValue=function(e,n){var o;return(o=this.getAttribute(e,n))===null||o===void 0?void 0:o.value},t}(Fr);return i}(),ya=function(){var i=function(){function r(t){var e=this;this.type="asyncEvent",this.bu=!1,t&&t(function(n){return e.resolve(n)})}return r.prototype.resolve=function(t){if(this.bu)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t=Sr(Sr({},t),{timestamp:this.timestamp})),this.Mr=t,this.bu=!0,this.E&&this.E(this.Mr)},r.prototype.complete=function(t){this.bu&&t(this.Mr),this.E=t},r.prototype.wait=function(){var t=this;return new Promise(function(e){return t.complete(e)})},r}();return i}();function Pv(i,r){var t=!1,e=function(){if(!t)return i.apply(r,arguments)};return e.cancel=function(){return t=!0},e}var Bo=function(){return csQueueMicrotask||csSetTimeout}(),ci=function(){return new pn}(),Cn=function(){return new pn}(),Ms=function(){return 1}();function se(i,r){r===void 0&&(r="high");var t=Ms;ci.isEmpty&&Cn.isEmpty&&ac(function(){if(Ms===t){var o=Hr(function(){for(;!Cn.isEmpty;){var a=Cn.pop();a()}for(;!ci.isEmpty;){var s=ci.pop();s()}Cn.isEmpty||o()},"groupMicrotask.run");o()}});var e=i.name||i.toString(),n=br("groupMicrotask:".concat(r,":").concat(e),i);r==="high"?Cn.push(n):ci.push(n)}function ac(i,r){r===void 0&&(r=10),Bo(r===0?i:function(){return ac(i,r-1)})}function sc(){return Ae(this,arguments,void 0,function(i){var r;return i===void 0&&(i=1),ge(this,function(t){switch(t.label){case 0:r=0,t.label=1;case 1:return r<i?[4,new Promise(function(e){return se(e)})]:[3,4];case 2:t.sent(),t.label=3;case 3:return r++,[3,1];case 4:return[2]}})})}function Vi(){var i=new Set;return{add:function(r){i.add(r),i.size===1&&csSetTimeout(function(){i.clear()})},has:function(r){return i.has(r)},del:function(r){i.delete(r)},clear:function(){i.clear()},values:function(){return dn(i)},get count(){return i.size}}}function ji(i,r){r===void 0&&(r=!1);var t=Vi();return{push:function(e){if(t.count===0){var n=function(){return r?se:csSetTimeout}();n(function(){i(t.values()),t.clear()})}t.add(e)}}}var kr=function(){return csSymbol()}(),ga=function(){var i=function(){function r(t){var e=this,n,o,a,s,u,c,h,f,p,d,m,w;this.E=t,this.Au=null,this.Tu=null,this.Ru=null,this.Cu=null,this.qg=ji(function(E){return e.processUpdateRulesInATick(E)}),this.Iu=null,this.Pu=null,this.Ou=null,this.E=function(E){return se(function(){return t(E)})},typeof((o=(n=window.CSSStyleSheet)===null||n===void 0?void 0:n.prototype)===null||o===void 0?void 0:o.insertRule)=="function"&&(this.Au=me({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:function(E){var _=E.context,b=E.args;e.processInsertRule(_,b)}})),typeof((s=(a=window.CSSStyleSheet)===null||a===void 0?void 0:a.prototype)===null||s===void 0?void 0:s.deleteRule)=="function"&&(this.Tu=me({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:function(E){var _=E.context,b=E.args;e.processDeleteRule(_,b)}})),typeof((c=(u=window.CSSGroupingRule)===null||u===void 0?void 0:u.prototype)===null||c===void 0?void 0:c.insertRule)=="function"&&(this.Ru=me({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:function(E){var _=E.context;return e.processUpdateRule(_)}})),typeof((f=(h=window.CSSGroupingRule)===null||h===void 0?void 0:h.prototype)===null||f===void 0?void 0:f.deleteRule)=="function"&&(this.Cu=me({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:function(E){var _=E.context;return e.processUpdateRule(_)}})),typeof((d=(p=window.CSSStyleDeclaration)===null||p===void 0?void 0:p.prototype)===null||d===void 0?void 0:d.setProperty)=="function"&&(this.Iu=me({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:function(E){var _=E.context,b=_.parentRule;b instanceof CSSStyleRule&&e.processUpdateRule(b)}})),typeof((w=(m=window.CSSStyleDeclaration)===null||m===void 0?void 0:m.prototype)===null||w===void 0?void 0:w.removeProperty)=="function"&&(this.Pu=me({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:function(E){var _=E.context,b=_.parentRule;b instanceof CSSStyleRule&&e.processUpdateRule(b)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.Ou=Zd(window.CSSStyleRule.prototype,"style",function(E){e.processUpdateRule(E)}))}return r.prototype.observe=function(){var t,e,n,o,a,s,u;(t=this.Au)===null||t===void 0||t.activate(),(e=this.Tu)===null||e===void 0||e.activate(),(n=this.Ru)===null||n===void 0||n.activate(),(o=this.Cu)===null||o===void 0||o.activate(),(a=this.Iu)===null||a===void 0||a.activate(),(s=this.Pu)===null||s===void 0||s.activate(),(u=this.Ou)===null||u===void 0||u.activate()},r.prototype.disconnect=function(){var t,e,n,o,a,s,u;(t=this.Au)===null||t===void 0||t.deactivate(),(e=this.Tu)===null||e===void 0||e.deactivate(),(n=this.Ru)===null||n===void 0||n.deactivate(),(o=this.Cu)===null||o===void 0||o.deactivate(),(a=this.Iu)===null||a===void 0||a.deactivate(),(s=this.Pu)===null||s===void 0||s.deactivate(),(u=this.Ou)===null||u===void 0||u.deactivate()},r.prototype.processInsertRule=function(t,e){var n=Se(e,2),o=n[0],a=n[1];if(!(t[kr]==null&&!t.ownerNode)){var s={type:"cssRuleInserted",sheet:t,rule:o,index:a};this.E(s)}},r.prototype.processUpdateRule=function(t){for(var e=t;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.qg.push(e)},r.prototype.processUpdateRulesInATick=function(t){var e,n;try{for(var o=ie(t),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.parentStyleSheet===null)return;var u=s.parentStyleSheet,c=csArray.prototype.indexOf.call(on(u.cssRules),s);if(c===-1)return;var h={type:"cssRuleUpdated",sheet:u,rule:s.cssText,index:c};this.E(h)}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},r.prototype.processDeleteRule=function(t,e){var n=Se(e,1),o=n[0];if(!(t[kr]==null&&!t.ownerNode)){var a={type:"cssRuleDeleted",sheet:t,index:o};this.E(a)}},r}();return _t([B()],i.prototype,"observe",null),_t([B()],i.prototype,"disconnect",null),_t([B()],i.prototype,"processInsertRule",null),_t([B()],i.prototype,"processUpdateRule",null),_t([B()],i.prototype,"processUpdateRulesInATick",null),_t([B()],i.prototype,"processDeleteRule",null),i}(),Ov=function(){var i=function(){function r(t){var e=this;this.Wg=1,this.Ea=new Set,this.Nu=null,this.Mu=null,this.xu=function(n,o){(o==="initial"||o==="added")&&e.setStyleSheets(n,n.adoptedStyleSheets)},this.Yg=function(n){var o=n.sheet;if(e.Ea.has(o)){if(n.type==="cssRuleInserted"){var a={type:"adoptedStyleSheetRuleInserted",sheetId:o[kr],rule:n.rule,index:n.index};e.E(a)}else if(n.type==="cssRuleDeleted"){var s={type:"adoptedStyleSheetRuleDeleted",sheetId:o[kr],index:n.index};e.E(s)}else if(n.type==="cssRuleUpdated"){var u={type:"adoptedStyleSheetRuleUpdated",sheetId:o[kr],rule:n.rule,index:n.index};e.E(u)}}},this.E=function(n){return se(function(){return Ae(e,void 0,void 0,function(){return ge(this,function(o){switch(o.label){case 0:return[4,sc(2)];case 1:return o.sent(),t(n),[2]}})})})},this.ne=new vn(this.xu),"adoptedStyleSheets"in Document.prototype&&(this.Nu=Vo(window.Document.prototype,"adoptedStyleSheets",function(n,o){e.setStyleSheets(n,o)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.Mu=Vo(window.ShadowRoot.prototype,"adoptedStyleSheets",function(n,o){e.setStyleSheets(n,o)})),this.ff=new ga(this.Yg)}return r.prototype.observe=function(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.ne.observe(),(t=this.Nu)===null||t===void 0||t.activate(),(e=this.Mu)===null||e===void 0||e.activate(),this.ff.observe()},r.prototype.disconnect=function(){var t,e;this.Ea.clear(),this.ne.disconnect(),(t=this.Nu)===null||t===void 0||t.deactivate(),(e=this.Mu)===null||e===void 0||e.deactivate(),this.ff.disconnect()},r.prototype.setStyleSheets=function(t,e){if(e.length){this.Xg(e);var n=Ne(e,function(a){return a[kr]}),o={type:"adoptedStyleSheetsSet",target:t,sheetsIds:n};this.E(o)}},r.prototype.Xg=function(t){var e=this;rt(t,function(n){if(!e.Ea.has(n)){var o=e.Wg++;n[kr]=o,e.Ea.add(n);var a=e.Kg(n),s={type:"adoptedStyleSheetRegistered",sheetId:o,cssRules:a};e.E(s)}})},r.prototype.Kg=function(t){var e=[];try{e=Ne(t.cssRules,function(n){return n.cssText})}catch(n){}return e},r}();return _t([B()],i.prototype,"observe",null),_t([B()],i.prototype,"disconnect",null),_t([B()],i.prototype,"setStyleSheets",null),i}(),Nv=function(){return Hr(Dv,"optimizeMutations")}(),Mv=function(){return csSymbol.for("ignoreNextSerialization")}();function xv(){var i=new Set,r=new Set,t=new Set,e=new Set,n=new Map,o=new Map,a=new Map,s=new Set,u=new Set,c=new Map,h=new Set;return{isMovedNode:function(f){return i.has(f)},markAsMovedNode:function(f){h.delete(f),i.add(f)},isDetachedMove:function(f){return!!It.findAncestor(f,function(p){return h.has(p)},!0)},isAddedNode:function(f){var p=It.findAncestor(f,function(d){return r.has(d)||u.has(d)||i.has(d)},!0);return!!p&&!i.has(p)},isMovedNodeIntoAddedNode:function(f){return i.has(f)&&!!It.findAncestor(f,function(p){return r.has(p)||u.has(p)},!0)},markAsAddedNode:function(f){h.delete(f),u.delete(f),r.add(f)},markAsPendingInsert:function(f){u.add(f)},isPendingInsert:function(f){return u.has(f)},isRemovedNode:function(f){return!!It.findAncestor(f,function(p){return t.has(p)},!0)},markAsRemovedNode:function(f){t.add(f)},isUselessNode:function(f){return e.has(f)},markAsUselessNode:function(f){e.add(f)},getPlaceholder:function(f,p){var d=p==="previous"?o:n;return f&&d.has(f)?d.get(f)||null:f},getSiblings:function(f){var p=f.addedNodes.length,d=this.getPlaceholder(f.previousSibling,"previous"),m=this.getPlaceholder(f.nextSibling,"next");if(p)for(var w=d,E=m,_=f.previousSibling!==d,b=f.nextSibling!==m,R=0;R<p;R++){var A=f.addedNodes[R],I=f.addedNodes[p-R-1];this.isLatestNodeMutation(A,f)?(o.delete(A),f.previousSibling&&_&&(n.set(f.previousSibling,A),_=!1),w=A):o.set(A,w),this.isLatestNodeMutation(I,f)?(n.delete(I),f.nextSibling&&b&&(o.set(f.nextSibling,I),b=!1),E=I):n.set(I,E)}else f.previousSibling&&f.previousSibling!==d&&n.set(f.previousSibling,m),f.nextSibling&&f.nextSibling!==m&&o.set(f.nextSibling,d);return{previousSibling:d,nextSibling:m}},setAttributeMutation:function(f,p){var d=a.get(f)||new Set;d.add(p),a.set(f,d)},isAttributeMutated:function(f,p){var d;return!!(!((d=a.get(f))===null||d===void 0)&&d.has(p))},setLatestNodeMutation:function(f,p){c.set(f,p)},isLatestNodeMutation:function(f,p){return c.get(f)===p},markAsFutureAddedNode:function(f){c.has(f)||h.add(f)},isTextMutated:function(f){return s.has(f)},setTextMutated:function(f){return s.add(f)}}}function kv(i,r){for(var t=0;t<i.addedNodes.length;t++){var e=i.addedNodes[t];r.markAsFutureAddedNode(e),r.setLatestNodeMutation(e,i)}for(var t=0;t<i.removedNodes.length;t++){var e=i.removedNodes[t];r.setLatestNodeMutation(e,i)}}function Dv(i){var r,t,e,n,o=xv(),a=[];try{for(var s=ie(i),u=s.next();!u.done;u=s.next()){var c=u.value;c.type==="childList"&&kv(c,o)}}catch(p){r={error:p}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(r)throw r.error}}try{for(var h=ie(i),f=h.next();!f.done;f=h.next()){var c=f.value;switch(c.type){case"attributes":Uv(c,o,a);break;case"characterData":Lv(c,o,a);break;case"childList":Hv(c,o,a);break}}}catch(p){e={error:p}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(e)throw e.error}}return a}function Lv(i,r,t){t===void 0&&(t=[]);var e=i.target;return It.isConnected(e)&&!r.isTextMutated(e)&&!r.isAddedNode(e)&&!jv(e,"characterData")&&(r.setTextMutated(e),csArray.prototype.push.call(t,i)),t}function Uv(i,r,t){t===void 0&&(t=[]);var e=i.target,n="".concat(i.attributeNamespace,"/").concat(i.attributeName);return It.isConnected(e)&&!r.isAttributeMutated(e,n)&&!r.isAddedNode(e)&&(r.setAttributeMutation(e,n),csArray.prototype.push.call(t,i)),t}var Vv=function(){return 30}();function jv(i,r,t){var e=function(){return csSymbol.for(t?"".concat(r,":").concat(t):r)}(),n=V.now(),o=i[e];return o&&n<o?!0:(i[e]=n+Vv,!1)}function Hv(i,r,t){t===void 0&&(t=[]);var e=It.isConnected(i.target),n=!e&&r.isRemovedNode(i.target),o=e&&r.isAddedNode(i.target),a=r.getSiblings(i),s=a.nextSibling,u=a.previousSibling,c=null,h=function(){return function(){if(c){var w=c.childListType,E=c.movedNodes,_=Op(c,["childListType","movedNodes"]);csArray.prototype.push.call(t,w==="added"?_:Lr(Lr({},_),{movedNodes:E})),c=null}}}(),f=function(w){return w===(c==null?void 0:c.childListType)?c:(h(),{childListType:w,type:"childList",target:i.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:u,nextSibling:s})};if(e){for(var p=0;p<i.addedNodes.length;p++){var d=i.addedNodes[p];r.isLatestNodeMutation(d,i)?(r.isMovedNode(d)?(c=f("moved"),csArray.prototype.push.call(c.movedNodes,d)):(r.markAsAddedNode(d),o||(c=f("added"),csArray.prototype.push.call(c.addedNodes,d))),u=d):It.isConnected(d)?r.isMovedNode(d)||r.markAsPendingInsert(d):r.markAsUselessNode(d)}h()}var m=sa(i.removedNodes,function(w){if(It.isConnected(w)){if(!n&&!r.isPendingInsert(w)){if(r.isDetachedMove(w))return!0;r.markAsMovedNode(w),r.isMovedNodeIntoAddedNode(w)&&(w[Mv]=!0)}return!1}return r.isUselessNode(w)?!1:(r.markAsRemovedNode(w),!0)});return m.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:m,addedNodes:[],movedNodes:[],target:i.target,nextSibling:s,previousSibling:u}),t}var xs=function(){return{childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0}}(),Xe=function(){var i,r=function(){function t(e,n){var o=this;this.E=e,this.pf=n;var a=ji(function(s){return e(s,o)},!0);this.E=br("DocumentMutationObserver:callback",function(s){rt(s,function(u){return a.push(u)})})}return t.setShadowRootFilter=function(e){csArray.prototype.push.call(i.shadowRootFilters,e)},t.ku=function(e){if(i.shadowRootFilters.length>0&&nn(e))for(var n=0;n<i.shadowRootFilters.length;n++){var o=i.shadowRootFilters[n];if(o(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,xs)},t.disconnectShadowRoot=function(e){var n=this;this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,se(function(){n.isRefreshing=!1;var o=n.mutationObserver.takeRecords();o.length&&i.mutationCallback(o),n.mutationObserver.disconnect(),n.observedTargets.forEach(function(a){n.mutationObserver.observe(a,xs)})})))},t.observe=function(e,n){var o=this;csArray.prototype.push.call(this.callbacks,e),n&&csArray.prototype.push.call(this.shadowRootCallbacks,n),this.started?n&&csArray.prototype.forEach.call(Ur.getAllShadowHosts(document),function(a){return n(csElementshadowRoot.apply(a),"initial")}):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.ku(document),this.shadowRootObserver=new vn(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,rt(this.shadowRootObserver.shadowRoots,function(a){o.ku(a)}))},t.disconnect=function(e,n){var o,a;this.callbacks=csArray.prototype.filter.call(this.callbacks,function(s){return s!==e}),n&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,function(s){return s!==n})),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],i.shadowRootFilters=[],(o=this.shadowRootObserver)===null||o===void 0||o.disconnect(),(a=this.mutationObserver)===null||a===void 0||a.disconnect(),this.observedTargets.clear(),this.started=!1)},Object.defineProperty(t.prototype,"shadowRoots",{get:function(){var e,n;return(n=(e=i.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&n!==void 0?n:[]},enumerable:!1,configurable:!0}),t.prototype.takeRecords=function(){var e,n=(e=i.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),o=i.shadowRootObserver.takeRecords();return n!=null&&n.length&&o.length?Up(n,o):n!=null?n:o},t.prototype.observe=function(){i.observe(this.E,this.pf)},t.prototype.disconnect=function(){i.disconnect(this.E,this.pf)},t}();return i=r,r.callbacks=[],r.shadowRootCallbacks=[],r.started=!1,r.observedTargets=new Set,r.shadowRootFilters=[],r.mutationCallback=function(t){Pe.mutations.count.increase(t.length),csArray.prototype.forEach.call(i.callbacks,function(e){return e(t,i.mutationObserver)})},r.onShadowRoot=function(t,e){rt(i.shadowRootCallbacks,function(n){return n(t,e)}),e!=="removed"?i.ku(t):i.disconnectShadowRoot(t)},r.isRefreshing=!1,_t([B()],r.prototype,"observe",null),_t([B()],r.prototype,"disconnect",null),r}(),Bv=function(){var i=function(){function r(t){var e=this;this.E=t,this.Jg=function(n){n.sheet.ownerNode&&(n.type==="cssRuleInserted"?e.E({type:n.type,target:n.sheet.ownerNode,rule:n.rule,index:n.index}):n.type==="cssRuleDeleted"?e.E({type:n.type,target:n.sheet.ownerNode,index:n.index}):n.type==="cssRuleUpdated"&&e.E({type:n.type,target:n.sheet.ownerNode,rule:n.rule,index:n.index}))},this.E=function(n){return se(function(){return t(n)})},this.df=new ga(function(n){return se(function(){return Ae(e,void 0,void 0,function(){return ge(this,function(o){switch(o.label){case 0:return[4,sc()];case 1:return o.sent(),this.Jg(n),[2]}})})})}),"adoptedStyleSheets"in Document.prototype&&(this.vf=new Ov(t))}return r.prototype.observe=function(){var t=this,e;this.P=new Xe(function(n){return t.Qg(n)},function(n,o){o==="added"&&t.Zg(n)}),this.P.observe(),this.df.observe(),(e=this.vf)===null||e===void 0||e.observe()},r.prototype.disconnect=function(){var t,e;(t=this.P)===null||t===void 0||t.disconnect(),this.df.disconnect(),(e=this.vf)===null||e===void 0||e.disconnect()},r.prototype.Qg=function(t){for(var e=Nv(t),n=0;n<e.length;n++){var o=e[n];if(!o){bt.error("processRawMutations: empty record");continue}switch(o.type){case"attributes":this.processAttributeChanged(o);break;case"characterData":this.processCharacterDataChanged(o);break;case"childList":this.processChildListChanged(o);break;default:bt.error("processRawMutations: unknown record type '".concat(o.type,"'"));break}}},r.prototype.processAttributeChanged=function(t){var e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:It.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.E(e)},r.prototype.processCharacterDataChanged=function(t){var e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.E(e)},r.prototype.processChildListChanged=function(t){var e,n,o;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){var a={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.E(a)}if(!((n=t.addedNodes)===null||n===void 0)&&n.length){var s={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:on(t.addedNodes)};this.E(s)}if(!((o=t.removedNodes)===null||o===void 0)&&o.length){var u={type:"nodesRemoved",target:t.target,nodes:Ne(t.removedNodes,function(c){return c})};this.E(u)}},r.prototype.Zg=function(t){var e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.E(e)},r}();return _t([B()],i.prototype,"processAttributeChanged",null),_t([B()],i.prototype,"processCharacterDataChanged",null),_t([B()],i.prototype,"processChildListChanged",null),i}(),Fv=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=4,n.data=e.data,n}return t}(Fr);return i}(),Gv=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=8,n.data=e.data,n}return t}(Fr);return i}(),zv=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=10,n.name=e.name,n.publicId=e.publicId,n.systemId=e.systemId,n}return t}(Fr);return i}(),qv=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=9,n.baseURI=t.getBaseURI(e),n.children=[],n}return t.getBaseURI=function(e){var n=e.baseURI;if(n==null){var o=e.getElementsByTagName("base");n=o.length!==0?o[0].href:e.URL}return n},t}(Fr);return i}(),Wv=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this,e)||this;return n.nodeType=11,n.mode=e.mode,n.children=[],n}return t}(Fr);return i}(),Yv=function(){var i=function(){function r(t,e,n){var o;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=n!=null?n:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(o=t.namespaceURI)!==null&&o!==void 0?o:"")}return r.create=function(t){for(var e=t.attributes,n=new csArray(e.length),o=0;o<n.length;o++){var a=e[o];n[o]=new r(a.name,a.value,a.namespaceURI),a.name==="href"&&wu(t)&&(n[o].value=nc(t))}return n},r}();return i}(),ks=function(){return{workTime:40,async:!0,initialDOM:!0}}();var kn=function(){return csSymbol("InitialDom")}(),Ds=function(){return csSymbol.for("ignoreNextSerialization")}();function uc(i){return i[Ds]?(delete i[Ds],!0):!1}function cc(i){return i===void 0&&(i=ks),function(t,e){var n;(n=i.workTime)!==null&&n!==void 0||(i.workTime=ks.workTime);var o=br("serialize:callback",function(d){return e(d)}),a=new pn,s=function(){return function(d,m){d.hasChildNodes()&&a.push({node:d,serializedNode:m});var w=d instanceof Element&&csElementshadowRoot.apply(d);if(w){var E=m.shadowRoot=Dn(w);i.async&&i.initialDOM&&tt.setProperty(w,kn,!0),s(w,E)}}}(),u,c=!0,h=8,f=function(){return br("work",function(){var d;if(c)u=Dn(t),i.async&&i.initialDOM&&tt.setProperty(t,kn,!0),s(t,u),c=!1;else if(a.isEmpty)return;for(var m=Jv(100);!a.isEmpty;){if(i.async&&m.elapsed()>=i.workTime){--h<=0&&csSetTimeout(f);return}var w=a.pop(),E=w.node,_=w.serializedNode,b=(d=_.children)!==null&&d!==void 0?d:[];if(!Mi(E)){for(var R=0,A=csNodefirstChild.apply(E);A;A=csNodenextSibling.apply(A))if(!uc(A)){var I=Dn(A);i.async&&i.initialDOM&&tt.setProperty(A,kn,!0),b[R++]=I,s(A,I)}}}i.async?csSetTimeout(function(){return o(u)}):e(u)})}();if(!i.async)i.workTime=1/0,f();else for(var p=0;p<h;p++)csSetTimeout(f,1)}}function Xv(i){var r=Dn(i),t=r;if(Mi(i))return r;for(var e=0,n=csNodefirstChild.apply(i);n;n=csNodenextSibling.apply(n))uc(n)||(t.children[e++]=Fo(n));var o=i.shadowRoot;return o&&(t.shadowRoot=Fo(o)),r}var Fo=function(){return Hr(Xv,"serializeSync")}();function Dn(i){var r,t;switch(i.nodeType){case 1:t=r=new rn(i),r.attributes=Qv(i);break;case 3:t=new oc(i);break;case 4:t=new Fv(i);break;case 8:t=new Gv(i);break;case 10:t=new zv(i);break;case 9:t=new qv(i);break;case 11:t=new Wv(i);break;default:throw new Error("Node type not supported: "+i.nodeType)}return t}function Kv(){kn=csSymbol("InitialDom")}function Jv(i){if(i<1)throw new Error("Precision should be >= 1");var r=0,t=performance.now();return{started:t,elapsed:function(){return++r%i===0&&(t=performance.now()),t-this.started}}}function Qv(i){return Mi(i)?[]:Yv.create(i)}var De=function(){var i=function(){function r(){this.ie=[],this.isStarted=!1}return r.prototype.produceEvent=function(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:V.now(),t.timestamp==null&&(t.timestamp=V.now()),csArray.prototype.forEach.call(this.ie,function(n){return n(t)}))},r.prototype.onStop=function(){},r.prototype.start=function(){this.isStarted||(this.isStarted=!0,this.onStart())},r.prototype.stop=function(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.ie=[])},r.prototype.stopForInactivity=function(){this.isStarted&&(this.isStarted=!1,this.onStop())},r.prototype.subscribe=function(t){var e=this;return csArray.prototype.push.call(this.ie,t),function(){var n=csArray.prototype.indexOf.call(e.ie,t);csArray.prototype.splice.call(e.ie,n,1)}},r}();return i}(),Zv=function(){return cc()}(),lc=function(){var i=function(r){mt(t,r);function t(){var e=r.apply(this,Er([],yt(arguments),!1))||this;return e.wa=!1,e}return t.prototype.onStart=function(){var e=this;this.wa=!0,this.E=Pv(this.$g,this),this.F=new Bv(this.E),this.F.observe();var n=Pe.mutations.initialDOM.asyncMeasure(),o=function(){e.wa=!1,Kv(),n()};this.produceEvent(new ya(function(a){return Zv(document,function(s){o(),a({type:"DomEvent",domEvent:"initialDOM",initialDOM:s})})}))},t.prototype.onStop=function(){var e,n;this.wa=!1,(e=this.E)===null||e===void 0||e.cancel(),(n=this.F)===null||n===void 0||n.disconnect()},t.prototype.oe=function(e,n){var o={type:"DomEvent",domEvent:n.type,target:0,targetProps:{}};return"target"in n&&(o.target=lt(n.target),o.targetProps=tt.getProperties(n.target)),[n,o]},t.prototype.$g=function(e){if(!this.tm(e))switch(e.type){case"attributeChanged":{var n=yt(this.oe(e.type,e),2),o=n[0],a=n[1];a.attribute=o.attribute,a.isSvg=fn(o.target),a.namespace=o.namespace,a.newValue=o.newValue,a.oldValue=o.oldValue,a.localName=In(o.target),a.linkRel=Su(o.target)?o.target.rel:null,a.parentLocalName=o.target.parentElement?In(o.target.parentElement):void 0,a.localName==="input"&&(a.inputType=o.target.getAttribute("type")),this.produceEvent(a)}break;case"characterDataChanged":{var s=yt(this.oe(e.type,e),2),o=s[0],a=s[1];a.newValue=o.newValue,a.oldValue=o.oldValue,a.targetNodeType=o.target.nodeType,a.parentLocalName=o.target.parentElement?In(o.target.parentElement):null,a.parentProps=o.target.parentElement?tt.getProperties(o.target.parentElement):void 0,this.produceEvent(a)}break;case"nodesAdded":{var u=yt(this.oe(e.type,e),2),c=u[0],h=u[1];h.targetLocalName=Et(c.target)?In(c.target):null,h.nextSibling=c.nextSibling?lt(c.nextSibling):null,h.previousSibling=c.previousSibling?lt(c.previousSibling):null,Pe.mutations.serializedMutations.measure(function(){h.nodes=Ne(c.nodes,Fo)}),this.produceEvent(h);break}case"nodesMoved":{var f=yt(this.oe(e.type,e),2),o=f[0],a=f[1];a.previousSibling=o.previousSibling?lt(o.previousSibling):null,a.nextSibling=o.nextSibling?lt(o.nextSibling):null,a.nodesIds=Ne(o.nodes,lt),this.produceEvent(a);break}case"nodesRemoved":{var p=yt(this.oe(e.type,e),2),o=p[0],a=p[1];a.nodesIds=Ne(o.nodes,lt),this.produceEvent(a);break}case"shadowRootAttached":{var d=yt(this.oe(e.type,e),2),o=d[0],a=d[1];a.shadowRoot=Dn(o.shadowRoot),this.produceEvent(a);break}case"cssRuleInserted":{var m=yt(this.oe(e.type,e),2),o=m[0],a=m[1];a.index=o.index,a.rule=o.rule,this.produceEvent(a);break}case"cssRuleDeleted":{var w=yt(this.oe(e.type,e),2),o=w[0],a=w[1];a.index=o.index,this.produceEvent(a);break}case"cssRuleUpdated":{var E=yt(this.oe(e.type,e),2),o=E[0],a=E[1];a.rule=o.rule,a.index=o.index,this.produceEvent(a);break}case"adoptedStyleSheetRegistered":{var _=yt(this.oe(e.type,e),2),o=_[0],a=_[1];a.sheetId=o.sheetId,a.cssRules=o.cssRules,this.produceEvent(a);break}case"adoptedStyleSheetsSet":{var b=yt(this.oe(e.type,e),2),o=b[0],a=b[1];a.sheetsIds=o.sheetsIds,this.produceEvent(a);break}case"adoptedStyleSheetRuleInserted":{var R=yt(this.oe(e.type,e),2),o=R[0],a=R[1];a.sheetId=o.sheetId,a.rule=o.rule,a.index=o.index,this.produceEvent(a);break}case"adoptedStyleSheetRuleDeleted":{var A=yt(this.oe(e.type,e),2),o=A[0],a=A[1];a.sheetId=o.sheetId,a.index=o.index,this.produceEvent(a);break}case"adoptedStyleSheetRuleUpdated":{var I=yt(this.oe(e.type,e),2),o=I[0],a=I[1];a.sheetId=o.sheetId,a.rule=o.rule,a.index=o.index,this.produceEvent(a);break}}},t.prototype._a=function(e){return this.wa&&!tt.getProperty(e,kn)},t.prototype.tm=function(e){switch(e.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this._a(e.target)||H.isMaskedElement(e.target)||H.isMaskedElementChild(e.target);case"characterDataChanged":{var n=e.target.parentElement;return n!==null&&(this._a(n)||H.isMaskedElement(n)||H.isMaskedElementChild(n))}case"attributeChanged":return this._a(e.target)||H.isMaskedElementChild(e.target)||H.isMaskedAttribute(e.target,e.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":return this._a(e.target)||H.isMaskedElementChild(e.target);default:return!1}},t}(De);return i}(),Wn=function(){var i;return function(r){function t(e){return e.type==="DomEvent"}r.isDOMEvent=t}(i||(i={})),i}(),yn=function(){var i=function(){function r(){this.ie=[]}return r.prototype.start=function(){},r.prototype.stop=function(){this.ie.length=0,this.ie=[]},r.prototype.pushEvent=function(t){var e=this;if(r.pendingEvents++,this.isListening(t)){var n=this.ie;csSetTimeout(function(){var o=br("Processor:processEvent",function(s){return e.processEvent(s)}),a=o(t);a!=null&&csArray.prototype.forEach.call(n,function(s){return s(a)}),r.pendingEvents--})}else csSetTimeout(function(){csArray.prototype.forEach.call(e.ie,function(o){return o(t)})})},r.prototype.subscribe=function(t){var e=this;return csArray.prototype.push.call(this.ie,t),function(){e.ie=csArray.prototype.filter.call(e.ie,function(n){return n!==t})}},r.prototype.emitEvent=function(t){var e=this;se(function(){return csArray.prototype.forEach.call(e.ie,function(n){return n(t)})})},r}();return i.pendingEvents=0,i}(),Ls=function(){var i=function(){function r(){}return r.toStaticResourceEvent=function(t,e,n){return fr(this,void 0,void 0,function(){var o,a,s,u;return pr(this,function(c){switch(c.label){case 0:return[4,r.em(t)];case 1:return o=c.sent(),o?[4,r.yf(o)]:[2,null];case 2:return a=c.sent(),s=re(t)?void 0:t,u={type:"StaticResourceManagerEvent",timestamp:n,resourceId:e,resource:{hash:a,data:o}},s&&(u.originalResourceName=s),[2,u]}})})},r.toCSSStaticResourceEvent=function(t,e,n,o){return fr(this,void 0,void 0,function(){var a,s,u,c;return pr(this,function(h){switch(h.label){case 0:return[4,r.rm(t,o)];case 1:return a=h.sent(),s=xe(t),u=a.get(s),u?(c={type:"StaticResourceManagerEvent",timestamp:n,resourceId:e,resource:{hash:u.hash,data:u.data}},a.delete(s),a.size&&(c.nestedResources=[],a.forEach(function(f){f&&csArray.prototype.push.call(c.nestedResources,{hash:f.hash,data:f.data})})),[2,c]):[2,null]}})})},r.yf=function(t){return fr(this,void 0,void 0,function(){var e,n;return pr(this,function(o){switch(o.label){case 0:return[4,t.arrayBuffer()];case 1:return e=o.sent(),[4,crypto.subtle.digest(this.Yi,e)];case 2:return n=o.sent(),[2,Lo(n)]}})})},r.em=function(t){return fr(this,void 0,void 0,function(){var e,n,o;return pr(this,function(a){switch(a.label){case 0:return re(t)?[3,3]:[4,window.fetch(t)];case 1:return n=a.sent(),[4,n.blob()];case 2:return e=a.sent(),[3,4];case 3:if(o=hs(t),!o)return[2,null];e=o,a.label=4;case 4:return[2,e]}})})},r.rm=function(t,e){return fr(this,void 0,void 0,function(){var n,o,a,s,u,c,h,A,f,p,d,m,w,E,_,b,R,A,I,U,N,q,$;return pr(this,function(W){switch(W.label){case 0:n=new Map,o=xe(t),a={resourceRawPath:t,resourceAbsolutePath:o},s=[a],W.label=1;case 1:if(!(s.length>0))return[3,17];if(u=csArray.prototype.pop.call(s),c=!e&&u.resourceAbsolutePath!==null&&!re(u.resourceAbsolutePath),c)return n.set(u.resourceAbsolutePath,null),[3,1];if(n.get(u.resourceAbsolutePath)!==void 0)return[3,1];W.label=2;case 2:return W.trys.push([2,15,,16]),h=u.resourceRawPath===null||csString.prototype.indexOf.call(u.resourceRawPath,".css")>0,h?u.data?[3,5]:[4,fetch(u.resourceAbsolutePath)]:[3,8];case 3:return A=W.sent(),f=u,[4,A.text()];case 4:f.data=W.sent(),W.label=5;case 5:u.nestedResources||(u.nestedResources=xn(u.data)),p=!1,d=!1,m=function(T){var P=re(T)?T:u.resourceAbsolutePath?Bu(T,u.resourceAbsolutePath):xe(T),L=n.get(P);if(L!==void 0){if(L!==null){var Y=r.nm(L,T);u.data=gt.stringReplaceAll(u.data,T,Y)}return"continue"}var G=Fe(s,function(at){return at.resourceAbsolutePath===P})!==void 0;G||(p=!0,d||(csArray.prototype.push.call(s,u),d=!0),csArray.prototype.push.call(s,{resourceRawPath:T,resourceAbsolutePath:P}))};try{for(w=(q=void 0,dt(u.nestedResources)),E=w.next();!E.done;E=w.next())_=E.value,m(_)}catch(T){q={error:T}}finally{try{E&&!E.done&&($=w.return)&&$.call(w)}finally{if(q)throw q.error}}return p?[3,7]:[4,r.im(u.data)];case 6:b=W.sent(),n.set(u.resourceAbsolutePath,{hash:b.hash,data:b.data}),W.label=7;case 7:return[3,14];case 8:return R=void 0,re(u.resourceAbsolutePath)?[3,11]:[4,fetch(u.resourceAbsolutePath)];case 9:return A=W.sent(),[4,A.blob()];case 10:return R=W.sent(),[3,12];case 11:if(I=hs(u.resourceAbsolutePath),!I)return n.set(u.resourceAbsolutePath,null),[3,1];R=I,W.label=12;case 12:return[4,r.yf(R)];case 13:U=W.sent(),n.set(u.resourceAbsolutePath,{hash:U,data:R}),W.label=14;case 14:return[3,16];case 15:return N=W.sent(),n.set(u.resourceAbsolutePath,null),[3,16];case 16:return[3,1];case 17:return[2,n]}})})},r.nm=function(t,e){var n="cs://resources/".concat(t.hash);return re(e)||(n+="?".concat(r.Du,"=").concat(e)),n},r.im=function(t){return fr(this,void 0,void 0,function(){var e,n,o;return pr(this,function(a){switch(a.label){case 0:return e=new Blob([t],{type:"text/css"}),[4,e.arrayBuffer()];case 1:return n=a.sent(),[4,crypto.subtle.digest(r.Yi,n)];case 2:return o=a.sent(),[2,{data:e,hash:Lo(o)}]}})})},r}();return i.Yi="SHA-256",i.Du="original-resource-name",i}(),cn=function(){var i=function(r){mt(t,r);function t(){var e=r.call(this)||this;return e.ba="cssrm://",e.ae=0,e.pr=!1,e}return t.prototype.isListening=function(e){return!t.isSupported()||!Wn.isDOMEvent(e)?!1:e.domEvent==="initialDOM"||e.domEvent==="nodesAdded"||e.domEvent==="attributeChanged"||e.domEvent==="characterDataChanged"},t.prototype.processEvent=function(e){switch(e.domEvent){case"initialDOM":case"nodesAdded":this.om(e);break;case"attributeChanged":this.am(e);break;case"characterDataChanged":this.sm(e);break}return e},t.prototype.disableOnlineAssets=function(){this.pr=!1},t.prototype.enableOnlineAssets=function(){this.pr=!0},t.prototype.isOnlineAssetsActivated=function(){return this.pr},t.prototype.om=function(e){var n,o,a=this,s=e.domEvent==="initialDOM"?[e.initialDOM]:e.nodes;try{for(var u=dt(s),c=u.next();!c.done;c=u.next()){var h=c.value;tt.traverse(h,function(f,p){if(f.nodeType===3&&p){a.um(f,p.localName);return}if(rn.isElement(f)){var d=Fe(f.attributes,function(_){return _.name==="style"});if(d&&(d.value=a.Aa(d.value)),a.cm(f)||a.lm(f,p)){var m=Fe(f.attributes,function(_){return _.name==="src"});m&&m.value&&(m.value=a.gf(m.value));var w=Fe(f.attributes,function(_){return _.name==="srcset"});if(w){w.value=a.mf(w.value);return}}if(a.hm(f)&&a.pr){var E=Fe(f.attributes,function(_){return _.name==="href"});if(!E||!E.value)return;a.ae++,a.Jn(xe(E.value),a.ae,!0),a.fm(f,E,a.ae)}}})}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t.prototype.fm=function(e,n,o){csArray.prototype.push.call(e.attributes,{name:"data-cs-original-href",namespaceURI:"",value:n.value}),n.value=this.ba+o},t.prototype.um=function(e,n){if(!(!e||n!=="style")){var o=this.Aa(e.data);o!==null&&(e.data=o)}},t.prototype.sm=function(e){if(!(e.parentLocalName!=="style"||!e.newValue)){var n=this.Aa(e.newValue);n!==null&&(e.newValue=n)}},t.prototype.am=function(e){if(!(!e.newValue||e.newValue===e.oldValue)){var n=e.attribute==="src",o=e.attribute==="srcset",a=e.attribute==="style";if(a){e.newValue=this.Aa(e.newValue);return}if(!(!n&&!o)){var s=e.localName==="img",u=e.localName==="source"&&e.parentLocalName&&e.parentLocalName==="picture";!s&&!u||(n&&(e.newValue=this.gf(e.newValue)),o&&(e.newValue=this.mf(e.newValue)))}}},t.prototype.gf=function(e){return re(e)||this.pr?(this.ae++,this.Jn(e,this.ae,!1,V.now()),this.ba+this.ae):e},t.prototype.mf=function(e){var n,o;if(!this.pr)return e;var a=e,s=va(e),u=V.now();try{for(var c=dt(s),h=c.next();!h.done;h=c.next()){var f=h.value;this.ae++,this.Jn(xe(f),this.ae,!1,u),a=csString.prototype.replace.call(a,f,this.ba+this.ae)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return a},t.prototype.Aa=function(e){var n,o,a=xn(e),s=e,u=V.now();try{for(var c=dt(a),h=c.next();!h.done;h=c.next()){var f=h.value,p=re(f);if((p||this.pr)&&!this.pm(f)){this.ae++,s=csString.prototype.replace.call(s,f,this.ba+this.ae);var d=Ci(f);p?this.Jn(f,this.ae,!1,u):this.pr&&(d?this.Jn(f,this.ae,!0,u):this.Jn(xe(f),this.ae,!1,u))}}}catch(m){n={error:m}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}return s},t.prototype.Jn=function(e,n,o,a){var s=this;a===void 0&&(a=V.now());var u=o?Ls.toCSSStaticResourceEvent:Ls.toStaticResourceEvent,c=new ya(function(h){return fr(s,void 0,void 0,function(){var f,p;return pr(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,u(e,n,a,this.pr)];case 1:return f=d.sent(),h(f||{type:"warning",message:"Failed to process static resource: ".concat(e)}),[3,3];case 2:return p=d.sent(),h({type:"warning",message:p}),[3,3];case 3:return[2]}})})});this.emitEvent(c)},t.prototype.cm=function(e){return e.localName==="img"},t.prototype.lm=function(e,n){return e.localName==="source"&&!!n&&n.localName==="picture"},t.prototype.hm=function(e){return e.localName==="link"&&csArray.prototype.some.call(e.attributes,function(n){return n.name==="rel"&&n.value==="stylesheet"})},t.isSupported=function(){return Uu()&&dd()&&!!csArray.from},t.prototype.pm=function(e){return csString.prototype.replace.call(e,/['"]+/g,"").length===0},t}(yn);return ze([Jt("StaticResourceManagerProcessor.processEvent")],i.prototype,"processEvent",null),i}(),ae=function(){var i;return function(r){r.Visible="visible",r.Hidden="hidden",r.Blur="blur",r.PagehideVisible="pagehideVisible",r.PagehideHidden="pagehideHidden",r.ExitPageByNavigate="exitPageByNavigate"}(i||(i={})),i}(),hc=function(){var i=function(){function r(){var t=this;this.N=!1,this.xr=function(e){try{switch(e.type){case"visibilitychange":return document.visibilityState==="hidden"?t.Jt(ae.Hidden):t.Jt(ae.Visible);case"pagehide":return document.visibilityState==="hidden"?t.Jt(ae.PagehideHidden):t.Jt(ae.PagehideVisible);case"blur":return t.Jt(ae.Blur);case"navigate":return t.dm(e)?t.Jt(ae.ExitPageByNavigate):void 0;default:return}}catch(n){}}}return r.prototype.start=function(){this.N||(this.N=!0,this.Lu(),this.vm(),this.ym(),ds()&&this.gm())},r.prototype.stop=function(){this.N&&(this.N=!1,this.Uu(),this.mm(),this.Sm(),ds()&&this.Em())},r.prototype.onEvent=function(t){this.Jt=t},r.prototype.gm=function(){window.navigation.addEventListener("navigate",this.xr)},r.prototype.Em=function(){window.navigation.removeEventListener("navigate",this.xr)},r.prototype.Lu=function(){document.addEventListener("visibilitychange",this.xr)},r.prototype.Uu=function(){document.removeEventListener("visibilitychange",this.xr)},r.prototype.vm=function(){window.addEventListener("pagehide",this.xr)},r.prototype.mm=function(){window.removeEventListener("pagehide",this.xr)},r.prototype.ym=function(){window.addEventListener("blur",this.xr)},r.prototype.Sm=function(){window.removeEventListener("blur",this.xr)},r.prototype.dm=function(t){return t instanceof NavigateEvent?!t.downloadRequest&&!t.formData:!1},r}();return i}(),Bt=function(){var i;return function(r){r[r.Active=0]="Active",r[r.Paused=1]="Paused",r[r.Stopped=2]="Stopped"}(i||(i={})),i}(),$v=function(){var i=function(){function r(t,e,n){n===void 0&&(n=[]);var o=this;this.Qn=t,this.Vu=e,this.wm=n,this.Ta=null,this._t=Bt.Active,this.Z=[]}return r.prototype.reset=function(){this.Ta=null,this.Z=[],this._t=Bt.Active},r.prototype.disconnect=function(){this._t=Bt.Stopped},r.prototype._m=function(){var t=this;this.Vu(Bt.Paused),this._t=Bt.Paused,csSetTimeout(function(){t._t===Bt.Paused&&t.ju()},r.STOP_TIMEOUT)},r.prototype.bm=function(){this.Vu(Bt.Active),this._t=Bt.Active,rt(this.Z,this.Qn),this.Z=[]},r.prototype.ju=function(){this.Z=[],this.Vu(Bt.Stopped),this._t=Bt.Stopped},r.prototype.pushEvent=function(t,e){if(e.isUserEvent&&(this.Ta=t.date,this._t!==Bt.Active)){this.bm(),this.Qn(t);return}if(this.Am(t)){this.Qn(t);return}switch(this._t){case Bt.Active:if(this.Tm(t,e)){this._m(),csArray.prototype.push.call(this.Z,t);return}this.Qn(t);break;case Bt.Paused:csArray.prototype.push.call(this.Z,t);break;case Bt.Stopped:break}},r.prototype.Tm=function(t,e){return!e.isUserEvent&&this.Ta!==null&&t.date-this.Ta>r.INACTIVITY_TIMEOUT},r.prototype.Am=function(t){return csArray.prototype.indexOf.call(this.wm,t.type)>-1},r}();return i.INACTIVITY_TIMEOUT=5e3,i.STOP_TIMEOUT=5e3,i}(),ty=function(){return 2e3}(),ey=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U){_===void 0&&(_=[]);var N=r.call(this)||this;return N.h=e,N.j=n,N.Rm=o,N.Le=a,N.X=s,N.w=u,N.se=c,N.at=h,N.ue=f,N.tt=p,N.U=d,N.Ct=m,N.gt=w,N.Pe=E,N.Oe=_,N.Sf=b,N.Lt=R,N.Zn=A,N.Ye=I,N.Xe=U,N.kr=0,N.Dr=new da,N.$n={allowFromQuotaService:!0,allowFromSerialization:!0},N.Ef=Li(function(){N.j.eventsCount()>0&&N.wf()},ty),N.vr=function(q){return N.processBrowserEvent(q)},N.Xi=function(q){return N.It(q)},N._f=0,N.Ra=0,N.Ue=new hc,N.Hu=!1,N.bf=51200,N.An=!1,N.Ki=!1,N.Tn=[],N.Ca=new $v(function(q){return N.z(q)},function(q){switch(q){case Bt.Active:N.Cm();break;case Bt.Stopped:N.Im();break}},[z.RESOURCE_HASHES,z.TEXT_VISIBILITY]),N.Af=function(q){N.Ct.removeBatchInProgress("".concat(q.params.sn,".").concat(q.params.pn,".").concat(q.params.ri))},N}return t.prototype.init=function(){this.Bu(),this.U.onLoad(this.Af),this.U.onError(this.Af)},t.prototype.Cm=function(){csArray.prototype.forEach.call(this.Sf,function(e){return e.start()})},t.prototype.Im=function(){csArray.prototype.forEach.call(this.Sf,function(e){return e.stopForInactivity()})},t.prototype.Bu=function(){var e=this,n,o,a;this.Pe.onEvent(this.vr,this.Xi),(n=this.tt)===null||n===void 0||n.onInputNodeToEncrypt(this.Xi),(o=this.tt)===null||o===void 0||o.onApiErrorToEncrypt(function(s){e.Tf(s)}),(a=this.tt)===null||a===void 0||a.onUserIdentifierToEncrypt(this.vr),this.Ue.onEvent(function(s){if(csSetTimeout(function(){return e.Rn("page-state",s)}),s!==ae.Visible){if(s===ae.Blur)return e.Rf();if(!e.Hu)return e.Hu=!0,csSetTimeout(function(){e.Hu=!1}),s===ae.Hidden?e.Rf():e.Pm()}})},t.prototype.isRecording=function(){return this.w.hasValidSession()&&this.isStarted},t.prototype.Rf=function(){var e=this;if(this.canSendEvents()){this.Pe.flush(),this.Ct.saveBatchesInProgress(),rt(this.Oe,function(p){var d,m;return rt((m=(d=p.getPendingEvents)===null||d===void 0?void 0:d.call(p))!==null&&m!==void 0?m:[],function(w){return e.j.addEvent(w)})});var n=this.j.getEvents();if(n.length!==0){this.Rn("pending-events",this.Pe.pendingEvents);var o=this.U.getQueryParams();o.rst=this.getRecordingStartTimestamp(),o.let=this.getRecordingLastEventTimestamp();var a=this.Le.getCurrentIndex();o.ri=a.toString(),this.gt.removeQueryParams(),this.gt.setQueryParams(o),this.Ra=n[n.length-1].date;var s=this.j.stringifyEvents();if(s.length>this.bf){var u=this.Cf();if(u.length>0){var c=an(u),h=this.gt.send(c);h||this.Ct.save({key:"".concat(o.sn,".").concat(o.pn,".").concat(o.ri,".last"),metadata:k(k({},o),{datatype:"json"}),events:c}),this.Le.increment()}if(this.j.eventsCount()>0){o.ri=this.Le.getCurrentIndex().toString();var f=this.j.stringifyEvents();this.Ct.save({key:"".concat(o.sn,".").concat(o.pn,".").concat(o.ri,".last"),metadata:k(k({},o),{datatype:"json"}),events:f}),this.Le.increment()}}else{var h=this.gt.send(s);h||this.Ct.save({key:"".concat(o.sn,".").concat(o.pn,".").concat(o.ri,".last"),metadata:k(k({},o),{datatype:"json"}),events:s}),this.Le.increment()}this.gt.removeQueryParams(),this.j.clearEvents()}}},t.prototype.Pm=function(){var e=this;if(this.canSendEvents()){this.Pe.flush();var n=this.U.getQueryParams();this.Ct.saveBatchesInProgress(),n.rst=this.getRecordingStartTimestamp(),delete n.ri,n.hlm="true",this.gt.removeQueryParams(),rt(this.Oe,function(p){var d,m;return rt((m=(d=p.getPendingEvents)===null||d===void 0?void 0:d.call(p))!==null&&m!==void 0?m:[],function(w){return e.j.addEvent(w)})});var o=this.j.getEvents();if(o.length===0){delete n.let,delete n.rst,this.gt.setQueryParams(n),this.gt.send(),this.gt.removeQueryParams();return}this.Rn("pending-events",this.Pe.pendingEvents),this.Ra=o[o.length-1].date,n.let=this.getRecordingLastEventTimestamp(),this.gt.setQueryParams(n);var a=this.j.stringifyEvents();if(a.length>this.bf){var s=this.Cf();if(s.length>0){var u=an(s),c=this.gt.send(u);c||this.Ct.save({key:"".concat(n.sn,".").concat(n.pn,".last"),metadata:k(k({},n),{datatype:"json"}),events:u})}else delete n.let,delete n.rst,delete n.ri,this.gt.removeQueryParams(),this.gt.setQueryParams(n),this.gt.send(),this.gt.removeQueryParams();if(this.j.eventsCount()>0){n.rst=this.getRecordingStartTimestamp(),n.let=this.getRecordingLastEventTimestamp();var h=this.Le.getCurrentIndex();n.ri=h.toString();var f=this.j.stringifyEvents();this.Ct.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:k(k({},n),{datatype:"json"}),events:f}),this.Le.increment()}}else{var c=this.gt.send(a);c||(this.Ct.save({key:"".concat(n.sn,".").concat(n.pn,".").concat(n.ri,".last"),metadata:k(k({},n),{datatype:"json"}),events:a}),this.Le.increment())}this.gt.removeQueryParams(),this.j.clearEvents()}},t.prototype.blockSendingEventsFromQuotaService=function(){this.$n.allowFromQuotaService=!1},t.prototype.allowSendingEventsFromQuotaService=function(){this.$n.allowFromQuotaService=!0},t.prototype.blockSendingEventsFromSerialization=function(){this.$n.allowFromSerialization=!1},t.prototype.allowSendingEventsFromSerialization=function(){this.$n.allowFromSerialization=!0},t.prototype.canSendEvents=function(){return this.$n.allowFromQuotaService&&this.$n.allowFromSerialization},t.prototype.onIframeJavascriptError=function(e){var n;if(this.se&&this.Ye){(n=this.se)===null||n===void 0||n.anonymize(e);var o=this.Ye.translate({message:e.message,colno:e.colno,lineno:e.lineno,filename:e.filename,timestamp:V.now(),type:"JSError"});o&&this.vr(o)}},t.prototype.onIframeCustomError=function(e){if(this.Xe){var n=this.Xe.translate(k(k({},e),{timestamp:V.now(),type:"CustomError"}));n&&this.vr(n)}},t.prototype.onIframeDetailedApiError=function(e){this.If(e)},t.prototype.onIframeRecordingUserEvent=function(e){var n,o;try{for(var a=D(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.It(u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.onIframeRecordingBrowserEvent=function(e){var n,o;if(this.isStarted)try{for(var a=D(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.processBrowserEvent(u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.processBrowserEvent=function(e){var n=this.X.isCurrentPageviewValid();n&&this.Ca.pushEvent(e,{isUserEvent:!1})},t.prototype.It=function(e){this.X.refreshSession(),this.X.isSessionValid()&&this.Ca.pushEvent(e,{isUserEvent:!0})},t.prototype.z=function(e){Pe.general.nbEvents.increase(),this.j.addEvent(e);var n=this.j.isThresholdReached();n?this.pushEvents():this.j.isFull()&&this.Ef(),this.Pf(e)},t.prototype.Pf=function(e){this.h.emitDebugEvents&&this.Dr.emit("recordingEvent",k(k({},e),{typeName:z[e.type]}))},t.prototype.onStart=function(){var e=this,n;this.Rn("tag-version","15.107.2"),this.Rn("page-state",document.visibilityState),this.Ca.reset(),this.Ue.start(),this.initStates(),this.Pe.start(),this.at&&this.ue&&this.at.subscribe(t.Mt,function(o){return e.If(o)},{detailedEvent:!0}),this.h.emitDebugEvents&&this.Dr.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Tn,function(o){return e.Of(o)}),this.Tn=[],this.An&&((n=this.Lt)===null||n===void 0||n.enableOnlineAssets(),this.An=!1)},t.prototype.onStop=function(){var e;this.Ue.stop(),this.at&&this.at.unsubscribe(t.Mt),this.Pe.stop(),this.Ca.disconnect(),(e=this.Lt)===null||e===void 0||e.disableOnlineAssets()},t.prototype.clearStates=function(){this.Pe.flush(),this.Ef.cancel(),this.pushEvents(),this.U.removeQueryParams()},t.prototype.initStates=function(){this._f=V.now(),this.Le.reset(),this.kr=0,this.U.setQueryParams(this.Rm.getRequestParameters())},t.prototype.pushEvents=function(){rt(this.Oe,function(e){var n;return(n=e.flushEvents)===null||n===void 0?void 0:n.call(e)}),this.j.eventsCount()>0&&(this.isStarted?this.wf():this.j.clearEvents())},t.prototype.wf=function(){if(this.canSendEvents()){var e=this.j.getEvents();this.Ra=e[e.length-1].date;var n=this.Le.getCurrentIndex();this.U.setQueryParams({ri:n.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});var o=this.U.getQueryParams();this.Ct.addBatchInProgress("".concat(o.sn,".").concat(o.pn,".").concat(n),this.U.getQueryParams(),e),this.U.send(e),this.Le.increment(),this.j.clearEvents(),this.Nf&&this.Nf()}},t.prototype.addInitialDom=function(e){this.j.addEventByTimestamp(e),this.Pf(e)},t.prototype.If=function(e){if(this.Zn&&(e.plainCustomRequestHeaders||e.plainCustomResponseHeaders||e.requestBodyAttributes||e.responseBodyAttributes||e.customRequestHeaders||e.customResponseHeaders||e.queryParameters||e.requestBody||e.responseBody)){if(this.Zn.truncate(e),this.tt){this.tt.registerApiErrorToEncrypt(e);return}e.customRequestHeaders="",e.customResponseHeaders="",e.requestBodyAttributes="",e.responseBodyAttributes="",e.queryParameters="",e.requestBody="",e.responseBody=""}this.Tf(e)},t.prototype.Tf=function(e){if(this.kr<t.Om){var n={type:z.API_ERROR,date:V.now(),args:[this.ue.anonymize(e)]};this.vr(n),this.kr=this.kr+1,pt.counters.networkRequests.count("collected")}},t.prototype.Nm=function(e){var n,o;e===mr.ETR_SESSION?this.U.setQueryParams((n={},n[t.Mm]=t.Mf,n)):e===mr.ETR_PAGE&&this.U.setQueryParams((o={},o[t.xm]=t.Mf,o))},t.prototype.clearEvents=function(){this.j.clearEvents()},t.prototype.onCustomJavaScriptErrorEvent=function(e){var n,o=(n=this.Ye)===null||n===void 0?void 0:n.translate({type:"JSError",timestamp:V.now(),message:e.message,colno:e.colno,lineno:e.lineno,filename:e.filename});o&&this.vr(o)},t.prototype.onCustomErrorEvent=function(e){var n,o=(n=this.Xe)===null||n===void 0?void 0:n.translate({type:"CustomError",timestamp:V.now(),message:e.message,attributes:e.attributes});o&&this.vr(o)},t.prototype.onPageEvent=function(e){this.xf(e)},t.prototype.onUserIdentifierEvent=function(e){var n,o={userIdentifier:e,date:V.now(),keyId:this.h.encryptionPublicKeyId};(n=this.tt)===null||n===void 0||n.registerUserIdentifierToEncrypt(o)},t.prototype.onEventTriggerRecording=function(e,n){this.isStarted?this.Of({eventName:e,eventType:n}):csArray.prototype.push.call(this.Tn,{eventName:e,eventType:n})},t.prototype.Of=function(e){this.Nm(e.eventType),this.xf(e.eventName),this.pushEvents()},t.prototype.xf=function(e){var n={type:z.PAGE_EVENT,date:V.now(),args:[{eventName:csString.prototype.slice.call(e,0,t.km)}]};this.j.addEvent(n)},t.prototype.triggerUnanonymizationConsentGranted=function(){var e={date:V.now(),type:z.UNANONYMIZED_CONSENT_GRANTED};this.j.addEvent(e)},t.prototype.triggerUnanonymizationConsentWithdrawn=function(){var e={date:V.now(),type:z.UNANONYMIZED_CONSENT_WITHDRAWN};this.j.addEvent(e)},t.prototype.triggerRecordingForSessionGranted=function(){this.Rn("consent-granted")},t.prototype.triggerRecordingForSessionWithdrawn=function(){this.Rn("consent-withdrawn")},t.prototype.activateOnlineAssetsOnNextPageview=function(){this.Ki=!0},t.prototype.getStaticResourceManagerStatus=function(){return this.Lt?{isStarted:this.h.useStaticResourceManager&&cn.isSupported(),onlineAssets:{activated:this.Lt.isOnlineAssetsActivated(),enabledOnNextPageview:this.Ki}}:null},t.prototype.resetOnlineAssetsOnPageview=function(){this.An=!1,this.Ki=!1},t.prototype.updateOnlineAssetsOnPageview=function(){this.Lt&&this.Ki&&(this.An=!0,this.Ki=!1)},t.prototype.onRecordingRequestSent=function(e){this.Nf=e},t.prototype.getRecordingStartTimestamp=function(){return this._f.toString()},t.prototype.getRecordingLastEventTimestamp=function(){return this.Ra.toString()},t.prototype.onOptOut=function(){rt(this.Oe,function(e){var n;return(n=e.releaseResources)===null||n===void 0?void 0:n.call(e)})},t.prototype.Rn=function(e,n){if(this.h.emitRecordInfoEvents){var o={date:V.now(),type:z.RECORDING_INFO_EVENT,args:n==null?[e]:[e,n]};this.j.addEvent(o)}},t.prototype.Cf=function(){return this.j.extractEvents(z.API_ERROR,z.JAVASCRIPT_ERROR,z.CUSTOM_ERROR,z.TEXT_VISIBILITY,z.POINTER_DOWN)},t}(wt);return i.Mt="RecordingService",i.km=255,i.Om=20,i.xm="etrp",i.Mm="etrs",i.Mf="1",X([Jt("addInitialDom")],i.prototype,"addInitialDom",null),i}(),ry=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.Yt=e,a.gt=n,a.U=o,a.Fu=!1,a.Ji={},a.Dm=function(s){var u,c;if(s.length!==0)try{for(var h=D(s),f=h.next();!f.done;f=h.next()){var p=f.value,d=p.metadata,m=p.events;a.Lm(d.rt)&&a.U.send(m,d)}}catch(w){u={error:w}}finally{try{f&&!f.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}},window.addEventListener("focus",function(){a.recover()}),a}return t.prototype.onStart=function(){this.Ji={}},t.prototype.onStop=function(){},t.prototype.recover=function(){this.Yt.recover(this.Dm)},t.prototype.addBatchInProgress=function(e,n,o){this.Ji[e]={metadata:k({},n),events:o}},t.prototype.removeBatchInProgress=function(e){delete this.Ji[e]},t.prototype.blockSendingLastMessage=function(){this.Fu=!1},t.prototype.allowSendingLastMessage=function(){this.Fu=!0},t.prototype.sendLastMessageBeacon=function(){if(this.Fu){var e=this.U.getQueryParams(),n=e.ri,o=e.rst,a=e.let,s=zp(e,["ri","rst","let"]);s.hlm="true",this.gt.setQueryParams(s),this.gt.send()}},t.prototype.Lm=function(e){return!!e&&csString.prototype.indexOf.call(e,j.RECORDING_TEMPORARILY)===-1},t.prototype.saveBatchesInProgress=function(){var e=this;csArray.prototype.forEach.call(Object.keys(this.Ji),function(n){var o=e.Ji[n],a=o.metadata,s=o.events;e.Yt.save({key:"".concat(a.sn,".").concat(a.pn,".").concat(a.ri),metadata:k(k({},a),{datatype:"json"}),events:csJSON.stringify(s)})})},t.prototype.save=function(e){this.Yt.save(e)},t}(wt);return X([B("RecordingRecovery")],i.prototype,"recover",null),i}(),Hn=function(){var i=function(){function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.kf=t}return r.prototype.addProvider=function(t){csArray.prototype.push.call(this.kf,t)},r.prototype.getRequestParameters=function(){return csArray.prototype.reduce.call(this.kf,function(t,e){return k(k({},e.getRequestParameters()),t)},{})},r}();return i}(),fc=function(){var i=function(){function r(t,e){var n=this;this.Rt=t,this.I=e,this.Lr=[{boundElement:window,type:"hashchange",listener:function(){return n.hashChangeListener()}},{boundElement:document,type:"visibilitychange",listener:function(){return n.visibilityChangeListener()}}]}return r.prototype.onEvent=function(t){this.O=t},r.prototype.start=function(){this._n(),this.triggerInitialEvents()},r.prototype.stop=function(){this.bn()},r.prototype._n=function(){csArray.prototype.forEach.call(this.Lr,function(t){return Vt(t)})},r.prototype.bn=function(){csArray.prototype.forEach.call(this.Lr,function(t){return jt(t)})},r.prototype.triggerInitialEvents=function(){this.hashChangeListener()},r.prototype.hashChangeListener=function(){var t={type:z.HASH_CHANGE,args:[this.I.anonymizePII(this.Rt.href)],date:V.now()};this.O(t)},r.prototype.visibilityChangeListener=function(){var t={type:z.VISIBILITY_CHANGE,args:[document.visibilityState],date:V.now()};this.O(t)},r}();return X([B("hashChange")],i.prototype,"hashChangeListener",null),X([B("visibilityChange")],i.prototype,"visibilityChangeListener",null),i}(),pc=function(){var i=function(){function r(){}return r.prototype.onScannedAsset=function(t){this.Ia=t},r.prototype.scanCssString=function(t){this.Gu(xn(t))},r.prototype.scanElement=function(t,e){H.getMaskedElementDetails(t).state!==H.MaskedElementState.NotMasked||e&&H.isMaskedAttribute(t,e)||(ea(t)?this.Um(t):wu(t)?this.Vm(t,e):(this.jm(t,e),this.Hm(t,e),this.Bm(t,e)))},r.prototype.Vm=function(t,e){var n;if((!e||e==="href")&&t.href){var o=((n=t.sheet)===null||n===void 0?void 0:n.href)||t.href,a={assetId:o,assetBasePath:window.location.href,assetRawPath:nc(t)};this.Ia({type:"stylesheet",asset:a})}},r.prototype.Um=function(t){var e,n,o,a,s,u=new Set;if(t.textContent)try{for(var c=D(xn(t.textContent)),h=c.next();!h.done;h=c.next()){var f=h.value;u.add(f)}}catch(_){e={error:_}}finally{try{h&&!h.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}var p;try{p=(s=t.sheet)===null||s===void 0?void 0:s.cssRules}catch(_){_.name==="SecurityError"||_.name==="InvalidAccessError"||F.error(_.message)}if(p)for(var d=0;d<p.length;d++){var m=p.item(d).cssText;try{for(var w=(o=void 0,D(xn(m))),E=w.next();!E.done;E=w.next()){var f=E.value;u.add(f)}}catch(_){o={error:_}}finally{try{E&&!E.done&&(a=w.return)&&a.call(w)}finally{if(o)throw o.error}}}this.Gu(dn(u))},r.prototype.zu=function(t){return!this.Fm(t)&&!re(t)&&!rc(t)},r.prototype.jm=function(t,e){if(ep(t)||tp(t)){if(!e||e==="src"){var n=t.getAttribute("src");if(n&&this.zu(n)){var o={assetId:t.src,assetRawPath:n,assetBasePath:window.location.href};this.Ia({type:"asset",asset:o})}}(!e||e==="srcset")&&t.srcset&&this.Gm(t.srcset)}},r.prototype.Hm=function(t,e){if(t.nodeType!==1){bt.warn("StaticResourceUrlTracker: Wrong element nodeType: ".concat(t==null?void 0:t.nodeName,"/").concat(t.nodeType));return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){var n=t.getAttribute("style");if(typeof n=="string")this.scanCssString(n);else throw new Error("Unexpected style: "+t.outerHTML)}},r.prototype.Gm=function(t){this.Gu(va(t))},r.prototype.Bm=function(t,e){if((op(t)||ap(t)||sp(t))&&(!e||e==="href"||e==="xlink:href")){var n=t.getAttribute("href")||t.getAttribute("xlink:href");if(n&&this.zu(n)){var o={assetId:xe(n),assetRawPath:n,assetBasePath:window.location.href};this.Ia({type:"asset",asset:o})}}},r.prototype.Gu=function(t){var e=this;return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,function(n){return e.zu(n)}),function(n){return{rawUrl:n,absoluteUrl:xe(n)}}),function(n){var o={assetId:n.absoluteUrl,assetBasePath:window.location.href,assetRawPath:n.rawUrl};e.Ia({type:"asset",asset:o})})},r.prototype.Fm=function(t){return/^https:\/\/\w+:\w+@/.test(t)},r}();return i}(),ny=function(){var i=function(){function r(t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.Ur=[],this.Z=[],this.zm=t}return r.prototype.next=function(t){var e,n,o=this;this.Z.length===this.zm&&csArray.prototype.shift.call(this.Z),csArray.prototype.push.call(this.Z,t),this.Z.length===1&&csSetTimeout(function(){return o.clear()});try{for(var a=ie(this.Ur),s=a.next();!s.done;s=a.next()){var u=s.value;u(t)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.subscribe=function(t){var e,n,o=this,a=Fe(this.Ur,function(h){return t===h});if(a)return function(){o.Ur=csArray.prototype.filter.call(o.Ur,function(h){return h!==t})};csArray.prototype.push.call(this.Ur,t);try{for(var s=ie(this.Z),u=s.next();!u.done;u=s.next()){var c=u.value;t(c)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return function(){o.Ur=csArray.prototype.filter.call(o.Ur,function(h){return h!==t})}},r.prototype.clear=function(){this.Z=[]},r.prototype.hasObservers=function(){return this.Ur.length>0},r}();return i}(),dc=function(){var i,r=function(){function t(e){this.E=e}return t.prototype.observe=function(){var e=this;if(this.qm=i.Qi.subscribe(function(o){return e.E(o)}),!i.Pa){i.Pa=!0,i.Zi.observe();var n=ne(document,NodeFilter.SHOW_ELEMENT);n.visitAll(function(o){i.yr.add(o),i.Qi.next(o)})}},t.prototype.disconnect=function(){i.Pa&&(this.qm(),i.Qi.hasObservers()||(i.Pa=!1,i.Zi.disconnect(),i.Qi.clear(),i.yr.clear()))},t}();return i=r,r.yr=Vi(),r.Qi=new ny,r.Wm=Hr(function(t){se(function(){var e,n;try{for(var o=ie(t),a=o.next();!a.done;a=o.next()){var s=a.value;s.type==="childList"&&rt(s.addedNodes,function(u){var c=ne(u,NodeFilter.SHOW_ELEMENT);c.visitAll(function(h){i.yr.has(h)||(i.yr.add(h),i.Qi.next(h))})})}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}})},"ElementObserver.findAllElements"),r.Pa=!1,r.Zi=new Xe(i.Wm),_t([B()],r.prototype,"observe",null),_t([B()],r.prototype,"disconnect",null),r}(),iy=function(){return 1}(),oy=function(){return 0}(),vc=function(){var i=function(){function r(t,e,n){e===void 0&&(e=iy),n===void 0&&(n=oy);var o=this;this.Ym=t,this.Xm=e,this.Km=n,this.Ve=new pn,this.De=!1,this.qu=0,this.Df=function(){for(o.qu=0;o.Ve.length;){if(o.qu>=o.Xm){csSetTimeout(o.Df,o.Km);return}var a=V.elapsed(),s=o.Ve.pop();if(!s)break;o.runTask(s);var u=V.elapsed()-a;o.qu+=u}o.De=!1}}return r.prototype.schedule=function(t,e){if(e===void 0&&(e=!1),!this.Ym||e){t();return}Pe.general.pendingTasks.increase(),this.Ve.push(t),this.Jm()},r.prototype.Jm=function(){var t=this;this.De||(this.De=!0,csSetTimeout(function(){t.Df()}))},r.prototype.runTask=function(t){Pe.general.pendingTasks.decrease(),t()},r.prototype.runPendingTasks=function(){var t=this;this.Ve.forEach(function(e){t.runTask(e)}),this.Ve.clear()},r.prototype.clearQueue=function(){Pe.general.pendingTasks.clear(),Pe.mutations.pendingMutations.clear(),this.Ve.clear()},r.prototype.isEmpty=function(){return this.Ve.length===0},r}();return X([B("TaskScheduler"),Jt("runTask")],i.prototype,"runTask",null),X([Jt("runPendingTasks")],i.prototype,"runPendingTasks",null),i}(),yc=function(){var i=function(){function r(){var t=this;this.B=!1,this.Lf=new ga(function(e){return e.type==="cssRuleInserted"&&t.Qm(e)}),this.Zm=ji(function(e){t.B&&e.length>0&&t.C.schedule(function(){return rt(e,function(n){return t.$i.scanElement(n)})})}),this.$m=function(e){var n=e.type,o=e.asset,a,s,u;n==="stylesheet"&&((a=t.tS)===null||a===void 0||a.call(t,o)),(s=t.eS)===null||s===void 0||s.call(t,o);var c={date:V.now(),type:z.STATIC_RESOURCE_URL,args:[o.assetId]};(u=t.O)===null||u===void 0||u.call(t,c)},this.C=new vc(!0,30,0),this.to=new dc(function(e){return t.rS(e)}),this.P=new Xe(function(e){return t.Oa(e)}),this.$i=new pc,this.$i.onScannedAsset(this.$m)}return r.prototype.onEvent=function(t){this.O=t},r.prototype.onAsset=function(t){this.eS=t},r.prototype.onStyleSheetFound=function(t){this.tS=t},r.prototype.start=function(){this.B||(this.B=!0,this.Lf.observe(),this.to.observe(),this.P.observe())},r.prototype.stop=function(){this.B&&(this.Lf.disconnect(),this.to.disconnect(),this.P.disconnect(),this.B=!1)},r.prototype.Qm=function(t){!t.rule||!this.B||this.$i.scanCssString(t.rule)},r.prototype.rS=function(t){this.B&&H.getMaskedElementDetails(t).state===H.MaskedElementState.NotMasked&&this.Zm.push(t)},r.prototype.Oa=function(t){var e=this;csSetTimeout(function(){var n,o;try{for(var a=D(t),s=a.next();!s.done;s=a.next()){var u=s.value;switch(u.type){case"attributes":e.$i.scanElement(u.target,u.attributeName);break;case"characterData":e.nS(u.target);break;case"childList":}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}})},r.prototype.nS=function(t){_i(t)&&csNodeparentNode.apply(t)&&ea(csNodeparentNode.apply(t))&&this.$i.scanCssString(t.data)},r}();return i}(),gc=function(){var i=function(){function r(t){this.Uf=[],this.Vf=[],this.qt={},this.Wt=t}return r.prototype.setQueryParams=function(t){var e=this;csArray.prototype.forEach.call(Object.keys(t),function(n){e.qt[n]=t[n]})},r.prototype.removeQueryParams=function(t){var e=this;t?csArray.prototype.forEach.call(t,function(n){delete e.qt[n]}):this.qt={}},r.prototype.onBeaconSuccess=function(t){csArray.prototype.push.call(this.Uf,t)},r.prototype.onBeaconFailure=function(t){csArray.prototype.push.call(this.Vf,t)},r.prototype.send=function(t){var e=this,n=jn.toQuery(k(k({},this.qt),{ct:Di.UNCOMPRESSED})),o=this.iS(n,t);return o?csArray.prototype.forEach.call(this.Uf,function(a){return a()}):csArray.prototype.forEach.call(this.Vf,function(a){return a(e.qt)}),o},r.prototype.iS=function(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;var n=csNavigatorsendBeacon("".concat(this.Wt,"?").concat(t),e||"");if(n)return n}catch(o){}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon("".concat(this.Wt,"?").concat(t),e||"")},r}();return i}(),ay=function(){var i=function(){function r(t){this.Na={},this.we=new pa(t)}return r.prototype.save=function(t){var e=t.key,n=t.metadata,o=t.events;this.we.isThresholdReached()||(this.we.addString(e),typeof o=="string"?this.we.addString(o):this.we.addArrayBuffer(o),!this.we.isThresholdReached()&&(this.Na[e]={metadata:n,events:o}))},r.prototype.recover=function(t){var e=this,n=[];csArray.prototype.forEach.call(this.oS(),function(o){var a=e.Na[o];a!==void 0&&(delete a.metadata.datatype,csArray.prototype.push.call(n,a),e.aS(o))}),n.length!==0&&(t(n),this.we.reset())},r.prototype.oS=function(){return Object.keys(this.Na)},r.prototype.aS=function(t){delete this.Na[t]},r}();return i}(),ur=function(){var i;return function(r){r[r.NOT_STARTED=0]="NOT_STARTED",r[r.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",r[r.OPEN_FAILED=2]="OPEN_FAILED",r[r.READY=3]="READY"}(i||(i={})),i}(),sy=function(){var i=function(){function r(t,e,n){this.ti=t,this.sS=n,this.Cn=ur.NOT_STARTED,this.Ma=[],this.Wu=0,this.uS=self.origin,this._e=typeof window=="object"?"":"worker-",this.we=new pa(e),this.Yu()}return r.prototype.Yu=function(){return Kt(this,void 0,void 0,function(){return Gt(this,function(t){switch(t.label){case 0:return[4,this.jf()];case 1:return t.sent(),this.Cn===ur.READY?this.cS():this.sS(this.Ma),[2]}})})},r.prototype.cS=function(){var t=this;csArray.prototype.forEach.call(this.Ma,function(e){t.save(e)}),this.Ma=[]},r.prototype.save=function(t){return Kt(this,void 0,void 0,function(){var e,n,o,a;return Gt(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),this.Cn===ur.OPEN_IN_PROGRESS?(csArray.prototype.push.call(this.Ma,t),[2]):this.Cn!==ur.READY?[2]:this.we.isThresholdReached()?[2]:(e=t.key,n=t.metadata,o=t.events,this.we.addString(e),typeof o=="string"?this.we.addString(o):this.we.addArrayBuffer(o),this.we.isThresholdReached()?[2]:[4,this.Qt.put("".concat(this.uS,"/").concat(e),new Response(o,{headers:n}))]);case 1:return s.sent(),[3,3];case 2:return a=s.sent(),[3,3];case 3:return[2]}})})},r.prototype.recover=function(t){return Kt(this,void 0,void 0,function(){return Gt(this,function(e){switch(e.label){case 0:return this.Qt?[3,2]:[4,this.jf()];case 1:if(e.sent(),this.Cn!==ur.READY)return[2];e.label=2;case 2:return this.lS(t),[2]}})})},r.prototype.jf=function(){return Kt(this,void 0,void 0,function(){var t,e;return Gt(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.Cn=ur.OPEN_IN_PROGRESS,t=this,[4,self.caches.open("".concat(this._e).concat(this.ti))];case 1:return t.Qt=n.sent(),this.Cn=ur.READY,[3,3];case 2:return e=n.sent(),this.Cn=ur.OPEN_FAILED,[3,3];case 3:return[2]}})})},r.prototype.lS=function(t){return Kt(this,void 0,void 0,function(){var e,n,o,a,s,u=this;return Gt(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,6,7]),this.Wu++,this.Wu>1?[2]:[4,this.Qt.keys()];case 1:return e=c.sent(),e.length===0?[2]:[4,this.Qt.matchAll()];case 2:return n=c.sent(),o=csArray.prototype.map.call(n,function(h){var f={};h.headers.forEach(function(d,m){f[m]=d}),delete f["content-type"];var p=f.datatype;return delete f.datatype,p==="json"||p==="base64"?h.text().then(function(d){return{metadata:f,events:d}}):h.arrayBuffer().then(function(d){return{metadata:f,events:d}})}),[4,Promise.all(o)];case 3:return a=c.sent(),[4,Promise.all(csArray.prototype.map.call(e,function(h){return u.Qt.delete(h)}))];case 4:return c.sent(),t(a),this.we.reset(),[3,7];case 5:return s=c.sent(),[3,7];case 6:return this.Wu--,[7];case 7:return[2]}})})},r}();return i}(),uy=function(){var i=function(){function r(t){try{this.hS(t)}catch(e){this.Xu()}}return r.prototype.hS=function(t){self.caches?this.fS(t):this.Xu()},r.prototype.save=function(t){this.xa.save(t)},r.prototype.recover=function(t){this.xa.recover(t)},r.prototype.fS=function(t){var e=this;this.xa=new sy(t,r.Hf,function(n){e.Xu(n)})},r.prototype.Xu=function(t){var e=this;this.xa=new ay(r.Hf),t&&csArray.prototype.forEach.call(t,function(n){e.xa.save(n)})},r}();return i.Hf=1024*1024*16,i}(),ho=function(){var i;return function(r){r.REQUEST_START="requestStart",r.DOM_INTERACTIVE="domInteractive",r.TIME_ORIGIN="timeOrigin"}(i||(i={})),i}();var mc=function(){var i=function(r){mt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isListening=function(e){return Wn.isDOMEvent(e)&&(e.domEvent==="initialDOM"||e.domEvent==="nodesAdded")},t.prototype.processEvent=function(e){var n,o,a=this,s=0,u=e.domEvent==="initialDOM"?[e.initialDOM]:e.nodes,c=function(w){if(w instanceof rn){var E=H.getMaskedAttributeDetails(w);w.attributes=h.Da(w,E)}var _=H.getMaskedElementDetails(w);if(_.state===H.MaskedElementState.Child)return e.domEvent==="initialDOM"?{value:null}:(e.nodes=csArray.prototype.filter.call(e.nodes,function(b){return b!==w}),"continue");tt.traverse(w,function(b){if(b instanceof rn){var R=H.getMaskedAttributeDetails(b);b.attributes=a.Da(b,R);var A=H.getMaskedElementDetails(b);A.state===H.MaskedElementState.Parent&&(a.Ju(b,A),s++)}})},h=this;try{for(var f=dt(u),p=f.next();!p.done;p=f.next()){var d=p.value,m=c(d);if(typeof m=="object")return m.value}}catch(w){n={error:w}}finally{try{p&&!p.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return s>0&&pt.counters.sensitiveElements.count("masked-elements",s),e},t.prototype.Da=function(e,n){return n.attributes.length===0?e.attributes:csArray.prototype.filter.call(e.attributes,function(o){return csArray.prototype.indexOf.call(n.attributes,o.name)===-1})},t.prototype.Ju=function(e,n){var o="width: ".concat(n.width,"px !important; height: ").concat(n.height,"px !important;");e.children=[],e.shadowRoot=void 0,csArray.prototype.push.call(e.attributes,{name:"style",value:o,namespaceURI:""}),rn.getAttribute(e,"data-cs-mask")||csArray.prototype.push.call(e.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})},t}(yn);return ze([Jt("MaskedElementProcessor.processEvent")],i.prototype,"processEvent",null),i}(),Re=function(){var i;return function(r){r.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",r.WHITELISTED_STATUS="whitelisted";function t(o){return tt.getProperty(o,r.ANONYMIZED_TEXT_STATUS_PROP)===r.WHITELISTED_STATUS}r.isWhitelistedElement=t;function e(o){tt.setProperty(o,r.ANONYMIZED_TEXT_STATUS_PROP,r.WHITELISTED_STATUS)}r.whitelistElement=e;function n(o){tt.setProperty(o,r.ANONYMIZED_TEXT_STATUS_PROP,void 0)}r.removeWhitelistElement=n}(i||(i={})),i}(),cy=function(){return/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g}(),ly=function(){return"\uFF41"}(),hy=function(){return/[^ａ\s]/g}(),fy=function(){return"a"}();function fo(i){var r=function(){return csString.prototype.replace.call(i,cy,ly)}();return csString.prototype.replace.call(r,hy,fy)}var py=function(){return["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"]}(),Sc=function(){return function(i){var r=new Set(py);return csArray.prototype.forEach.call(i,function(t){r.add(t)}),r}}(),dy=function(){return["svg","slot"]}(),vy=function(){return function(i,r,t){var e=t==="radio"&&i==="input"&&r==="name";return e||csArray.prototype.indexOf.call(dy,i)>-1}}(),Ec=function(){return{href:new Set(["a"]),src:new Set(["iframe"])}}(),yy=function(){return function(i){return Ec.hasOwnProperty(i)}}(),gy=function(){return function(i,r,t){var e;return((e=Ec[r])===null||e===void 0?void 0:e.has(i))&&!re(t)}}(),my=function(){return function(i,r,t){var e=t==="submit"||t==="button";return e&&i==="input"&&r==="value"}}(),Sy=function(){var i=function(){function r(t,e,n,o){o===void 0&&(o=null),this.Ke=t,this.ES=e,this.I=n,this.La=o,this.wS=Sc(this.ES)}return r.prototype.sanitize=function(t,e){var n=this;return tt.traverse(t,function(o,a){if(o.anonymized=n.Ke,o.nodeType===3){var s=n.getAnonymizedValue(o.data,a?a==null?void 0:a.localName:e==null?void 0:e.targetLocalName,a?tt.getProperties(a):e==null?void 0:e.targetProps),u=s.anonymizedValue,c=s.withAnonymization;o.anonymized=c,o.data=u;return}if(rn.isElement(o))return n._S(o);if(o.nodeType===4){o.data=n.Ke?fo(o.data):n.I.checkAndAnonymizePII(o.data,n.La);return}}),t},r.prototype.setAnonymization=function(t){this.Ke=t},r.prototype.getAnonymizedValue=function(t,e,n){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};var o=(n==null?void 0:n[Re.ANONYMIZED_TEXT_STATUS_PROP])===Re.WHITELISTED_STATUS;return this.Ke&&!o?{anonymizedValue:fo(t),withAnonymization:!0}:{anonymizedValue:this.I.checkAndAnonymizePII(t,this.La),withAnonymization:!1}},r.prototype._S=function(t){var e=this;if(!tt.getProperty(t,"SVG")){var n=Fe(t.attributes,function(a){return a.name==="type"}),o=n==null?void 0:n.value;t.attributes=csArray.prototype.map.call(t.attributes,function(a){return a.anonymized=e.Ke,a.value=e.getAnonymizedAttributeValue(t.localName,a.name,a.value,o),a})}},r.prototype.getAnonymizedAttributeValue=function(t,e,n,o){return this.bS(t,e,o)?n:yy(e)?gy(t,e,n)?this.I.anonymizePII(n):n:this.Ke&&my(t,e,o)?fo(n):this.Ke?"":this.I.checkAndAnonymizePII(n,null)},r.prototype.bS=function(t,e,n){return vy(t,e,n)||this.wS.has(e)},r}();return i}();var Ey=function(){return function(){return function(i,r,t){t.value=_y(t.value)}}}(),wy=function(){return csQueueMicrotask||csSetTimeout}();function _y(i){var r=function(){return csSymbol("oncePerTickSymbol")}(),t=null,e={},n=function(){var o,a=(o=this)!==null&&o!==void 0?o:e;if(t=arguments,!a[r]){a[r]=!0;var s=function(){a[r]=!1,i.apply(a,t)};wy(s)}};return n.oncePerTickSymbol=r,n}Ey.isScheduled=function(i,r){var t=r.oncePerTickSymbol;return i[t]};var wc=function(){var i;return function(r){r.ENCRYPTED_NODE_PROP="toEncrypt";function t(o){return tt.getProperty(o,r.ENCRYPTED_NODE_PROP)===!0}r.shouldEncrypt=t;function e(o){tt.setProperty(o,r.ENCRYPTED_NODE_PROP,!0)}r.markEncryptedNode=e;function n(o){tt.setProperty(o,r.ENCRYPTED_NODE_PROP,void 0)}r.unmarkEncryptedNode=n}(i||(i={})),i}(),Be=function(){var i;return function(r){r.EDITABLE_NODE_PROP="editableNode";function t(o){return tt.getProperty(o,r.EDITABLE_NODE_PROP)===!0}r.isEditableNode=t;function e(o){tt.setProperty(o,r.EDITABLE_NODE_PROP,!0)}r.markEditableNode=e;function n(o){tt.setProperty(o,r.EDITABLE_NODE_PROP,void 0)}r.unmarkEditableNode=n}(i||(i={})),i}();var Us=function(){var i;return function(r){function t(e){return e.type==="TextVisibility"}r.isTextVisibilityEvent=t}(i||(i={})),i}(),_c=function(){var i=function(r){mt(t,r);function t(e,n,o,a){a===void 0&&(a=null);var s=r.call(this)||this;return s.I=o,s.La=a,s.Ha=new Sy(e,n,o,a),s}return t.prototype.setAnonymization=function(e){this.Ha.setAnonymization(e)},t.prototype.isListening=function(e){return Us.isTextVisibilityEvent(e)||Wn.isDOMEvent(e)&&(e.domEvent==="initialDOM"||e.domEvent==="nodesAdded"||e.domEvent==="attributeChanged"||e.domEvent==="characterDataChanged")},t.prototype.processEvent=function(e){if(Us.isTextVisibilityEvent(e))return e.text=this.I.checkAndAnonymizePII(e.text,this.La),e;switch(e.domEvent){case"initialDOM":case"nodesAdded":this.rc(e);break;case"attributeChanged":this.PS(e);break;case"characterDataChanged":this.OS(e);break}return e},t.prototype.rc=function(e){var n,o,a=e.domEvent==="initialDOM"?[e.initialDOM]:e.nodes,s;e.domEvent==="nodesAdded"&&(s={targetLocalName:e.targetLocalName,targetProps:e.targetProps});try{for(var u=dt(a),c=u.next();!c.done;c=u.next()){var h=c.value;this.Ha.sanitize(h,s)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t.prototype.PS=function(e){if(!e.isSvg&&e.newValue){if(e.localName===null){e.newValue="";return}e.newValue=this.Ha.getAnonymizedAttributeValue(e.localName,e.attribute,e.newValue,e.inputType)}},t.prototype.OS=function(e){e.newValue=this.Ha.getAnonymizedValue(e.newValue,e.parentLocalName,e.parentProps).anonymizedValue},t}(yn);return ze([Jt("AnonymizedTextProcessor.processEvent")],i.prototype,"processEvent",null),i}();var bc=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.K=e,n}return t.prototype.isListening=function(e){return Wn.isDOMEvent(e)&&e.domEvent==="initialDOM"},t.prototype.processEvent=function(e){return e.domEvent==="initialDOM"&&(e.initialDOM.baseURI=this.K.anonymizeUrl(e.initialDOM.baseURI)),e},t}(yn);return ze([Jt("UrlAnonymizationProcessor.processEvent")],i.prototype,"processEvent",null),i}(),po=function(){return"textarea"}(),Ac=function(){var i=function(r){mt(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.isListening=function(e){return Wn.isDOMEvent(e)&&(e.domEvent==="initialDOM"||e.domEvent==="nodesAdded"||e.domEvent==="characterDataChanged")},t.prototype.processEvent=function(e){switch(e.domEvent){case"initialDOM":this.MS(e);break;case"nodesAdded":this.xS(e);break;case"characterDataChanged":this.kS(e);break}return e},t.prototype.MS=function(e){var n=this;tt.traverse(e.initialDOM,function(o,a){(n.Yf(o,a)||n.Xf(o))&&(o.data=n.nc(o.data))})},t.prototype.xS=function(e){var n,o,a=this;try{for(var s=dt(e.nodes),u=s.next();!u.done;u=s.next()){var c=u.value;tt.traverse(c,function(h,f){(a.DS(h,f,e)||a.Xf(h))&&(h.data=a.nc(h.data))})}}catch(h){n={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}},t.prototype.kS=function(e){var n;(e.parentLocalName===po||!((n=e.targetProps)===null||n===void 0)&&n.editableNode)&&(e.newValue=this.nc(e.newValue))},t.prototype.nc=function(e){return csString.prototype.replace.call(e,/\S/g,"\u2022")},t.prototype.DS=function(e,n,o){return this.LS(e,o)||this.Yf(e,n)},t.prototype.LS=function(e,n){return e.nodeType===3&&n.targetLocalName===po},t.prototype.Yf=function(e,n){return e.nodeType===3&&ot(n)&&n.localName===po},t.prototype.Xf=function(e){return e.nodeType===3&&Be.isEditableNode(e)},t}(yn);return ze([Jt("AnonymizedEditableTextProcessor.processEvent")],i.prototype,"processEvent",null),i}(),by=function(){var i=function(){function r(t){var e=this;this.E=t,this.Ut={boundElement:window,type:"resize",listener:function(){return e.resizeListener()}},this.E=t}return r.prototype.observe=function(){Vt(this.Ut),this.wu()},r.prototype.wu=function(){this.resizeListener()},r.prototype.disconnect=function(){jt(this.Ut)},r.prototype.resizeListener=function(){var t={width:Ot.windowWidth(),height:Ot.windowHeight()};this.E(t)},r}();return _t([B("resize")],i.prototype,"resizeListener",null),i}(),hr=function(){var i;return function(r){r.PORTRAIT="Portrait",r.LANDSCAPE="Landscape"}(i||(i={})),i}(),li=function(){var i;return function(r){r.PORTRAIT_PRIMARY="portrait-primary",r.PORTRAIT_SECONDARY="portrait-secondary",r.LANDSCAPE_PRIMARY="landscape-primary",r.LANDSCAPE_SECONDARY="landscape-secondary"}(i||(i={})),i}(),hi=function(){var i;return function(r){r[r.PORTRAIT=0]="PORTRAIT",r[r.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",r[r.LANDSCAPE=-90]="LANDSCAPE",r[r.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(i||(i={})),i}(),Ay=function(){var i;return function(r){var t=null;r.isScreenOrientationApiSupported=function(){var s;return t!=null?t:t=!!(!((s=Ut.screen)===null||s===void 0)&&s.orientation)},r.isDeprecatedScreenOrientationApiSupported=function(){return"orientation"in Ut};function e(){return hr.LANDSCAPE}function n(){var s;switch((s=Ut.screen.orientation)===null||s===void 0?void 0:s.type){case li.PORTRAIT_PRIMARY:case li.PORTRAIT_SECONDARY:return hr.PORTRAIT;case li.LANDSCAPE_PRIMARY:case li.LANDSCAPE_SECONDARY:return hr.LANDSCAPE;default:return hr.PORTRAIT}}function o(){switch(window.orientation){case hi.PORTRAIT:case hi.PORTRAIT_REVERSE:return hr.PORTRAIT;case hi.LANDSCAPE:case hi.LANDSCAPE_REVERSE:return hr.LANDSCAPE;default:return hr.PORTRAIT}}function a(){return r.isScreenOrientationApiSupported()?n():r.isDeprecatedScreenOrientationApiSupported()?o():e()}r.getCurrentOrientation=a}(i||(i={})),i}(),Ty=function(){var i=function(r){mt(t,r);function t(){var e=r.apply(this,Er([],yt(arguments),!1))||this;return e.ic=null,e.oc=null,e.Hr=new by(function(n){e.produceEvent(Sr(Sr({},n),{type:"viewportResize"})),e.onScreenPotentiallyChanged()}),e}return t.prototype.onScreenPotentiallyChanged=function(){var e=Ay.getCurrentOrientation(),n=this.US(e),o=n.screenWidth,a=n.screenHeight;if(o!==this.ic||a!==this.oc){this.ic=o,this.oc=a;var s={type:"screenResize",width:o,height:a};this.produceEvent(s)}},t.prototype.US=function(e){var n,o,a=Ot.screenWidth(),s=Ot.screenHeight();return e===hr.PORTRAIT?(n=a,o=s):(n=Math.max(a,s),o=Math.min(a,s)),{screenWidth:n,screenHeight:o}},t.prototype.onStart=function(){this.Hr.observe()},t.prototype.onStop=function(){this.ic=null,this.oc=null,this.Hr.disconnect()},t}(De);return i}();function Ry(i){var r=function(){return csEventtarget.apply(i)}();return r&&Et(r)&&csElementshadowRoot.apply(r)&&i.composedPath?i.__csOriginalTarget||i.composedPath()[0]:r}var ln=function(){var i=function(){function r(t,e){e===void 0&&(e={closest:!1});var n=this;this.E=t,this.mt=e,this.He="",this.oo=Vi(),this.Oa=Hr(function(o){var a,s;if(n.He!==""){var u=[];try{for(var c=ie(Nu(o,function(d){return d.addedNodes})),h=c.next();!h.done;h=c.next()){var f=h.value;if(cp(f)||n.mt.closest&&_i(f)){var p=n.mt.closest?n.VS(f,n.He):n.findMatchingElements(f,n.He);us(p,u)}}}catch(d){a={error:d}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}u.length&&n.E(u,"added")}},"SelectorObserver.processMutations"),this.jS=function(o,a){if(!(n.He===""||a!=="added")){var s=n.findMatchingElements(o,n.He);s.length&&n.E(s,"added")}},this.F=new Xe(this.Oa,this.jS)}return Object.defineProperty(r.prototype,"selectors",{get:function(){return this.He===""?null:this.He},enumerable:!1,configurable:!0}),r.prototype.observe=function(t){var e,n,o=this;this.He===""?this.F.observe():this.He+=",",this.He+=t;var a=this.findMatchingElements(document,t);try{for(var s=ie(this.F.shadowRoots),u=s.next();!u.done;u=s.next()){var c=u.value,h=this.findMatchingElements(c,t);us(h,a)}}catch(f){e={error:f}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}a.length&&(rt(a,function(f){o.oo.add(f)}),this.E(a,"initial"))},r.prototype.processPendingMutations=function(){this.Oa(this.F.takeRecords())},r.prototype.disconnect=function(){this.F.disconnect(),this.oo.clear(),this.He=""},r.prototype.VS=function(t,e){var n=this,o=[];if(_i(t)){if(t.parentElement){var a=jo(t.parentElement,e);a&&csArray.prototype.push.call(o,a)}return csArray.prototype.filter.call(o,function(s){return n.oo.has(s)===!1})}else{if(Fn(t)){var a=jo(t,e);if(a)return csArray.prototype.push.call(o,a),csArray.prototype.filter.call(o,function(u){return n.oo.has(u)===!1})}return this.findMatchingElements(t,e)}},r.prototype.findMatchingElements=function(t,e){var n=this,o=on(window.csquerySelectorAll[t.nodeType].call(t,e));return Et(t)&&le.call(t,e)&&csArray.prototype.push.call(o,t),csArray.prototype.filter.call(o,function(a){return n.oo.has(a)===!1})},r}();return _t([B()],i.prototype,"observe",null),_t([B()],i.prototype,"disconnect",null),_t([Jt("SelectorObserver.findMatchingElements")],i.prototype,"findMatchingElements",null),i}(),Cy=function(){var i=function(r){mt(t,r);function t(){var e=r.call(this)||this;return e.Kf=function(n){var o=Ry(n);o&&e.ac(o,n.type)},e.ne=new vn(function(n,o){switch(o){case"initial":case"added":e.Jf(n);break;case"removed":e.Qf(n);break}}),e.V=new ln(function(n,o){(o==="initial"||o==="added")&&e.HS(n)}),e}return t.shouldProcessElement=function(e){return e.tagName==="VIDEO"&&It.isConnected(e)&&!H.isMaskedElement(e)&&!H.isMaskedElementChild(e)},t.isPlaying=function(e){return!e.paused&&!e.ended},t.prototype.onStart=function(){this.Jf(document),this.ne.observe(),this.V.observe("video")},t.prototype.onStop=function(){this.Qf(document),this.ne.disconnect(),this.V.disconnect()},t.prototype.ac=function(e){for(var n,o,a=this,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];if(this.isStarted&&t.shouldProcessElement(e)){var c=function(d){var m=lt(e),w={type:"VideoEvent",videoEventType:d,nodeId:m};d==="seeked"&&(w.newTimePositionInSec=e.currentTime),Bo(function(){return a.produceEvent(w)})};try{for(var h=dt(s),f=h.next();!f.done;f=h.next()){var p=f.value;c(p)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}}},t.prototype.HS=function(e){var n,o;try{for(var a=dt(e),s=a.next();!s.done;s=a.next()){var u=s.value;this.ac(u,"seeked"),t.isPlaying(u)&&this.ac(u,"play")}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.Jf=function(e){var n,o;try{for(var a=dt(["play","pause","seeked"]),s=a.next();!s.done;s=a.next()){var u=s.value;Vt({type:u,listener:this.Kf,boundElement:e})}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.Qf=function(e){var n,o;try{for(var a=dt(["play","pause","seeked"]),s=a.next();!s.done;s=a.next()){var u=s.value;jt({type:u,listener:this.Kf,boundElement:e})}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t}(De);return i}();function Iy(i){return i.nodeName==="SELECT"}function ma(i){return i.nodeName==="INPUT"}function Py(i){return i.nodeName==="TEXTAREA"||ma(i)&&!Tc(i)&&!Rc(i)}function Tc(i){return ma(i)&&i.type==="number"}function Rc(i){return ma(i)&&(i.type==="checkbox"||i.type==="radio")}var Cc=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.tt=e,n.sc=Vi(),n.ei=function(o){return n.inputHandler(o)},n.In=[],n.BS(),n.FS(),n.V=new ln(function(o){var a,s,u=function(p){n.cc(p)&&se(function(){n.lc(p,lt(p))},"low")};try{for(var c=dt(o),h=c.next();!h.done;h=c.next()){var f=h.value;u(f)}}catch(p){a={error:p}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}}),n.ne=new vn(function(o,a){switch(a){case"initial":case"added":Vt({type:"change",listener:n.ei,boundElement:o});break;case"removed":jt({type:"change",boundElement:o,listener:n.ei});break}}),n}return t.prototype.onStart=function(){Vt({type:"keyup",boundElement:document,listener:this.ei}),Vt({type:"change",boundElement:document,listener:this.ei}),rt(this.In,function(e){return e.activate()}),this.V.observe(csArray.prototype.join.call(t.GS,",")),this.ne.observe()},t.prototype.onStop=function(){jt({type:"keyup",boundElement:document,listener:this.ei}),jt({type:"change",boundElement:document,listener:this.ei}),rt(this.In,function(e){return e.deactivate()}),this.V.disconnect(),this.ne.disconnect(),this.sc.clear()},t.prototype.lc=function(e,n){var o,a,s;if(!this.sc.has(e)){if(this.sc.add(e),Iy(e)){var u={type:"InputEvent",inputType:"select",target:lt(e),selectedIndex:e.selectedIndex,timestamp:V.now()};this.produceEvent(u);return}if(Rc(e)){var c={type:"InputEvent",inputType:"checkable",target:lt(e),checked:e.checked,timestamp:V.now()};this.produceEvent(c);return}var h=Py(e),f=Tc(e);if(h||f){var p=(o=e.value)!==null&&o!==void 0?o:"";if(!((a=this.tt)===null||a===void 0)&&a.shouldEncrypt(e)){(s=this.tt)===null||s===void 0||s.registerInputNodeToEncrypt({targetId:n,targetValue:p,date:V.now()});return}var d=f?"0":"\u2022",m={type:"InputEvent",inputType:"text",target:lt(e),value:csString.prototype.replace.call(p,/\S/g,d),timestamp:V.now()};this.produceEvent(m)}}},t.prototype.inputHandler=function(e){var n=this;if(this.isStarted){var o=Mt(e),a=lt(o);!a||!this.cc(o)||It.isConnected(o)&&se(function(){n.lc(o,a)},"low")}},t.prototype.BS=function(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")},t.prototype.FS=function(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)},t.prototype.trackChanges=function(e,n,o){var a=this;o===void 0&&(o=!1);var s=Vo(e.prototype,n,function(u,c,h){if(h!==c&&It.isConnected(u)){var f=o?u.parentElement:u;a.zS(f)}});s&&csArray.prototype.push.call(this.In,s)},t.prototype.cc=function(e){return!H.isMaskedElement(e)&&!H.isMaskedElementChild(e)&&(Ni(e)||na(e)||ra(e))},t.prototype.zS=function(e){var n=this;if(this.isStarted&&It.isConnected(e)){var o=lt(e);o&&this.cc(e)&&se(function(){n.lc(e,o)},"low")}},t}(De);return i.GS=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],ze([Lt()],i.prototype,"inputHandler",null),ze([B()],i.prototype,"trackChanges",null),i}();var Ic=function(){var i=function(r){mt(t,r);function t(){var e=r.call(this)||this;e.gr=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",e.qS=br("CustomElementRegistrationProducer:onElementsFound",function(o){var a,s;try{for(var u=dt(o),c=u.next();!c.done;c=u.next()){var h=c.value;H.isMaskedElement(h)||H.isMaskedElementChild(h)||hp(h)&&e.register(csString.prototype.toLowerCase.call(h.tagName))}}catch(f){a={error:f}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}});var n=ji(e.qS);return e.to=new dc(function(o){return n.push(o)}),e.jr=new Set,e}return t.prototype.onStart=function(){this.gr&&this.to.observe()},t.prototype.onStop=function(){this.jr.clear(),this.to.disconnect()},t.prototype.register=function(e){return fr(this,void 0,void 0,function(){return pr(this,function(n){switch(n.label){case 0:return this.jr.has(e)?[2]:(this.jr.add(e),[4,window.customElements.whenDefined(e)]);case 1:return n.sent(),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(e)}),[2]}})})},t}(De);return ze([B()],i.prototype,"register",null),i}(),Vs=function(){var i=function(){function r(t){this.E=t}return r.isNavigationTimingObserverSupported=function(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0},r.getTimeOrigin=function(){return window.performance.timeOrigin},r.Zf=function(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(function(t){return r.WS(t)})},r.WS=function(t){var e=t.getEntriesByType("navigation"),n=e[0];n&&(this.Pn=n,r.ni(n))},r.zi=function(t){this.YS(t),this.Pn&&t(this.Pn),this.Ne||this.XS()},r.YS=function(t){this.Pt.add(t)},r.KS=function(t){this.Pt.delete(t)},r.XS=function(){if(this.ao||(this.ao=this.Zf()),!this.ao){this.Pn||(this.Pn={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.ni(this.Pn);return}this.ao.observe({type:"navigation",buffered:!0}),this.Ne=!0},r.ni=function(t){this.Pt.forEach(function(e){return e(t)})},r.Wi=function(t){this.KS(t),this.Pt.size===0&&this.ro()},r.ro=function(){var t;this.Ne&&((t=this.ao)===null||t===void 0||t.disconnect(),this.Ne=!1,this.Pn=null,this.ao=this.Zf())},r.prototype.observe=function(){r.zi(this.E)},r.prototype.disconnect=function(){r.Wi(this.E)},r}();return i.Ne=!1,i.Pt=new Set,i.Pn=null,i}(),Pc=function(){var i=function(r){mt(t,r);function t(){var e=r.apply(this,Er([],yt(arguments),!1))||this;return e.Ba=null,e.$f=new Vs(function(n){if(!e.Ba){var o=e.JS(n);o&&(e.Ba=o,e.produceEvent(o))}}),e}return t.prototype.onStart=function(){if(this.Ba){this.produceEvent(this.Ba);return}this.$f.observe()},t.prototype.onStop=function(){this.$f.disconnect()},t.prototype.JS=function(e){var n=Vs.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:n,requestStart:Math.floor(n+e.requestStart),domInteractive:Math.floor(n+e.domInteractive)},timestamp:V.now()}},t}(De);return i}(),xt=function(){var i;return function(r){r[r.TAP=0]="TAP",r[r.LONG_PRESS=1]="LONG_PRESS",r[r.DRAG=2]="DRAG",r[r.FLICK=3]="FLICK",r[r.PINCH_IN=4]="PINCH_IN",r[r.PINCH_OUT=5]="PINCH_OUT"}(i||(i={})),i}(),fi=function(){var i;return function(r){r[r.UP=1]="UP",r[r.DOWN=2]="DOWN",r[r.LEFT=3]="LEFT",r[r.RIGHT=4]="RIGHT"}(i||(i={})),i}(),Oy=function(){var i=function(){function r(){}return r.prototype.compute=function(t,e){var n=this.Br(e.x)-this.Br(t.x),o=this.Br(e.y)-this.Br(t.y),a=e.time-t.time;return{duration:a,distance:this.tp(n,o),direction:this.QS(n,o),velocity:this.ZS(n,o,a)}},r.prototype.computePinchMetrics=function(t,e){var n=this.Br(e.x)-this.Br(t.x),o=this.Br(e.y)-this.Br(t.y),a=e.time-t.time;return{duration:a,distance:this.tp(n,o)}},r.prototype.getScale=function(t,e){return Math.abs(e/t-1)},r.prototype.Br=function(t){return t/window.devicePixelRatio},r.prototype.tp=function(t,e){return Math.round(Math.sqrt(t*t+e*e))},r.prototype.ZS=function(t,e,n){var o=n/1e3,a=t/o,s=e/o;return Math.round(Math.abs(a)+Math.abs(s))},r.prototype.QS=function(t,e){return Math.abs(t)>Math.abs(e)?t>0?fi.RIGHT:fi.LEFT:e>0?fi.DOWN:fi.UP},r}();return i}(),Oc=function(){return typeof performance!="undefined"&&!!performance.now}(),js=function(){return Oc?function(){return performance.now()}:csDate.now}(),Ny=function(){var i;return Oc?(i=performance.timing)===null||i===void 0?void 0:i.navigationStart:0}(),pi=function(){return{now:function(){return Math.round(js()+Ny)},elapsed:function(){return js()}}}();function Hs(i,r){r===void 0&&(r=0);var t=Math.pow(10,r);return Math.round(i*t)/t}var My=function(){return 1e3}(),xy=function(){return 100}(),ky=function(){return .1}(),Go=function(){var i=function(){function r(){this.Vt={},this.hc=function(){},this.Fa=new Oy,this.be()}return r.isGestureDetectionSupported=function(){return typeof devicePixelRatio!="undefined"},r.prototype.onGesture=function(t){this.hc=t},r.prototype.isValidTouchEvent=function(t){return"touches"in t&&"changedTouches"in t},r.prototype.processActionDown=function(t){if(this.$S(t)){this.tE(t)&&this.be();var e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:pi.now()};if(t.touches.length===1)this.Vt.startPinchTime=e.time,this.Vt.firstTouch=e;else if(t.touches.length===2&&(this.Vt.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:pi.now()},this.Vt.firstTouch&&this.Vt.secondTouch)){var n=this.Fa.computePinchMetrics(this.Vt.firstTouch,this.Vt.secondTouch);this.ii=n.distance}csArray.prototype.push.call(this.so,e),this.Ga=Mt(t)}},r.prototype.processActionMove=function(){this.fc=!0},r.prototype.processActionUp=function(t){if(this.eE(t)){if(csArray.prototype.push.call(this.so,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:pi.now()}),this.rE(t)&&this.Vt.startPinchTime){var e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Vt.startPinchTime},n={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:pi.now()};this.Vt.firstTouch&&(this.Vt.firstTouch=e,this.Vt.secondTouch=n),this.nE(t)}this.ii||this.iE()&&this.oE(t)}},r.prototype.be=function(){this.so=[],this.Ga=null,this.fc=!1,this.ii=null,this.uo=!0},r.prototype.oE=function(t){var e=this.Fa.compute(this.so[0],this.so[1]);this.uo=t.isTrusted;var n=this.fc?this.aE(e):this.sE(e);if(this.uE(n.type,t.changedTouches)){var o=t.changedTouches[0];n.pageX=Hs(o.pageX,1),n.pageY=Hs(o.pageY,1)}this.hc(n,t)},r.prototype.nE=function(t){if(this.Vt.firstTouch&&this.Vt.secondTouch){var e=this.Fa.computePinchMetrics(this.Vt.firstTouch,this.Vt.secondTouch);this.uo=t.isTrusted;var n=this.cE(e);n&&this.hc(n,t)}},r.prototype.cE=function(t){if(this.ii){var e=this.Fa.getScale(this.ii,t.distance);if(!(e<ky)){var n=this.ii>t.distance?xt.PINCH_IN:xt.PINCH_OUT;return{type:n,target:this.Ga,distance:t.distance,isTrusted:this.uo}}}},r.prototype.aE=function(t){var e=t.velocity<xy?xt.DRAG:xt.FLICK;return{type:e,target:this.Ga,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.uo}},r.prototype.sE=function(t){var e=t.duration<My?xt.TAP:xt.LONG_PRESS;return{type:e,target:this.Ga,isTrusted:this.uo}},r.prototype.uE=function(t,e){return t===xt.TAP&&e&&e.length===1},r.prototype.tE=function(t){return t.touches.length===1},r.prototype.iE=function(){return this.so.length===2},r.prototype.$S=function(t){return t.touches.length>0},r.prototype.eE=function(t){return t.changedTouches.length>0},r.prototype.rE=function(t){return this.fc&&!!this.ii&&t.changedTouches.length===1&&t.touches.length===1},r}();return i}(),Dy=function(){return"touchstart"}(),Ly=function(){return"touchmove"}(),Uy=function(){return"touchend"}(),Vy=function(){var i=function(){function r(t){this.E=t}return r.prototype.observe=function(){r.ep&&r.pc(this.E)},r.prototype.disconnect=function(){r.ep&&r.vc(this.E)},r.lE=function(t,e){csArray.prototype.forEach.call(dn(r.Pt),function(n){return n(t,e)})},r.pc=function(t){r.Pt.has(t)||(r.Pt.add(t),r.Pt.size===1&&(r.co.onGesture(r.lE),csArray.prototype.forEach.call(r.Lr,function(e){return Vt(e)})))},r.vc=function(t){r.Pt.delete(t),r.Pt.size===0&&csArray.prototype.forEach.call(r.Lr,function(e){return jt(e)})},r.yc=function(t){if(r.co.isValidTouchEvent(t))switch(t.type){case"touchstart":r.co.processActionDown(t);break;case"touchmove":r.co.processActionMove();break;case"touchend":r.co.processActionUp(t);break}},r}();return i.Lr=[{boundElement:Ut.document,type:Dy,listener:function(r){return i.yc(r)}},{boundElement:Ut.document,type:Ly,listener:function(r){return i.yc(r)}},{boundElement:Ut.document,type:Uy,listener:function(r){return i.yc(r)}}],i.ep=Go.isGestureDetectionSupported(),i.Pt=new Set,i.co=new Go,i}(),Nc=function(){var i=function(r){mt(t,r);function t(){var e=r.call(this)||this;return e.lo=new Vy(e.gc.bind(e)),e}return t.prototype.onStart=function(){this.lo.observe()},t.prototype.onStop=function(){this.lo.disconnect()},t.prototype.gc=function(e){var n=this.hE(e);n&&this.produceEvent(n)},t.prototype.hE=function(e){if(!this.fE(e))return null;var n=hv(e.target);return n?{type:"Gesture",targetId:n,data:{type:e.type,direction:e.direction,distance:e.distance,velocity:e.velocity,pageX:e.pageX,pageY:e.pageY}}:null},t.prototype.fE=function(e){return e.target!==null&&!(Et(e.target)&&H.isMaskedElementChild(e.target))},t}(De);return i}(),Mc=function(){var i=function(){function r(t){var e=this;this.E=t,this.Fr=!1,this.Ut={boundElement:Ut,type:"error",listener:function(n){return e.pE(n)}}}return r.prototype.observe=function(){Vt(this.Ut,this.Fr)},r.prototype.disconnect=function(){jt(this.Ut,this.Fr)},r.prototype.pE=function(t){this.E(t)},r}();return i}(),jy=function(){var i=function(r){mt(t,r);function t(){var e=r.apply(this,Er([],yt(arguments),!1))||this;return e.rp=new Mc(function(n){return e.za(n)}),e}return t.prototype.za=function(e){var n=e.message,o=e.filename,a=e.lineno,s=e.colno;n=n!=null?n:"[NO ERROR MESSAGE]",o=!o||re(o)?"":o,this.produceEvent({type:"JSError",message:n,filename:o,lineno:a,colno:s})},t.prototype.onStart=function(){this.rp.observe()},t.prototype.onStop=function(){this.rp.disconnect()},t}(De);return i}(),Hy=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.dE=e,n.mc=1024,n.Sc=150,n}return t.prototype.isListening=function(e){return e.type==="JSError"},t.prototype.processEvent=function(e){return e.message=gt.truncate(e.message,this.mc,gt.ELLIPSIS),e.filename=gt.truncate(e.filename,this.Sc,gt.ELLIPSIS),this.dE(e)},t}(yn);return i}();var Qr=function(){return[]}(),zo=function(){return!1}(),xc=function(){return Hr(Fy,"executeTasks")}();function By(i){if(csArray.prototype.push.call(Qr,i),!zo){for(var r=0;r<3;r++)csSetTimeout(xc);zo=!0}}function Fy(){for(var i=function(){return csDate.now()}(),r=0;r<Qr.length;r++)if(Qr[r](),csDate.now()-i>=35){Qr=csArray.prototype.slice.call(Qr,r+1),csSetTimeout(xc);return}Qr=[],zo=!1}var cr=function(){var i;return function(r){r[r.Started=0]="Started",r[r.Stopped=1]="Stopped",r[r.Processing=2]="Processing",r[r.Completed=3]="Completed"}(i||(i={})),i}(),kc=function(){var i=function(){function r(){var t=this;this.At=new pn,this._t=cr.Stopped,this.E=null,this.ip=function(e){t._t===cr.Stopped||!e||(t.E(e),t.op())}}return Object.defineProperty(r.prototype,"queueLength",{get:function(){return this.At.length},enumerable:!1,configurable:!0}),r.prototype.start=function(t){if(this.E)throw new Error("callback already set");this._t=cr.Started,this.E=t},r.prototype.push=function(t){this.At.push(t),this.bc()},r.prototype.stop=function(){this.E=null,this._t=cr.Stopped,this.At.clear()},r.pipe=function(t,e){var n,o,a=t,s=new csArray,u=function(d){var m=new r;m.start(function(w){d.pushEvent(w)}),csArray.prototype.push.call(s,m),rt(a,function(w){return w.subscribe(function(E){return m.push(E)})}),a=[d]};try{for(var c=dt(e),h=c.next();!h.done;h=c.next()){var f=h.value;u(f)}}catch(d){n={error:d}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}var p=new Gy(s);return rt(a,function(d){return d.subscribe(function(m){return p.push(m)})}),p},r.prototype.ap=function(){return this._t===cr.Stopped},r.prototype.Je=function(){return this._t===cr.Processing},r.prototype.op=function(){var t=this;if(!this.ap()){if(this.At.isEmpty){this._t=cr.Completed;return}this._t=cr.Processing,By(function(){var e=t.At.pop();e instanceof ya?e.complete(t.ip):t.ip(e)})}},r.prototype.bc=function(){this.ap()||this.Je()||this.op()},r}();return i}(),Gy=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.sp=e,n}return Object.defineProperty(t.prototype,"queueLength",{get:function(){return csArray.prototype.reduce.call(this.sp,function(e,n){return e+n.queueLength},0)},enumerable:!1,configurable:!0}),t.prototype.stop=function(){r.prototype.stop.call(this),rt(this.sp,function(e){return e.stop()})},t}(kc);return i}(),Dc=function(){var i=function(){function r(t,e){e===void 0&&(e=[]),this.producers=t,this.processors=e,this.B=!1,this.Pt=[]}return Object.defineProperty(r.prototype,"pendingEvents",{get:function(){var t,e;return(e=(t=this.At)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0},enumerable:!1,configurable:!0}),r.prototype.start=function(){if(this.B)throw new Error("Recording is already started.");var t=this.Pt;this.At=kc.pipe(this.producers,this.processors),this.At.start(function(e){return csArray.prototype.forEach.call(t,function(n){return n(e)})}),rt(this.producers,function(e){return e.start()}),rt(this.processors,function(e){return e.start()}),this.B=!0},r.prototype.stop=function(){var t,e,n,o;this.At.stop(),this.Pt.length=0;try{for(var a=dt(this.producers),s=a.next();!s.done;s=a.next()){var u=s.value;u.stop()}}catch(p){t={error:p}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}try{for(var c=dt(this.processors),h=c.next();!h.done;h=c.next()){var f=h.value;f.stop()}}catch(p){n={error:p}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}this.B=!1,this.Pt=[]},r.prototype.subscribe=function(t){var e=this;if(this.B)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Pt,t),function(){return e.Pt=csArray.prototype.filter.call(e.Pt,function(n){return n!==t})}},r}();return i}(),Lc=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.Oe=e,n}return t.prototype.subscribe=function(e){return r.prototype.subscribe.call(this,e)},t.prototype.onStart=function(){var e=this;rt(this.Oe,function(n){n.onEvent(function(o){var a;return e.Qn(o,(a=n.eventType)!==null&&a!==void 0?a:"browser")})}),rt(this.Oe,function(n){var o;(o=n.start)===null||o===void 0||o.call(n)})},t.prototype.onStop=function(){rt(this.Oe,function(e){var n;return(n=e.stop)===null||n===void 0?void 0:n.call(e)})},t.prototype.Qn=function(e,n){this.produceEvent({timestamp:V.now(),type:"Legacy",originalEvent:e,eventType:n})},t}(De);return i}();function zy(i,r,t){var e,n,o=i.timestamp;switch(i.domEvent){case"initialDOM":{var a=i.initialDOM,s={type:z.INITIAL_DOM,date:o,args:[a]};t.emitInitialDomDone(s);break}case"nodesAdded":{csArray.prototype.forEach.call(i.nodes,function(U){r({type:z.MUTATION_INSERT,date:o,args:[i.target,i.nextSibling,U]})});break}case"nodesMoved":{try{for(var u=D(i.nodesIds),c=u.next();!c.done;c=u.next()){var h=c.value;r({type:z.MUTATION_MOVE,date:o,args:[h,i.nextSibling,i.target]})}}catch(U){e={error:U}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}break}case"nodesRemoved":{csArray.prototype.forEach.call(i.nodesIds,function(U){r({type:z.MUTATION_REMOVE,date:o,args:[U]})});break}case"attributeChanged":{var f=i.target,p=i.namespace,d=i.attribute,m=i.newValue;r({type:z.MUTATION_ATTRIBUTE,date:o,args:[f,p,d,m]});break}case"characterDataChanged":{var f=i.target,m=i.newValue;r({type:z.MUTATION_CHARACTER_DATA,date:o,args:[f,m]});break}case"cssRuleInserted":{var f=i.target,w=i.rule,E=i.index,_=ot(E)?[f,w,E]:[f,w];r({type:z.STYLESHEET_RULE_INSERT,date:o,args:_});break}case"cssRuleDeleted":{var f=i.target,E=i.index;r({type:z.STYLESHEET_RULE_DELETE,date:o,args:[f,E]});break}case"cssRuleUpdated":{var f=i.target,w=i.rule,E=i.index;r({type:z.STYLESHEET_RULE_UPDATE,date:o,args:[f,w,E]});break}case"shadowRootAttached":{var f=i.target,b=i.shadowRoot;r({type:z.ATTACH_SHADOW,date:o,args:[f,b]});break}case"adoptedStyleSheetRegistered":{var R=i.sheetId,A=i.cssRules;r({type:z.REGISTER_ADOPTED_STYLE_SHEET,date:o,args:[R,{cssRules:A}]});break}case"adoptedStyleSheetsSet":{var f=i.target,I=i.sheetsIds;r({type:z.SET_ADOPTED_STYLE_SHEETS,date:o,args:[f,I]});break}case"adoptedStyleSheetRuleInserted":{var R=i.sheetId,w=i.rule,E=i.index,_=ot(E)?[R,w,E]:[R,w];r({type:z.ADOPTED_STYLESHEET_RULE_INSERT,date:o,args:_});break}case"adoptedStyleSheetRuleDeleted":{var R=i.sheetId,E=i.index;r({type:z.ADOPTED_STYLESHEET_RULE_DELETE,date:o,args:[R,E]});break}case"adoptedStyleSheetRuleUpdated":{var R=i.sheetId,w=i.rule,E=i.index,_=[R,w,E];r({type:z.ADOPTED_STYLESHEET_RULE_UPDATE,date:o,args:_});break}default:F.error("translateDOMEvent: DOMEvent not supported");break}}function qy(i){var r=Wy(i.data);return{type:z.GESTURE_RECOGNITION,args:[i.targetId,r],date:i.timestamp}}function Wy(i){var r={type:Yy(i.type)};for(var t in i){var e=i[t];e!==void 0&&t!=="type"&&(r[t]=e)}return r}function Yy(i){switch(i){case xt.DRAG:case xt.FLICK:return Rn.SWIPE;case xt.LONG_PRESS:return Rn.LONG_PRESS;case xt.TAP:return Rn.TAP;case xt.PINCH_IN:return Rn.PINCH_IN;case xt.PINCH_OUT:return Rn.PINCH_OUT}}function Xy(i,r){var t=[],e=!1;return{push:function(n){var o=this;if(csArray.prototype.push.call(t,n),t.length===r.batchSize){this.flush();return}r.autoFlushDelay&&r.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(function(){e=!1,t.length>0&&o.flush()},r.autoFlushDelay))},flush:function(){if(t.length){var n=t;t=[],i(n)}}}}var Ky=function(){return 20}();function Jy(i){return Xy(function(r){var t={visibleInViewPort:r},e={type:z.TEXT_VISIBILITY,date:V.now(),args:[t]};i(e)},{batchSize:Ky,autoFlushDelay:1e3})}function Qy(i){return{type:z.PERFORMANCE_TIMINGS,args:[{performanceTiming:ho.REQUEST_START,timestamp:i.timings.requestStart},{performanceTiming:ho.DOM_INTERACTIVE,timestamp:i.timings.domInteractive},{performanceTiming:ho.TIME_ORIGIN,timestamp:i.timings.timeOrigin}],date:i.timestamp}}function Zy(i){switch(i.inputType){case"text":return{type:z.INPUT_TEXT,args:[i.target,i.value],date:i.timestamp};case"select":return{type:z.INPUT_SELECT,args:[i.target,i.selectedIndex],date:i.timestamp};case"checkable":return{type:z.INPUT_CHECKABLE,args:[i.target,i.checked],date:i.timestamp}}}var $y=function(){return 500}(),vo=function(){return 0}();function tg(){return{processEvent:function(i,r){if(i.originalEvent.type===z.PERFORMANCE_RESOURCE_TIMING)return vo>=$y?null:(vo+=1,r(k(k({},i.originalEvent),{date:i.timestamp})));r(i.originalEvent)},reset:function(){vo=0}}}function eg(i){switch(i.videoEventType){case"play":return{type:z.VIDEO_PLAY,args:[i.nodeId],date:i.timestamp};case"pause":return{type:z.VIDEO_PAUSE,args:[i.nodeId],date:i.timestamp};case"seeked":{var r=i;return{type:z.VIDEO_SEEK,args:[r.nodeId,r.newTimePositionInSec],date:i.timestamp}}default:return null}}var Uc=function(){var i=function(){function r(t,e,n,o,a){var s=this;this.qa=t,this.S=e,this.Ae=n,this.Ye=o,this.Xe=a,this.Zt=function(){},this.Wa=function(){},this.up=Jy(function(u){return s.Zt(u)})}return Object.defineProperty(r.prototype,"pendingEvents",{get:function(){return this.qa.pendingEvents},enumerable:!1,configurable:!0}),r.prototype.start=function(){var t=this,e,n;this.cp=tg(),this.qa.subscribe(function(o){var a,s,u,c,h,f,p=o,d=p.timestamp;switch(p.type){case"Legacy":{var m=p.eventType==="user"?(a=t.Wa)!==null&&a!==void 0?a:function(){}:t.Zt;t.cp.processEvent(p,m)}break;case"CustomElementRegistration":{t.Zt({type:z.CUSTOM_ELEMENT_REGISTRATION,date:d,args:[p.tagName]});break}case"DomEvent":{zy(p,t.Zt,t.S);break}case"InputEvent":{var w=Zy(p);(s=t.Wa)===null||s===void 0||s.call(t,w);break}case"encryptedCharacterDataChanged":{var E=p.target,_=p.rawData,b=p.encryptedData,R=p.encryptionMetadata;t.Zt({type:z.MUTATION_ENCRYPTED_CHARACTER_DATA,date:d,args:[E,_,b,R]});break}case"StaticResource":{var A=p.url;t.Zt({type:z.STATIC_RESOURCE_URL,date:d,args:[A]});break}case"ResizeMaskedElement":{var E=p.target,I=p.width,U=p.height;t.Zt({type:z.MUTATION_ATTRIBUTE,date:d,args:[E,"","style","width:".concat(I,"px !important;height:").concat(U,"px !important;")]});break}case"Gesture":{var N=qy(o);(u=t.Wa)===null||u===void 0||u.call(t,N);break}case"TextVisibility":{t.up.push(p.text);break}case"StaticResourceManagerEvent":{(c=t.Ae)===null||c===void 0||c.processEvent(p);break}case"screenResize":{var I=p.width,U=p.height,q={type:z.SCREEN_RESIZE,date:d,args:[I,U]};t.Zt(q);break}case"viewportResize":{var I=p.width,U=p.height,$={type:z.RESIZE,date:d,args:[I,U]};t.Zt($);break}case"PerformanceTiming":{t.Zt(Qy(p));break}case"CustomError":{var W=(h=t.Xe)===null||h===void 0?void 0:h.translate(p);W&&t.Zt(W);break}case"JSError":{var W=(f=t.Ye)===null||f===void 0?void 0:f.translate(p);W&&t.Zt(W);break}case"VideoEvent":{var W=eg(p);W&&t.Zt(W);break}case"warning":{F.warn(p.message);break}default:F.error("WebRecorderEventTranslator: Event not supported (".concat(p.type,")"));break}}),this.S.emitInitialDomStart(),(e=this.Ye)===null||e===void 0||e.start(),(n=this.Xe)===null||n===void 0||n.start(),this.qa.start()},r.prototype.stop=function(){var t,e,n;this.reset(),this.flush(),this.qa.stop(),(t=this.Ae)===null||t===void 0||t.flushEvents(),(e=this.Ye)===null||e===void 0||e.stop(),(n=this.Xe)===null||n===void 0||n.stop()},r.prototype.flush=function(){this.up.flush()},r.prototype.onEvent=function(t,e){var n=this,o;this.Zt=t,this.Wa=e,(o=this.Ae)===null||o===void 0||o.onEvent(function(a){return n.Zt(a)})},r.prototype.reset=function(){this.cp.reset()},r}();return i}(),Vc=function(){var i=function(){function r(t){t===void 0&&(t=100),this.mE=t,this.Ya={},this.ho=null,this.Du="original-resource-name"}return r.prototype.onEvent=function(t){this.SE=t},r.prototype.processEvent=function(t){this.EE(t.resourceId,t.resource.hash,t.originalResourceName),this.wE(t)},r.prototype.flushEvents=function(){this.ho&&csClearTimeout(this.ho),this.lp()},r.prototype.onSendStaticResource=function(t){this.wE=t},r.prototype.lp=function(){if(Object.keys(this.Ya).length){var t={type:z.RESOURCE_HASHES,date:V.now(),args:[this.Ya]};this.ho=null,this.Ya={},this.SE(t)}},r.prototype.EE=function(t,e,n){var o=this,a=e;n&&(a+="?".concat(this.Du,"=").concat(n)),this.Ya[t]=a,!this.ho&&(this.ho=window.csSetTimeout(function(){return o.lp()},this.mE))},r}();return i}(),rg=function(){var i=function(){function r(t,e,n){this.S=t,this.w=e,this._E=n,this.fo=Wt.ETR_DISABLED,this.Xa=Wt.ETR_PENDING,this.Ka=!0}return r.prototype.getEtrStatus=function(t){t===void 0&&(t=this.w.getSession());var e=t==null?void 0:t.etrStatus;return this.Ac()&&e===Wt.ETR_SAVED_SESSION?e:this.fo},r.prototype.onEventTriggerRecording=function(t,e){switch(e){case mr.ETR_PAGE:this.hp(Wt.ETR_SAVED_PAGE);break;case mr.ETR_LEGACY:case mr.ETR_SESSION:this.hp(Wt.ETR_SAVED_SESSION);break}},r.prototype.handleCollectStateChange=function(t){this.Ka=!1,t?this.po(this.Xa):this.po(Wt.ETR_DISABLED)},r.prototype.handleArtificialPageview=function(){this._E?(this.Ka=!0,this.po(Wt.ETR_DISABLED)):this.Ac()&&this.po(Wt.ETR_PENDING)},r.prototype.handleSessionRenewal=function(){this.Ka=!0,this.po(Wt.ETR_DISABLED)},r.prototype.po=function(t){this.fo=t,this.Xa=Wt.ETR_PENDING,this.fp(t),this.S.emitRecordingContextChange()},r.prototype.hp=function(t){this.Ka?Number(t)>Number(this.Xa)&&(this.Xa=t):this.Ac()&&Number(t)>Number(this.fo)&&(this.fo=t,this.fp(t),this.S.emitRecordingContextChange())},r.prototype.fp=function(t){var e=this.w.getSession();e!==null&&e.etrStatus===Wt.ETR_NOT_SAVED_SESSION&&t===Wt.ETR_SAVED_SESSION&&(e.etrStatus=t,this.w.setSession(e))},r.prototype.Ac=function(){return this.fo!==Wt.ETR_DISABLED},r}();return i}();function qo(i,r){var t,e,n,o,a=null,s=function(){return function(c){var h=V.elapsed();if(!c&&a!==null){var f=r-(h-a);if(f>0){e=window.csSetTimeout(s,f);return}}var p=h-n;e=null,a=null,n=null,o=i.apply(void 0,_r([p],Se(t),!1))}}(),u=function(){return function(){for(var c=[],h=0;h<arguments.length;h++)c[h]=arguments[h];if(t=_r([],Se(c),!1),n){a=V.elapsed();return}return n=V.elapsed(),e=window.csSetTimeout(s,r),o}}();return u.flushPending=function(){e&&(window.csClearTimeout(e),s(!0))},u.cancel=function(){a=null,n=null,e&&(window.csClearTimeout(e),e=null)},u}var ng=function(){var i;return function(r){r[r.NOT_EXIST=2]="NOT_EXIST"}(i||(i={})),i}(),ig=function(){return 8*1024*1024}(),og=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.Ae=e,a.pp=n,a.J=o,a.Tc={},a.dp=new Set,a.Je=!1,a}return t.prototype.initState=function(){var e=this;Uu()&&(this.Me=this.J.getRequestParameters(),this.bE="".concat(this.pp,"/exist?").concat(jn.toQuery(this.Me)),this.AE="".concat(this.pp,"/putTag?").concat(jn.toQuery(this.Me)),this.vp=qo(function(){return Kt(e,void 0,void 0,function(){return Gt(this,function(n){switch(n.label){case 0:if(this.Je)return this.vp(),[2];this.Je=!0,n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.TE()];case 2:return n.sent(),[3,4];case 3:return this.Je=!1,[7];case 4:return[2]}})})},300),this.Ae.onSendStaticResource(function(n){e.yp(n)}))},t.prototype.onStart=function(){},t.prototype.onStop=function(){},t.prototype.onIframeStaticResource=function(e){this.yp(e)},t.prototype.yp=function(e){var n=this;this.gp(e.resource.hash,e.resource.data),e.nestedResources&&e.nestedResources.length>0&&csArray.prototype.forEach.call(e.nestedResources,function(o){n.gp(o.hash,o.data)})},t.prototype.gp=function(e,n){this.dp.has(e)||(this.dp.add(e),this.Tc[e]=n,this.vp())},t.prototype.TE=function(){return Kt(this,void 0,void 0,function(){var e,n,o,a=this;return Gt(this,function(s){switch(s.label){case 0:return e=this.Tc,this.Tc={},[4,this.RE(e)];case 1:return n=s.sent(),n.length?(o=this.CE(n),[4,Promise.all(csArray.prototype.map.call(o,function(u){return window.fetch(a.AE,{method:"POST",body:u})}))]):[2];case 2:return s.sent(),[2]}})})},t.prototype.IE=function(e){return Kt(this,void 0,void 0,function(){var n,o,a,s;return Gt(this,function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),n=Object.keys(e),n.length?(o={projectId:this.Me.pid,filter:ng.NOT_EXIST,hashes:n,touch:!0},[4,window.fetch(this.bE,{method:"POST",body:csJSON.stringify(o)})]):[2,[]];case 1:return a=u.sent(),[4,a.json()];case 2:return[2,u.sent()];case 3:return s=u.sent(),[2,[]];case 4:return[2]}})})},t.prototype.RE=function(e){return Kt(this,void 0,void 0,function(){var n,o;return Gt(this,function(a){switch(a.label){case 0:return n=[],[4,this.IE(e)];case 1:return o=a.sent(),csArray.prototype.forEach.call(o,function(s){var u=e[s];u?csArray.prototype.push.call(n,{hash:s,data:u}):F.warn("SRM: received unknown hash: "+s)}),[2,n]}})})},t.prototype.CE=function(e){var n,o,a=0,s=[new FormData];try{for(var u=D(e),c=u.next();!c.done;c=u.next()){var h=c.value,f=h.data,p=h.hash,d=s.length-1;if(a=a+f.size,a<ig)s[d].append("",f,p);else{var m=new FormData;m.append("",f,p),a=f.size,csArray.prototype.push.call(s,m)}}}catch(w){n={error:w}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}return s},t}(wt);return i}(),ag=function(){var i=function(){function r(t){this.Ja=t,this.vo=20,this.On=0,this.N=!1}return r.prototype.translate=function(t){if(this.On>=this.vo)return this.Ja.stop(),null;this.On+=1;var e=t.filename,n=t.message,o=t.lineno,a=t.colno,s=t.timestamp;return{type:z.JAVASCRIPT_ERROR,date:s,args:[{errorType:"jsError",message:n,filename:e,lineno:o,colno:a}]}},r.prototype.start=function(){this.N||(this.On=0,this.N=!0)},r.prototype.stop=function(){this.N=!1},r}();return i}(),sg=function(){var i=function(){function r(){this.vo=20,this.Nn=0,this.N=!1}return r.prototype.translate=function(t){if(this.Nn>=this.vo)return null;this.Nn+=1;var e=t.message,n=t.attributes,o=t.timestamp;return{type:z.CUSTOM_ERROR,date:o,args:[{errorType:"customError",message:e,attributes:n}]}},r.prototype.start=function(){this.N||(this.Nn=0,this.N=!0)},r.prototype.stop=function(){this.N=!1},r}();return i}(),ug=function(){return"csPersisted"}(),Bs=function(){return"v2/recording"}(),jc=function(){return["isRecording"]}(),Hc=function(){return["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"]}(),Bc=function(){return["replay:resourceManager:getStatus","cssrm:getStatus"]}(),cg=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U,N){this.Gr=t,this.w=e,this.h=n,this.Me=o,this.f=a,this.I=s,this.X=u,this.jt=c,this.se=h,this.at=f,this.ue=p,this.ut=d,this.S=m,this.zr=w,this.mp=E,this.$t=_,this.St=b,this.K=R,this.Zn=A,this.ot=I,this.lC=U,this.tt=N}return r.prototype.init=function(){var t=this,e,n,o=[],a=[];csArray.prototype.push.call(a,new mc),this.yo=new _c(this.ot.shouldUseAnonymization(),this.h.whitelistedAttributes,this.I,this.h.anonymizeDigits),this.Mn();var s=new uy(ug);this.PE(s);var u=new gv;this.j=new yv;var c=new yc;if(csArray.prototype.push.call(o,c),0){var h;if(h)var f}this.h.useStaticResourceManager&&cn.isSupported()&&(this.Lt=new cn,this.Ae=new Vc,this.Sp=new og(this.Ae,this.h.getStaticResourceManagerUri(),this.Me),this.mp.addListener(this.Sp),csArray.prototype.push.call(a,this.Lt));var p=new Hn(u,this.Me,{getRequestParameters:function(){return{let:t.recordingService.getRecordingLastEventTimestamp()}}},{getRequestParameters:function(){return{rst:t.recordingService.getRecordingStartTimestamp()}}},{getRequestParameters:function(){return{rt:csArray.prototype.join.call(t.w.getCollectStates(),",")}}}),d=new gc("".concat(this.h.getRecordingUri(),"/").concat(Bs));if(csArray.prototype.push.call(a,this.yo),csArray.prototype.push.call(a,new bc(this.K)),csArray.prototype.push.call(a,new Ac),this.xn=new tc,this.xn.init(),csArray.prototype.push.call(o,this.xn),this.Ct=new ry(s,d,this.U),0)var m,w,E;csArray.prototype.push.call(o,new fc(window.location,this.I));var _=new lc,b=new Ty,R=new Cy,A=new Cc(this.tt),I=new Ic,U=[b,this.jt,_,new Lc(csArray.prototype.filter.call(o,function(W){return W})),I,new Pc,new Nc,A,R];this.h.jsErrorsEnabled&&(this.Ja=new jy,this.NE=new Hy(function(W){return t.se.anonymize(W)}),this.Ye=new ag(this.Ja),csArray.prototype.push.call(U,this.Ja),csArray.prototype.push.call(a,this.NE)),!((n=this.h.customErrors)===null||n===void 0)&&n.enabled&&(this.Xe=new sg);var N=new Dc(U,a),q=new Uc(N,this.S,this.Ae,this.Ye,this.Xe),$=[_,b,R,A,I];this.recordingService=new ey(this.h,this.j,p,u,this.X,this.w,this.se,this.at,this.ue,this.tt,this.U,this.Ct,d,q,o,$,this.Lt,this.Zn,this.Ye,this.Xe),this.zr.addListener(this.recordingService),this.mp.addListener(this.recordingService),this.recordingService.init(),this.f.register(jc,function(){return t.w.isReplayRecorded()&&!t.$t.isUrlExcludedForSessionReplay()}),this.f.register(Hc,function(){t.recordingService.activateOnlineAssetsOnNextPageview(),t.S.emitRecordingContextChange()}),this.f.register(Bc,function(){return t.recordingService.getStaticResourceManagerStatus()}),this.kn=new rg(this.S,this.w,this.h.malkaUrlEnabled),this.zr.addListener(this.kn),this.Gr.enableRecordingContext(this.recordingService,this.w,this.kn),this.Rc()},r.prototype.onAfterNaturalPageView=function(){var t;this.$t.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.Sp)===null||t===void 0||t.initState()},r.prototype.onStartTracking=function(){this.Ct.recover(),this.Mn(),this.w.isReplayRecorded()&&!this.$t.isUrlExcludedForSessionReplay()&&(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Cc())},r.prototype.onArtificialPageViewEnd=function(){this.w.isReplayRecorded()&&!this.$t.isUrlExcludedForSessionReplay()&&!this.w.isTemporarilyRecorded()&&this.Ct.sendLastMessageBeacon(),this.recordingService.clearStates()},r.prototype.onBeforeArtificialPageView=function(){this.kn.handleArtificialPageview()},r.prototype.onAfterArtificialPageView=function(){this.Mn(),this.w.isReplayRecorded()&&!this.$t.isUrlExcludedForSessionReplay()?(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.ME()):(this.recordingService.resetOnlineAssetsOnPageview(),this.oi())},r.prototype.onBeforeSessionRenewal=function(){this.kn.handleSessionRenewal(),this.recordingService.clearStates(),this.oi()},r.prototype.onOptout=function(){this.oi(),this.recordingService.onOptOut()},r.prototype.onReplayUnanonymizationConsentGranted=function(){this.Mn(),this.recordingService.triggerUnanonymizationConsentGranted(),this.S.emitRecordingContextChange()},r.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.Mn(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.S.emitRecordingContextChange()},r.prototype.onCollectStateChange=function(t,e){if(t===j.QUOTA_REACHED||t===j.ANALYTICS_ONLY&&e===Ft.ETR_OFF)this.recordingService.clearEvents(),this.oi();else{this.U.setQueryParams({rt:csArray.prototype.join.call(this.w.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents();var n=t===j.ANALYTICS_ONLY&&e===Ft.ETR_ON;this.kn.handleCollectStateChange(n)}},r.prototype.onInitialDomStart=function(){this.recordingService.blockSendingEventsFromSerialization(),this.Ct.blockSendingLastMessage()},r.prototype.onInitialDomDone=function(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Ct.allowSendingLastMessage(),this.xn.start(),this.recordingService.pushEvents()},r.prototype.onAfterReplayRecordingConsentGranted=function(){this.w.isReplayRecorded()&&!this.$t.isUrlExcludedForSessionReplay()&&(this.w.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Cc(),this.recordingService.triggerRecordingForSessionGranted())},r.prototype.onAfterReplayRecordingConsentWithdrawn=function(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.oi())},r.prototype.Rc=function(){var t,e,n,o;if(!((e=(t=this.h.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){var a=(o=(n=this.h.experimental.sessionReplay)===null||n===void 0?void 0:n.shadowRoot)===null||o===void 0?void 0:o.filterByHostSelector;rt(a,function(s){tn(s)&&Xe.setShadowRootFilter(function(u){try{return le.call(u.host,s)}catch(c){return!1}})})}},r.prototype.Cc=function(){this.recordingService.start(),this.Ct.start(),this.S.emitRecordingContextChange()},r.prototype.oi=function(){lv(),this.recordingService.stop(),this.Ct.stop(),this.S.emitRecordingContextChange()},r.prototype.ME=function(){this.oi(),this.Cc()},r.prototype.PE=function(t){var e="byteArray";this.U=this.St.create("".concat(this.h.getRecordingUri(),"/").concat(Bs),!0,e,t,["rt","v","pid","pn","sn","uu"])},r.prototype.Mn=function(){var t,e=this.ot.shouldUseAnonymization();this.yo.setAnonymization(e),(t=this.OE)===null||t===void 0||t.setAnonymization(e)},r}();return X([Jt("Recording.onStartTracking")],i.prototype,"onStartTracking",null),X([Jt("onInitialDomDone")],i.prototype,"onInitialDomDone",null),i}(),Pn=function(){var i;return function(r){r[r.NOT_NEEDED=1]="NOT_NEEDED",r[r.NOT_EXPRESSED=2]="NOT_EXPRESSED",r[r.WITHDRAWN=3]="WITHDRAWN",r[r.GRANTED=4]="GRANTED"}(i||(i={})),i}(),gr=function(){var i;return function(r){function t(o){return o.replayConsentRequiredForSession}r.isReplayConsentNeeded=t;function e(o){return o.collectState===j.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||o.collectState===j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingBlockedByConsent=e;function n(o){return o.collectState===j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}r.isRecordingWithDrawn=n}(i||(i={})),i}(),lg=function(){var i=function(){function r(t,e,n,o){this.R=t,this.w=e,this.h=n,this.Qe=o,this.Ep=!1}return r.prototype.isNaturalPageViewSent=function(){return this.Ep},r.prototype.setNaturalPageViewSent=function(t){this.Ep=t},r.prototype.getTrackingContext=function(){var t=this.w.getSession();if(!t)return null;var e=this.getSessionKey();if(!e)return null;var n=this.h.projectId,o=this.h.uxaDomain,a=t.pageNumber,s=this.Qe.getPageViewType(),u=this.w.isReplayRecorded(),c=this.xE(t);return k({projectId:n,sessionKey:e,pageNumber:a,pageViewType:s,isRecording:u,uxaDomain:o,recordingConsentState:c},this.h.smbConfig)},r.prototype.getSessionKey=function(){var t=this.R.getVisitor();return t?"".concat(t.id,".").concat(t.visitsCount):null},r.prototype.xE=function(t){return gr.isReplayConsentNeeded(this.h)?t.collectState===j.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Pn.NOT_EXPRESSED:t.collectState===j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Pn.WITHDRAWN:Pn.GRANTED:Pn.NOT_NEEDED},r}();return i}(),hg=function(){var i=function(){function r(t){this.Et=t,this.te=[]}return r.prototype.handleCommand=function(t){if(ce(t)&&(this.go(t),this.Et.isNaturalPageViewSent())){var e=this.Et.getTrackingContext();e!==null&&this.xt(t,e)}},r.prototype.go=function(t){csArray.prototype.push.call(this.te,t)},r.prototype.executeRegisteredCallbacks=function(){var t=this,e=this.Et.getTrackingContext();e!==null&&csArray.prototype.map.call(this.te,function(n){return t.xt(n,e)})},r.prototype.xt=function(t,e){csSetTimeout(function(){t(e)})},r}();return i}(),fg=function(){var i=function(){function r(t){this.Et=t,this.Dn=[]}return r.prototype.handleCommand=function(t){if(this.Et.isNaturalPageViewSent())return this.kE(t);this.mo(t)},r.prototype.kE=function(t){var e=this.Et.getSessionKey();return this.wp(t)&&e!==null&&this.xt(t.callback,e),e},r.prototype.mo=function(t){this.wp(t)&&csArray.prototype.push.call(this.Dn,t.callback)},r.prototype.flushPendingCallbacks=function(){var t=this,e=this.Et.getSessionKey();e!==null&&csArray.prototype.forEach.call(this.Dn,function(n){t.xt(n,e)}),this.Dn=[]},r.prototype.wp=function(t){return t&&typeof t.callback=="function"},r.prototype.xt=function(t,e){csSetTimeout(function(){t(e)})},r}();return i}(),pg=function(){var i=function(){function r(t,e){this.Y=t,this.Et=e}return r.prototype.onTrackingContextRequestCallback=function(t){var e=this.Et.getTrackingContext();e!==null&&this.Y.sendToChildren(M.TrackingContextResultMessage,k(k({},t),{trackingContext:e}))},r.prototype.onIframeIntegrationCallback=function(t){if(this.Et.isNaturalPageViewSent()){var e=this.Et.getTrackingContext();e!==null&&(t.trackingContext=e,this.Y.sendToChildren(M.IntegrationCallback,t))}},r.prototype.sendAfterPageViewCallbackToChildren=function(){var t=this.Et.getTrackingContext();if(t!==null){var e={trackingContext:t,initiator:un.AfterPageView};this.Y.sendToChildren(M.IntegrationCallback,e)}},r}();return i}();function Fc(i,r){var t=i.isRecording,e=i.pageNumber,n=i.projectId,o=i.siteId,a=i.uxaDomain,s=i.csLiteDomain,u=/^(.+)\.(\d+)$/.exec(i.sessionKey),c;if(t&&u){var h=it(u,3),f=h[1],p=h[2];o?c="".concat(s,"/sites/").concat(o,"/player?uu=").concat(f,"&sn=").concat(p,"&pn=").concat(e):c="".concat(a,"/quick-playback/index.html?pid=").concat(n,"&uu=").concat(f,"&sn=").concat(p,"&pvid=").concat(e,"&recordingType=cs"),r.withTimestamp&&(c+="&t=".concat(V.now()-r.recordingStartTimestamp))}return{replayLink:c,isRecording:t}}var dg=function(){var i=function(){function r(t){this.Et=t}return r.prototype.handleCommand=function(t,e){ue(t)&&ce(e)&&this.xt(t,e)},r.prototype.xt=function(t,e){var n=this;csSetTimeout(function(){var o=n.Et.getTrackingContext();if(o){var a=Fc(o,t);e(a)}})},r}();return i}(),Gc=function(){var i=function(){function r(){this.te=new Set}return r.prototype.handleCommand=function(t,e){var n=this;return!ce(t)||this.te.has(t)?null:(this.te.add(t),e&&(this._e=e,this._p(t,e)),function(){return n.te.delete(t)})},r.prototype.executeCallbacks=function(t){var e=this;this.DE(t)&&(this._e=t,this.te.forEach(function(n){return e._p(n,t)}))},r.prototype._p=function(t,e){csSetTimeout(function(){try{t(e)}catch(n){}})},r.prototype.DE=function(t){var e=t.isRecording,n=t.recordingStartTimestamp,o=t.etrState,a=t.etrStatus,s=t.collectState;return this._e&&(this._e.isRecording!==e||this._e.recordingStartTimestamp!==n||this._e.etrState!==o||this._e.etrStatus!==a||this._e.collectState!==s)},r}();return i}(),Sa=function(){return["afterPageView"]}(),zc=function(){return["getSessionKey"]}(),qc=function(){return["onRecordingContextChange","onRecordingStateChange"]}(),Wc=function(){return["replay:link:generate"]}(),vg=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.R=t,this.w=e,this.f=n,this.nt=o,this.Y=a,this.h=s,this.Qe=u,this.Gr=c}return r.prototype.init=function(){var t=this;this.Et=new lg(this.R,this.w,this.h,this.Qe),this.Ic=new hg(this.Et),this.bp=new fg(this.Et),this.So=new Gc,this.LE=new dg(this.Et),this.Pc=new pg(this.Y,this.Et),this.nt.addListener(this.Pc),this.f.register(zc,function(e){return t.bp.handleCommand(e)}),this.f.register(Sa,function(e){return t.Ic.handleCommand(e)}),this.f.register(qc,function(e){return t.So.handleCommand(e,t.Gr.getRecordingContext())}),this.f.register(Wc,function(e,n){t.ai&&t.LE.handleCommand(k(k({},e),{recordingStartTimestamp:t.Gr.getRecordingContext().recordingStartTimestamp}),n)})},r.prototype.onAfterNaturalPageView=function(){this.Et.setNaturalPageViewSent(!0),this.bp.flushPendingCallbacks(),this.Ic.executeRegisteredCallbacks(),this.Pc.sendAfterPageViewCallbackToChildren()},r.prototype.onAfterArtificialPageView=function(){this.Ic.executeRegisteredCallbacks(),this.Pc.sendAfterPageViewCallbackToChildren()},r.prototype.onCollectStateChange=function(){this.executeRecordingContextChangeCallbacks()},r.prototype.onRecordingContextChange=function(){this.executeRecordingContextChangeCallbacks()},r.prototype.executeRecordingContextChangeCallbacks=function(){this.So.executeCallbacks(this.Gr.getRecordingContext())},r.prototype.setRecordingService=function(t){this.ai=t},r}();return X([qn({wait:0,mode:"trailing"})],i.prototype,"executeRecordingContextChangeCallbacks",null),i}(),yg=function(){return 512}(),gg=function(){return 255}(),Ln=function(){var i=function(){function r(t,e){this.key=csString.prototype.slice.call(t,0,yg),this.value=J(e)?csString.prototype.slice.call(e,0,gg):e}return r.isKeyValid=function(t){return J(t)},r.isValueValid=function(t){return J(t)||qe(t)},r}();return i}(),mg=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.Ht=e,o.I=n,o.Oc=[],o}return t.prototype.onStart=function(){var e=this;csArray.prototype.forEach.call(this.Oc,function(n){return e.Ap(n.key,n.value)}),this.Oc=[]},t.prototype.onStop=function(){},t.prototype.Ap=function(e,n){var o=this.I.anonymizePII(e),a=qe(n)?n:this.I.anonymizePII(n);this.Ht.add(new Ln(o,a))},t.prototype.trackDynamicVariable=function(e,n){if(Ln.isKeyValid(e)&&Ln.isValueValid(n)){if(!this.isStarted){csArray.prototype.push.call(this.Oc,{key:e,value:n});return}this.Ap(e,n)}else throw new Error("Command misuse: ".concat(Hi[0]))},t}(wt);return i}(),Sg=function(){var i=function(){function r(t){this.ce=t,this.Ht=[]}return r.prototype.add=function(t){csArray.prototype.push.call(this.Ht,t),this.setBatchReadyCall()},r.prototype.clear=function(){this.Ht=[]},r.prototype.onBatchReady=function(t){this.UE=t},r.prototype.getRequestParameters=function(){var t,e,n={};try{for(var o=D(this.Ht),a=o.next();!a.done;a=o.next()){var s=a.value;n[s.key]=s.value}}catch(u){t={error:u}}finally{try{a&&!a.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}return{dv:this.ce.compressSync(csJSON.stringify(n),"base64"),ct:this.ce.algorithm}},r.prototype.setBatchReadyCall=function(){this.UE()},r}();return X([qn({wait:0,mode:"trailing"}),B("dynamicVariablesBatchReady")],i.prototype,"setBatchReadyCall",null),i}(),Eg=function(){return"dvar"}(),Hi=function(){return["trackDynamicVariable"]}(),wg=function(){var i=function(){function r(t,e,n,o,a,s){this.f=t,this.w=e,this.h=n,this.Me=o,this.ce=a,this.I=s,this.cr=new sn(this.h.getTrackerUri(),Eg),this.Ht=new Sg(this.ce),this.Ze=new mg(this.Ht,this.I)}return r.prototype.init=function(){var t=this;this.cr.setRequestParametersProviders(this.Me,this.Ht),this.w.setDynamicVariablesService(this.Ze),this.Ht.onBatchReady(function(){return t.cr.send()}),this.cr.after(function(){return t.Ht.clear()}),this.f.register(Hi,function(e){var n=e===void 0?{}:e,o=n.key,a=n.value;t.Ze.trackDynamicVariable(o,a)})},r.prototype.onStartTracking=function(){this.Ze.start()},r}();return i}(),Wo=function(){var i=function(){function r(t,e){this.id=t,this.revenue=e}return r.from=function(t){var e=new r(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),J(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e},r.prototype.hasValidRevenue=function(){return!isNaN(this.revenue)&&this.revenue>=0},r.isValid=function(t){return Ht(t)&&Ie(t.revenue)&&J(t.currency)&&t.currency.length<=10&&(!Ht(t.id)||J(t.id))},r}();return i}(),Yc=function(){return 100}(),_g=function(){return 100}(),bg=function(){var i=function(){function r(t,e,n,o){this.id=t,this.name=e,this.price=n,this.quantity=o}return r.from=function(t){if(!r.Nc(t))return null;var e=new r(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return ot(t.sku)&&(e.sku=t.sku),ot(t.category)&&(e.category=t.category),ot(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,Yc)),e},r.Nc=function(t){return Ht(t)&&J(t.id)&&J(t.name)&&Ie(parseFloat(t.price))&&qe(parseInt(t.quantity,10))&&(!ot(t.sku)||J(t.sku))&&(!ot(t.category)||J(t.category))&&(!ot(t.merchant)||J(t.merchant))},r}();return i}(),Xc=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.I=e,a.Tp=n,a.X=o,a.Mc=[],a.clear(),a}return t.prototype.onStart=function(){var e=this;csArray.prototype.forEach.call(this.Mc,function(n){e.le=n.transaction,e.Eo=n.transactionItems,e.sendTransaction()}),this.Mc=[]},t.prototype.onStop=function(){},t.prototype.addTransaction=function(e){var n=this.I.anonymizeFields(e,["id"]);this.le=Wo.from(n)},t.prototype.getTransaction=function(){return this.le},t.prototype.sendTransaction=function(){if(!this.isStarted){csArray.prototype.push.call(this.Mc,{transaction:this.le,transactionItems:Ct([],it(this.Eo),!1)}),this.clear();return}if(!(this.Tp===null||this.X===null)&&(this.X.refreshSession(),!!this.X.isSessionValid())){if(!this.le.hasValidRevenue()){F.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.Tp.send()}},t.prototype.addItem=function(e){if(ce(e))throw new Error("Command misuse: ".concat(Bi[1]));var n=this.I.anonymizeFields(e,["id","name","sku","category"]),o=bg.from(n);o!==null&&csArray.prototype.push.call(this.Eo,o)},t.prototype.getItems=function(){return this.Eo},t.prototype.clear=function(){this.le=Wo.from({revenue:NaN}),this.Eo=[]},t.prototype.getRequestParameters=function(){var e={id:this.le.id?"".concat(this.le.id):"",revenue:"".concat(this.le.revenue)};return ot(this.le.tax)&&(e.tax="".concat(this.le.tax)),ot(this.le.shipping)&&(e.shipping="".concat(this.le.shipping)),ot(this.le.currency)&&(e.cu="".concat(this.le.currency)),e.items=window.csJSON.stringify(this.Eo),e},t}(wt);return i}(),Ag=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.VE=e,o.X=n,o.Te=null,o.xc=[],o}return t.prototype.onStart=function(){var e=this;csArray.prototype.forEach.call(this.xc,function(n){e.Te=n,e.Rp()}),this.xc=[]},t.prototype.onStop=function(){},t.prototype.addToCart=function(e){var n={};J(e.sku)&&(n.sku=csString.prototype.slice.call(e.sku,0,_g)),J(e.merchant)&&(n.merchant=csString.prototype.slice.call(e.merchant,0,Yc)),(n.sku||n.merchant)&&(this.Te=n,this.Rp())},t.prototype.getCartItem=function(){return this.Te},t.prototype.Rp=function(){if(!this.isStarted&&this.Te!==null){csArray.prototype.push.call(this.xc,this.Te),this.clear();return}this.X.refreshSession(),this.X.isSessionValid()&&this.VE.send()},t.prototype.clear=function(){this.Te=null},t.prototype.getRequestParameters=function(){if(!this.Te)return{};var e={};return J(this.Te.sku)&&this.Te.sku.length>0&&(e.sku=this.Te.sku),J(this.Te.merchant)&&this.Te.merchant.length>0&&(e.me=this.Te.merchant),e},t}(wt);return i}(),Kc=function(){return["ecommerce:addToCart","ec:cart:add"]}(),Ea=function(){return["ecommerce:addTransaction","ec:transaction:create"]}(),Bi=function(){return["ecommerce:addItem","ec:transaction:items:add"]}(),wa=function(){return["ecommerce:send","ec:transaction:send"]}(),Tg=function(){var i=function(){function r(t,e,n,o,a,s,u){this.h=t,this.J=e,this.R=n,this.f=o,this.I=a,this.X=s,this.A=u}return r.prototype.init=function(){var t=this,e=new sn(this.h.getTrackerUri(),"transaction"),n=new sn(this.h.getTrackerUri(),"addtocart");this.$e=new Xc(this.I,e,this.X),this.Qa=new Ag(n,this.X);var o=new Hn(this.J,this.R,this.A,this.$e);e.setRequestParametersProviders(o),e.after(function(){t.$e.clear()});var a=new Hn(this.J,this.R,this.A,this.Qa);n.setRequestParametersProviders(a),n.after(function(){t.Qa.clear()}),this.f.register(Ea,function(s){t.$e.addTransaction(s)}),this.f.register(Bi,function(s){return t.$e.addItem(s)}),this.f.register(wa,function(){return t.$e.sendTransaction()}),this.f.register(Kc,function(s){t.Qa.addToCart(s)})},r.prototype.onStartTracking=function(){this.$e.start(),this.Qa.start()},r}();return i}(),Rg=function(){var i=function(){function r(t){this.Za=t.performance}return r.prototype.getRequestParameters=function(){if(this.jE())return{};var t=this.HE();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}},r.prototype.HE=function(){var t=this.Za.timing;return{startRender:"".concat(t.domLoading-t.requestStart),domInteractive:"".concat(t.domInteractive-t.requestStart),domComplete:"".concat(t.domComplete-t.requestStart),fullyLoaded:"".concat(t.loadEventEnd-t.requestStart)}},r.prototype.jE=function(){return!(this.Za&&this.Za.timing&&this.Za.timing.loadEventEnd>0)},r}();return i}(),$t=function(){var i=function(){function r(){}return r.build=function(t,e,n){return csArray.prototype.reduce.call(n,function(o,a){return a.enhanceAnalysisEvent(t,o)},e)},r}();return i}(),Z=function(){var i;return function(r){r[r.RESIZE=0]="RESIZE",r[r.SCROLL=1]="SCROLL",r[r.MOUSEMOVE=2]="MOUSEMOVE",r[r.MOUSEDOWN=3]="MOUSEDOWN",r[r.MOUSEUP=4]="MOUSEUP",r[r.CLICK=5]="CLICK",r[r.MOUSEOVER=6]="MOUSEOVER",r[r.MOUSEOUT=7]="MOUSEOUT",r[r.CHANGE=10]="CHANGE",r[r.FOCUSIN=11]="FOCUSIN",r[r.FOCUSOUT=12]="FOCUSOUT",r[r.TAP=14]="TAP",r[r.KEYDOWN=15]="KEYDOWN",r[r.KEYUP=16]="KEYUP",r[r.COMMAND=17]="COMMAND",r[r.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",r[r.PERFORMANCE=19]="PERFORMANCE",r[r.DRAG=20]="DRAG",r[r.FLICK=21]="FLICK",r[r.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",r[r.ZOOM=23]="ZOOM",r[r.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",r[r.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",r[r.DEAD_CLICK=30]="DEAD_CLICK",r[r.DEAD_ZOOM=31]="DEAD_ZOOM",r[r.PAGE_RELOAD=32]="PAGE_RELOAD",r[r.THRASHED_CURSOR=33]="THRASHED_CURSOR",r[r.BLANK_PAGE=34]="BLANK_PAGE",r[r.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",r[r.SUBMIT=36]="SUBMIT"}(i||(i={})),i}(),yo=function(){var i;return function(r){r.SUCCESS="success",r.FAILURE="failure",r.ATTEMPT="attempt"}(i||(i={})),i}();function Cg(i){return i.tgtHM!==void 0}function Jc(i){return i.tgt!==void 0}function Ig(i){return i.tgtLk!==void 0}function Pg(i){return i.x!==void 0&&i.y!==void 0}function Og(i){return i===yo.SUCCESS||i===yo.FAILURE||i===yo.ATTEMPT}var Qc=function(){var i=function(){function r(t,e,n){this.ee=t,this.kt=e,this.mt=n}return r.prototype.processGesture=function(t,e){switch(t.type){case xt.TAP:this.BE(e);break;case xt.FLICK:this.FE(t,e);break;case xt.DRAG:this.GE(t,e);break;default:break}},r.prototype.BE=function(t){var e={type:Z.TAP,ts:0,x:0,y:0,tgt:""},n=$t.build(t,e,this.ee);n.tgt!==Me.INVALID_ELEMENT&&this.O(n)},r.prototype.GE=function(t,e){var n,o,a={type:Z.DRAG,ts:0,fd:t.direction,tgt:""};!((n=this.mt)===null||n===void 0)&&n.collectGestureDistance&&(a.distance=t.distance),!((o=this.mt)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);var s=$t.build(e,a,this.ee);s.tgt!==Me.INVALID_ELEMENT&&this.O(s)},r.prototype.FE=function(t,e){var n,o,a={type:Z.FLICK,ts:0,fd:t.direction,tgt:""};!((n=this.mt)===null||n===void 0)&&n.collectGestureDistance&&(a.distance=t.distance),!((o=this.mt)===null||o===void 0)&&o.collectGestureVelocity&&(a.velocity=t.velocity);var s=$t.build(e,a,this.ee);s.tgt!==Me.INVALID_ELEMENT&&this.O(s)},r.prototype.onEvent=function(t){this.O=t},r.prototype.start=function(){var t=this;this.kt.subscribe(r.Cp,function(e,n){return t.processGesture(e,n)})},r.prototype.stop=function(){this.kt.unsubscribe(r.Cp)},r}();return i.Cp="AnalysisGestureTracker",X([Lt()],i.prototype,"processGesture",null),i}(),Zc=function(){var i=function(){function r(t,e,n,o){o===void 0&&(o=["submit"]);var a=this;this.ee=t,this.ht=e,this.Dt=n,this.zE=o,this.Ip="select, select *, input, textarea",this.qE="select, select *, input, textarea",this.Pp="a, a *, button, button *, select, select *, input, textarea",this.wo="input, select, textarea",this.WE="form",this.$a=150,this.YE=400,this.Op=!1,this._o=qo(function(s,u){return a.scrollListener(s,u)},this.$a),this.Np=qo(function(s){return a.resizeListener(s)},this.$a),this.XE=Li(function(s){return a.mouseMoveListener(s)},this.YE),this.KE=[{boundElement:window,type:"resize",listener:function(){return a.Np()}},{boundElement:document,type:"scroll",listener:function(s){return a._o(s)}},{boundElement:window,type:"mousemove",listener:function(s){a.XE(iv(s))}},{boundElement:document,type:"mousedown",listener:function(s){return a.mouseDownListener(s)}},{boundElement:document,type:"mouseup",listener:function(s){return a.mouseUpListener(s)}},{boundElement:document,type:"click",listener:function(s){return a.clickListener(s)}}],this.Mp=[{type:"change",listener:this.Dt.on(this.qE,function(s){return a.changeListener(s)})},{type:"submit",listener:this.Dt.on(this.WE,function(s){return a.submitListener(s)})}],this.JE=Ct([{boundElement:document,type:"mouseover",listener:this.Dt.on(this.Pp,function(s){return a.mouseOverListener(s)})},{boundElement:document,type:"mouseout",listener:this.Dt.on(this.Pp,function(s){return a.mouseOutListener(s)})},{boundElement:document,type:"focusin",listener:this.Dt.on(this.Ip,function(s){return a.focusInListener(s)})},{boundElement:document,type:"focusout",listener:this.Dt.on(this.Ip,function(s){return a.focusOutListener(s)})},{boundElement:document,type:"keyup",listener:this.Dt.on(this.wo,function(s){return a.keyUpListener(s)})},{boundElement:document,type:"keydown",listener:this.Dt.on(this.wo,function(s){return a.keyDownListener(s)})},{boundElement:document,type:"copy",listener:this.Dt.on(this.wo,function(s){return a.copyListener(s)})},{boundElement:document,type:"cut",listener:this.Dt.on(this.wo,function(s){return a.cutListener(s)})},{boundElement:document,type:"paste",listener:this.Dt.on(this.wo,function(s){return a.pasteListener(s)})}],it(csArray.prototype.map.call(this.Mp,function(s){return k(k({},s),{boundElement:document})})),!1),this.D={},this.xu=function(s,u){switch(u){case"initial":case"added":a._n(s);break;case"removed":a.bn(s);break}},this.ne=new vn(this.xu),this.Eu()}return r.prototype._n=function(t){if(bi(t)){var e=this.xp();csArray.prototype.forEach.call(e,function(n){return Vt(n)})}else{var e=this.kp();csArray.prototype.forEach.call(e,function(o){Vt(k(k({},o),{boundElement:t}))})}},r.prototype.bn=function(t){if(bi(t)){var e=this.xp();csArray.prototype.forEach.call(e,function(n){return jt(n)})}else{var e=this.kp();csArray.prototype.forEach.call(e,function(o){jt(k(k({},o),{boundElement:t}))})}},r.prototype.onEvent=function(t){this.O=t},r.prototype.start=function(){this.ne.observe(),this._n(document),this.resizeListener()},r.prototype.stop=function(){this.bn(document),this.ne.disconnect()},r.prototype.flushPendingDebouncedListeners=function(){this._o.flushPending(),this.Np.flushPending()},r.prototype.Dp=function(t){return csArray.prototype.some.call(this.zE,function(e){return e===t})},r.prototype.kp=function(){var t=this;return this.Dt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.Mp,function(e){return!t.Dp(e.type)}):(F.warn("Element.matches is not implemented yet"),[])},r.prototype.xp=function(){var t,e,n=this,o=[];return(t=csArray.prototype.push).call.apply(t,Ct([o],it(this.KE),!1)),this.Dt.isMatchesSelectorSupported()?(e=csArray.prototype.push).call.apply(e,Ct([o],it(this.JE),!1)):F.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(o,function(a){return!n.Dp(a.type)})},r.prototype.resizeListener=function(t){var e=$r.getScrollContainer(),n=Fn(e);n&&(this.Op=!0);var o={type:Z.RESIZE,ts:0,x:n?e.clientWidth:Ot.windowWidth(),y:n?e.clientHeight:Ot.windowHeight()};t!==void 0&&(o.d=t),this.O(o)},r.prototype.scrollListener=function(t,e){var n=$r.isEventOnScrollContainer(e);!this.Op&&n&&this.resizeListener();var o={type:Z.SCROLL,ts:0,x:n?csEventtarget.apply(e).scrollLeft:Ot.windowOffsetX(),y:n?csEventtarget.apply(e).scrollTop:Ot.windowOffsetY(),d:t},a=$t.build(e,o,this.ee);this.O(a)},r.prototype.mouseMoveListener=function(t){var e={type:Z.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},n=$t.build(t,e,this.ee);this.O(n)},r.prototype.mouseDownListener=function(t){var e={type:Z.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.mouseUpListener=function(t){var e={type:Z.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.clickListener=function(t){var e={type:Z.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.mouseOverListener=function(t){var e={type:Z.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.mouseOutListener=function(t){var e={type:Z.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.ht.getEventTargetPath(t)},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.focusInListener=function(t){var e={type:Z.FOCUSIN,ts:0,tgt:this.ht.getEventTargetPath(t)},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.focusOutListener=function(t){var e={type:Z.FOCUSOUT,ts:0,tgt:this.ht.getEventTargetPath(t)},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.changeListener=function(t){var e={type:Z.CHANGE,ts:0,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.submitListener=function(t){var e={type:Z.SUBMIT,ts:0,tgt:""},n=$t.build(t,e,this.ee);this.he(n)},r.prototype.copyListener=function(t){var e={type:Z.COMMAND,ts:0,tgt:this.ht.getEventTargetPath(t),key:en.COPY};this.he(e)},r.prototype.cutListener=function(t){var e={type:Z.COMMAND,ts:0,tgt:this.ht.getEventTargetPath(t),key:en.CUT};this.he(e)},r.prototype.pasteListener=function(t){var e={type:Z.COMMAND,ts:0,tgt:this.ht.getEventTargetPath(t),key:en.PASTE};this.he(e)},r.prototype.keyUpListener=function(t){var e={type:Z.KEYUP,ts:0,tgt:this.ht.getEventTargetPath(t),key:this.Lp(t)};this.he(e)},r.prototype.keyDownListener=function(t){var e={type:Z.KEYDOWN,ts:0,tgt:this.ht.getEventTargetPath(t),key:this.Lp(t)};this.he(e)},r.prototype.Lp=function(t){var e=this.D[t.key];return e===void 0?et.ALPHANUMERICAL:e},r.prototype.he=function(t){Jc(t)&&t.tgt!==Me.INVALID_ELEMENT&&this.O(t)},r.prototype.Eu=function(){this.D[" "]=et.SPACE,this.D.Spacebar=et.SPACE,this.D.Enter=et.ENTER,this.D.Backspace=et.BACKSPACE,this.D.Delete=et.DELETE,this.D.ArrowUp=et.ARROWUP,this.D.ArrowDown=et.ARROWDOWN,this.D.ArrowLeft=et.ARROWLEFT,this.D.ArrowRight=et.ARROWRIGHT,this.D.Up=et.ARROWUP,this.D.Down=et.ARROWDOWN,this.D.Left=et.ARROWLEFT,this.D.Right=et.ARROWRIGHT,this.D.CapsLock=et.CAPSLOCK,this.D.Shift=et.SHIFT,this.D.Tab=et.TAB},r}();return X([B("Event handler type: resize")],i.prototype,"resizeListener",null),X([B("Event handler type: scroll")],i.prototype,"scrollListener",null),X([B("Event handler type: mouseMove"),Lt()],i.prototype,"mouseMoveListener",null),X([B("Event handler type: mouseDown"),Lt()],i.prototype,"mouseDownListener",null),X([B("Event handler type: mouseUp"),Lt()],i.prototype,"mouseUpListener",null),X([B("Event handler type: click"),Lt()],i.prototype,"clickListener",null),X([B("Event handler type: mouseOver"),Lt()],i.prototype,"mouseOverListener",null),X([B("Event handler type: mouseOut"),Lt()],i.prototype,"mouseOutListener",null),X([B("Event handler type: focusIn")],i.prototype,"focusInListener",null),X([B("Event handler type: focusOut")],i.prototype,"focusOutListener",null),X([B("Event handler type: change")],i.prototype,"changeListener",null),X([B("Event handler type: submit"),Lt()],i.prototype,"submitListener",null),X([B("Event handler type: copy")],i.prototype,"copyListener",null),X([B("Event handler type: cut")],i.prototype,"cutListener",null),X([B("Event handler type: paste")],i.prototype,"pasteListener",null),X([B("Event handler type: keyup")],i.prototype,"keyUpListener",null),X([B("Event handler type: keydown")],i.prototype,"keyDownListener",null),i}(),Ng=function(){var i=function(){function r(){var t=this;this.Up=100,this.bo=0,this.Ao=Ot.documentHeight(),this.Vp={boundElement:document,type:"scroll",listener:function(e){return t.maxScrollRateListener(e)}},this.bo=this.kc($r.getScrollContainer()).maxScrollRate}return r.prototype.onEvent=function(t){this.O=t},r.prototype.start=function(){Vt(this.Vp)},r.prototype.stop=function(){jt(this.Vp)},r.prototype.reset=function(){var t=$r.getScrollContainer(),e=this.kc(t),n=e.maxScrollRate,o=e.maxDocumentHeight;this.Ao=o,this.bo=n,this.O()},r.prototype.kc=function(t){var e=0,n=0;if(t===null)n=Ot.documentHeight(),e=this.QE(n);else{var o=this.ZE(t);n=this.jp(t,o),e=this.$E(t,o)}return{maxScrollRate:e,maxDocumentHeight:n}},r.prototype.maxScrollRateListener=function(t){var e=null;$r.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));var n=this.kc(e),o=n.maxScrollRate,a=n.maxDocumentHeight;(o>this.bo||a>this.Ao)&&(this.bo=o,a>this.Ao&&(this.Ao=a),this.O())},r.prototype.QE=function(t){var e=Math.round(this.tw()/t*100);return Math.min(e,this.Up)},r.prototype.tw=function(){var t=Ot.windowHeight(),e=Ot.windowOffsetY();return e+t},r.prototype.$E=function(t,e){var n=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,o=this.jp(t,e),a=Math.round(n/o*100);return Math.min(a,this.Up)},r.prototype.ZE=function(t){var e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)},r.prototype.jp=function(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e},r.prototype.getRequestParameters=function(){return{sr:"".concat(this.bo),mdh:"".concat(this.Ao)}},r}();return X([B("MaxScrollRate handler")],i.prototype,"maxScrollRateListener",null),i}();var Mg=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U){this.h=t,this.qr=e,this.kt=n,this.si=o,this.Dc=a,this.Be=s,this.tr=u,this.Hp=c,this.X=h,this.Yt=f,this.W=p,this.Lc=d,this.Ue=m,this.U=w,this.es=E,this.mr=_,this.Sr=b,this.Uc=R,this.Ln=A,this.Un=I,this.Vn=U,this.Dr=new da,this.rs=!1}return r.prototype.init=function(){var t=this,e,n,o,a,s,u,c;this.qr.onEvent(function(h){return t.It(h)}),this.kt.onEvent(function(h){return t.It(h)}),this.si.onEvent(function(){var h=t.si.getRequestParameters();t.U.setQueryParams(h),t.tr.setQueryParams(h)}),this.Lc.onEvent(function(h){return t.Fe(h)}),this.Vc(),(e=this.es)===null||e===void 0||e.onEvent(function(h){return t.It(h)}),(n=this.Ln)===null||n===void 0||n.onEvent(function(h){return t.It(h)}),(o=this.mr)===null||o===void 0||o.onEvent(function(h){return t.It(h)}),(a=this.Sr)===null||a===void 0||a.onEvent(function(h){return t.It(h)}),this.ew(),(s=this.Uc)===null||s===void 0||s.onEvent(function(h){return t.Fe(h)}),(u=this.Un)===null||u===void 0||u.onEvent(function(h){return t.Fe(h)}),(c=this.Vn)===null||c===void 0||c.onEvent(function(h){return t.Fe(h)})},r.prototype.ew=function(){var t=this;this.tr.onBeaconSuccess(function(){t.Be.clearEvents()}),this.tr.onBeaconFailure(function(e){t.rw(e)})},r.prototype.initStates=function(){var t=this.Hp.getRequestParameters(),e=this.Dc.getRequestParameters(),n=this.si.getRequestParameters();this.U.setQueryParams(t),this.U.setQueryParams(e),this.U.setQueryParams(n),this.tr.setQueryParams(t),this.tr.setQueryParams(e),this.tr.setQueryParams(n),this.jc()},r.prototype.clearStates=function(t){var e,n;this.qr.flushPendingDebouncedListeners(),(e=this.mr)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(n=this.Sr)===null||n===void 0||n.flushPendingTextHighlightEvent(),t?(this.Hc(),this.sendLastMessageBeacon()):this.sendEvents(),this.si.reset(),this.U.removeQueryParams()},r.prototype.start=function(t){var e=this,n,o,a,s,u,c,h;t||(n=this.Uc)===null||n===void 0||n.start(),this.Ue.start(),this.qr.start(),this.si.start(),this.kt.start(),(o=this.es)===null||o===void 0||o.start(),(a=this.Sr)===null||a===void 0||a.start(),t||this.Lc.start(),(s=this.mr)===null||s===void 0||s.start(),(u=this.Ln)===null||u===void 0||u.start(),(c=this.Un)===null||c===void 0||c.start(),(h=this.Vn)===null||h===void 0||h.start()},r.prototype.collectInitialEvents=function(){var t;(t=this.es)===null||t===void 0||t.collectInitialEvents()},r.prototype.onIframeAnalysisBrowserEvent=function(t){this.Fe(t)},r.prototype.onIframeAnalysisUserEvent=function(t){this.It(t)},r.prototype.onExternalEvent=function(t){this.z(t)},r.prototype.Fe=function(t){this.X.isCurrentPageviewValid()&&this.z(t)},r.prototype.It=function(t){this.X.refreshSession(),this.X.isSessionValid()&&this.z(t)},r.prototype.z=function(t){this.Be.addEvent(this.nw(t)),this.Be.isFull()&&this.sendEvents(),this.h.emitDebugEvents&&this.Dr.emit("analysisEvent",k(k({},t),{typeName:Z[t.type]}))},r.prototype.nw=function(t){return t.ts=this.jn(),t},r.prototype.Hc=function(){this.tr.setQueryParams({hlm:"true"}),this.rs=!0},r.prototype.sendLastMessageBeacon=function(){this.tr.setQueryParams(this.Dc.getRequestParameters()),this.tr.send(this.Be.stringifyEvents()),this.tr.removeQueryParams(["hlm"]),this.rs=!1},r.prototype.sendEvents=function(){this.Be.isEmpty()||(this.U.setQueryParams(this.Hp.getRequestParameters()),this.U.setQueryParams(this.Dc.getRequestParameters()),this.U.send(this.Be.getEvents()),this.Be.clearEvents())},r.prototype.stop=function(){var t,e,n,o,a,s,u;this.Ue.stop(),this.qr.stop(),this.si.stop(),this.kt.stop(),this.Lc.stop(),(t=this.es)===null||t===void 0||t.stop(),(e=this.mr)===null||e===void 0||e.stop(),(n=this.Sr)===null||n===void 0||n.stop(),(o=this.Ln)===null||o===void 0||o.stop(),this.Be.empty(),(a=this.Uc)===null||a===void 0||a.stop(),(s=this.Un)===null||s===void 0||s.stop(),(u=this.Vn)===null||u===void 0||u.stop()},r.prototype.jc=function(){this.er=V.now()},r.prototype.jn=function(){return V.now()-this.er},r.prototype.Vc=function(){var t=this;this.Ue.onEvent(function(e){var n,o;e!==ae.Visible&&((n=t.mr)===null||n===void 0||n.flushPendingKeyboardNavigationEvent(),(o=t.Sr)===null||o===void 0||o.flushPendingTextHighlightEvent(),e===ae.PagehideVisible?t.Hc():e===ae.PagehideHidden?(t.Hc(),t.sendLastMessageBeacon()):(!t.Be.isEmpty()||t.rs)&&t.sendLastMessageBeacon())})},r.prototype.rw=function(t){try{(!this.Be.isEmpty()||this.rs)&&this.Yt.save({requestParameters:t,events:this.Be.getEvents()})}catch(e){}},r.prototype.pushSubmitCommandEvent=function(t,e){if(!Og(t)||!Fn(e))throw new Error("Command misuse: ".concat(hl));var n={status:t,type:Z.SUBMIT_COMMAND,ts:0,tgt:this.W.getElementPath(e)};n.tgt!==Me.INVALID_ELEMENT&&this.Fe(n)},r}();return i}(),xg=function(){var i=function(){function r(t,e){var n=this;this.Yt=t,this.U=e,this.Bp=function(){document.visibilityState==="visible"&&n.Fp()}}return r.prototype.start=function(){this.Fp(),this.Lu()},r.prototype.stop=function(){this.Uu()},r.prototype.getRecoveryStorage=function(){return this.Yt},r.prototype.Fp=function(){var t=this.Yt.recover();if(t!==null){var e=t.requestParameters,n=t.events;this.U.send(n,e)}},r.prototype.Lu=function(){document.addEventListener("visibilitychange",this.Bp)},r.prototype.Uu=function(){document.removeEventListener("visibilitychange",this.Bp)},r}();return i}(),kg=function(){var i=function(){function r(t){this.ti=t}return r.prototype.save=function(t){localStorage.setItem(this.ti,csJSON.stringify(t))},r.prototype.clear=function(){localStorage.removeItem(this.ti)},r.prototype.recover=function(){var t=localStorage.getItem(this.ti);if(t===null)return null;var e=null;try{e=csJSON.parse(t)}catch(n){F.error("Invalid item in localStorage.\n         (key:".concat(this.ti,"; value:").concat(t,")"))}finally{this.clear()}return e},r}();return i}(),Dg=function(){var i=function(){function r(t){var e=this;this.ci=t,this.li=function(n){return e.processMetric(n)},this.N=!1}return r.prototype.onEvent=function(t){this.O=t},r.prototype.start=function(){this.N||(this.N=!0,this.ci.onFCP(this.li),this.ci.onCLS(this.li),this.ci.onFID(this.li),this.ci.onLCP(this.li),this.ci.onTTFB(this.li),this.ci.onINP(this.li))},r.prototype.stop=function(){this.N=!1},r.prototype.processMetric=function(t){if(this.N){var e={type:Z.PERFORMANCE,name:t.name,val:t.value,ts:0};this.O(e)}},r}();return X([B("Performance metric handler")],i.prototype,"processMetric",null),i}(),yr,Un,$c,Ii,Yo,tl=-1,Gr=function(i){addEventListener("pageshow",function(r){r.persisted&&(tl=r.timeStamp,i(r))},!0)},_a=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Fi=function(){var i=_a();return i&&i.activationStart||0},he=function(i,r){var t=_a(),e="navigate";return tl>=0?e="back-forward-cache":t&&(document.prerendering||Fi()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:i,value:r===void 0?-1:r,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:e}},gn=function(i,r,t){try{if(PerformanceObserver.supportedEntryTypes.includes(i)){var e=new PerformanceObserver(function(n){Promise.resolve().then(function(){r(n.getEntries())})});return e.observe(Object.assign({type:i,buffered:!0},t||{})),e}}catch(n){}},fe=function(i,r,t,e){var n,o;return function(a){r.value>=0&&(a||e)&&((o=r.value-(n||0))||n===void 0)&&(n=r.value,r.delta=o,r.rating=function(s,u){return s>u[1]?"poor":s>u[0]?"needs-improvement":"good"}(r.value,t),i(r))}},ba=function(i){requestAnimationFrame(function(){return requestAnimationFrame(function(){return i()})})},Gi=function(i){var r=function(t){t.type!=="pagehide"&&document.visibilityState!=="hidden"||i(t)};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},Aa=function(i){var r=!1;return function(t){r||(i(t),r=!0)}},Zr=-1,Fs=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},Pi=function(i){document.visibilityState==="hidden"&&Zr>-1&&(Zr=i.type==="visibilitychange"?i.timeStamp:0,Lg())},Gs=function(){addEventListener("visibilitychange",Pi,!0),addEventListener("prerenderingchange",Pi,!0)},Lg=function(){removeEventListener("visibilitychange",Pi,!0),removeEventListener("prerenderingchange",Pi,!0)},Ta=function(){return Zr<0&&(Zr=Fs(),Gs(),Gr(function(){setTimeout(function(){Zr=Fs(),Gs()},0)})),{get firstHiddenTime(){return Zr}}},Yn=function(i){document.prerendering?addEventListener("prerenderingchange",function(){return i()},!0):i()},zs=[1800,3e3],el=function(i,r){r=r||{},Yn(function(){var t,e=Ta(),n=he("FCP"),o=gn("paint",function(a){a.forEach(function(s){s.name==="first-contentful-paint"&&(o.disconnect(),s.startTime<e.firstHiddenTime&&(n.value=Math.max(s.startTime-Fi(),0),n.entries.push(s),t(!0)))})});o&&(t=fe(i,n,zs,r.reportAllChanges),Gr(function(a){n=he("FCP"),t=fe(i,n,zs,r.reportAllChanges),ba(function(){n.value=performance.now()-a.timeStamp,t(!0)})}))})},qs=[.1,.25],Ug=function(i,r){r=r||{},el(Aa(function(){var t,e=he("CLS",0),n=0,o=[],a=function(u){u.forEach(function(c){if(!c.hadRecentInput){var h=o[0],f=o[o.length-1];n&&c.startTime-f.startTime<1e3&&c.startTime-h.startTime<5e3?(n+=c.value,o.push(c)):(n=c.value,o=[c])}}),n>e.value&&(e.value=n,e.entries=o,t())},s=gn("layout-shift",a);s&&(t=fe(i,e,qs,r.reportAllChanges),Gi(function(){a(s.takeRecords()),t(!0)}),Gr(function(){n=0,e=he("CLS",0),t=fe(i,e,qs,r.reportAllChanges),ba(function(){return t()})}),setTimeout(t,0))}))},On={passive:!0,capture:!0},Vg=new Date,Ws=function(i,r){yr||(yr=r,Un=i,$c=new Date,nl(removeEventListener),rl())},rl=function(){if(Un>=0&&Un<$c-Vg){var i={entryType:"first-input",name:yr.type,target:yr.target,cancelable:yr.cancelable,startTime:yr.timeStamp,processingStart:yr.timeStamp+Un};Ii.forEach(function(r){r(i)}),Ii=[]}},jg=function(i){if(i.cancelable){var r=(i.timeStamp>1e12?new Date:performance.now())-i.timeStamp;i.type=="pointerdown"?function(t,e){var n=function(){Ws(t,e),a()},o=function(){a()},a=function(){removeEventListener("pointerup",n,On),removeEventListener("pointercancel",o,On)};addEventListener("pointerup",n,On),addEventListener("pointercancel",o,On)}(r,i):Ws(r,i)}},nl=function(i){["mousedown","keydown","touchstart","pointerdown"].forEach(function(r){return i(r,jg,On)})},Ys=[100,300],Hg=function(i,r){r=r||{},Yn(function(){var t,e=Ta(),n=he("FID"),o=function(u){u.startTime<e.firstHiddenTime&&(n.value=u.processingStart-u.startTime,n.entries.push(u),t(!0))},a=function(u){u.forEach(o)},s=gn("first-input",a);t=fe(i,n,Ys,r.reportAllChanges),s&&Gi(Aa(function(){a(s.takeRecords()),s.disconnect()})),s&&Gr(function(){var u;n=he("FID"),t=fe(i,n,Ys,r.reportAllChanges),Ii=[],Un=-1,yr=null,nl(addEventListener),u=o,Ii.push(u),rl()})})},il=0,go=1/0,di=0,Bg=function(i){i.forEach(function(r){r.interactionId&&(go=Math.min(go,r.interactionId),di=Math.max(di,r.interactionId),il=di?(di-go)/7+1:0)})},ol=function(){return Yo?il:performance.interactionCount||0},Fg=function(){"interactionCount"in performance||Yo||(Yo=gn("event",Bg,{type:"event",buffered:!0,durationThreshold:0}))},Xs=[200,500],al=0,Ks=function(){return ol()-al},Ce=[],mo={},Js=function(i){var r=Ce[Ce.length-1],t=mo[i.interactionId];if(t||Ce.length<10||i.duration>r.latency){if(t)t.entries.push(i),t.latency=Math.max(t.latency,i.duration);else{var e={id:i.interactionId,latency:i.duration,entries:[i]};mo[e.id]=e,Ce.push(e)}Ce.sort(function(n,o){return o.latency-n.latency}),Ce.splice(10).forEach(function(n){delete mo[n.id]})}},Gg=function(i,r){r=r||{},Yn(function(){var t;Fg();var e,n=he("INP"),o=function(s){s.forEach(function(h){h.interactionId&&Js(h),h.entryType==="first-input"&&!Ce.some(function(f){return f.entries.some(function(p){return h.duration===p.duration&&h.startTime===p.startTime})})&&Js(h)});var u,c=(u=Math.min(Ce.length-1,Math.floor(Ks()/50)),Ce[u]);c&&c.latency!==n.value&&(n.value=c.latency,n.entries=c.entries,e())},a=gn("event",o,{durationThreshold:(t=r.durationThreshold)!==null&&t!==void 0?t:40});e=fe(i,n,Xs,r.reportAllChanges),a&&("PerformanceEventTiming"in window&&"interactionId"in PerformanceEventTiming.prototype&&a.observe({type:"first-input",buffered:!0}),Gi(function(){o(a.takeRecords()),n.value<0&&Ks()>0&&(n.value=0,n.entries=[]),e(!0)}),Gr(function(){Ce=[],al=ol(),n=he("INP"),e=fe(i,n,Xs,r.reportAllChanges)}))})},Qs=[2500,4e3],So={},zg=function(i,r){r=r||{},Yn(function(){var t,e=Ta(),n=he("LCP"),o=function(u){var c=u[u.length-1];c&&c.startTime<e.firstHiddenTime&&(n.value=Math.max(c.startTime-Fi(),0),n.entries=[c],t())},a=gn("largest-contentful-paint",o);if(a){t=fe(i,n,Qs,r.reportAllChanges);var s=Aa(function(){So[n.id]||(o(a.takeRecords()),a.disconnect(),So[n.id]=!0,t(!0))});["keydown","click"].forEach(function(u){addEventListener(u,function(){return setTimeout(s,0)},!0)}),Gi(s),Gr(function(u){n=he("LCP"),t=fe(i,n,Qs,r.reportAllChanges),ba(function(){n.value=performance.now()-u.timeStamp,So[n.id]=!0,t(!0)})})}})},Zs=[800,1800],qg=function i(r){document.prerendering?Yn(function(){return i(r)}):document.readyState!=="complete"?addEventListener("load",function(){return i(r)},!0):setTimeout(r,0)},Wg=function(i,r){r=r||{};var t=he("TTFB"),e=fe(i,t,Zs,r.reportAllChanges);qg(function(){var n=_a();if(n){var o=n.responseStart;if(o<=0||o>performance.now())return;t.value=Math.max(o-Fi(),0),t.entries=[n],e(!0),Gr(function(){t=he("TTFB",0),(e=fe(i,t,Zs,r.reportAllChanges))(!0)})}})},Yg=function(){var i=function(){function r(){}return r.prototype.onFCP=function(t){el(t,{reportAllChanges:!0})},r.prototype.onCLS=function(t){Ug(t,{reportAllChanges:!0})},r.prototype.onFID=function(t){Hg(t,{reportAllChanges:!0})},r.prototype.onLCP=function(t){zg(t,{reportAllChanges:!0})},r.prototype.onTTFB=function(t){Wg(t,{reportAllChanges:!0})},r.prototype.onINP=function(t){Gg(t,{reportAllChanges:!0})},r}();return i}();var zi=function(){var i=function(){function r(){}return r.prototype.isEventTypeSupported=function(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1},r.prototype.enhanceAnalysisEvent=function(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e},r}();return i}(),Xg=function(){var i=function(r){Q(t,r);function t(){var e=r.apply(this,Ct([],it(arguments),!1))||this;return e.supportedEventTypes=[Z.CHANGE],e.Nw=["text","email","number","search","tel","url","password"],e}return t.prototype.baseEnhanceAnalysisEvent=function(e,n){var o=Mt(e);return Ni(o)&&csArray.prototype.indexOf.call(this.Nw,o.type)>=0&&(n.isBlank=o.value===""),n},t}(zi);return i}();var sl=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.ht=e,n.supportedEventTypes=[Z.MOUSEDOWN,Z.MOUSEUP,Z.CLICK,Z.MOUSEOVER,Z.TAP,Z.DRAG,Z.FLICK,Z.SUBMIT,Z.CHANGE],n}return t.prototype.baseEnhanceAnalysisEvent=function(e,n){return n.tgt||(n.tgt=this.ht.getEventTargetPath(e)),n},t}(zi);return i}(),$s=function(){return 65535}(),Kg=function(){var i;return function(r){function t(e){var n=Mt(e);if(!n||!Et(n)||!ce(n.getBoundingClientRect)||!Ht(e.pageX)||!Ht(e.pageY))return{xRel:-1,yRel:-1,valid:!1};var o=n.getBoundingClientRect(),a=e.pageX-o.left-Ot.windowOffsetX(),s=e.pageY-o.top-Ot.windowOffsetY();n!==document.documentElement&&(a+=n.scrollLeft,s+=n.scrollTop);var u=Math.max(n.scrollWidth,o.width),c=Math.max(n.scrollHeight,o.height),h=Math.round(a/u*$s),f=Math.round(s/c*$s);return{xRel:h,yRel:f,valid:!0}}r.getRelativePosition=t}(i||(i={})),i}(),Jg=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.Or=e,o.ht=n,o.supportedEventTypes=[Z.MOUSEMOVE,Z.CLICK],o.Kc="",o}return t.prototype.baseEnhanceAnalysisEvent=function(e,n){var o=Kg.getRelativePosition(e),a=o.valid,s=o.xRel,u=o.yRel;if(a){var c=this.ht.getEventTargetPath(e);c!==Me.INVALID_ELEMENT&&(n.xRel=s,n.yRel=u,n.type===Z.MOUSEMOVE&&(c!==this.Kc||this.Or.iframesTracking?(this.Kc=c,n.tgtHM=c):n.tgtHM=""))}else n.type===Z.MOUSEMOVE&&(this.Kc="");return n},t}(zi);return i}(),Xt=function(){var i;return function(r){r[r.ANONYMIZED=0]="ANONYMIZED",r[r.CAPTURED=1]="CAPTURED",r[r.MASKED=2]="MASKED",r[r.ENCRYPTED=3]="ENCRYPTED"}(i||(i={})),i}(),tu=function(){return 100}(),ul=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.h=e,a.fe=n,a.I=o,a.supportedEventTypes=[Z.TAP,Z.CLICK,Z.SUBMIT],a}return t.prototype.Mw=function(e){for(var n="",o=document.createTreeWalker(e,NodeFilter.SHOW_TEXT),a=o.nextNode();a;){if(n+=a.textContent,na(a.parentElement)||ra(a.parentElement)||this.fe.getElementSensitiveStatus(a.parentElement)!==Xt.CAPTURED)return!0;if(csString.prototype.trim.call(n).length>=tu)break;a=o.nextNode()}return!1},t.prototype.xw=function(e){var n=jo(e,"button,a");return n||(this.h.collectTargetText===ko.ButtonAndLinkOnly?null:e)},t.prototype.baseEnhanceAnalysisEvent=function(e,n){if(Fn(csEventtarget.apply(e))){var o=this.xw(csEventtarget.apply(e));if(o&&J(o.textContent)&&!this.Mw(o)&&!this.I.hasPII(o.textContent,this.h.anonymizeDigits)){var a=gt.truncate(csString.prototype.trim.call(o.textContent),tu);a.length>0&&(n.text=a)}}return n},t}(zi);return i}();function cl(i,r,t){var e=[];return i.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(e,new Jg(i,r)),i.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new ul(i,t,new Br)),csArray.prototype.push.call(e,new Xg,new sl(r)),e}function ll(i,r,t){var e=[];return i.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new ul(i,t,new Br)),csArray.prototype.push.call(e,new sl(r)),e}var Qg=function(){return 50}(),Zg=function(){var i=function(){function r(t){t===void 0&&(t=[]),this.Nt=t}return r.prototype.stringifyEvents=function(){return csJSON.stringify(this.Nt)},r.prototype.addEvent=function(t){csArray.prototype.push.call(this.Nt,t)},r.prototype.eventsCount=function(){return this.Nt.length},r.prototype.clearEvents=function(){this.Nt=[]},r.prototype.empty=function(){this.clearEvents()},r.prototype.isFull=function(){return this.eventsCount()>=Qg},r.prototype.isEmpty=function(){return this.Nt.length===0},r.prototype.getEvents=function(){return this.Nt},r}();return i}(),$g=function(){return"csAnalysisEventsPersisted"}(),eu=function(){return"v2/events"}(),hl=function(){return["submit"]}(),tm=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d){this.h=t,this.J=e,this.R=n,this.W=o,this.Dt=a,this.f=s,this.X=u,this.kt=c,this.nt=h,this.St=f,this.Q=p,this.fe=d}return r.prototype.init=function(){var t=this,e=new Zg,n=this.St.create("".concat(this.h.getTrackerUri(),"/").concat(eu),!0,"base64");this.ss=this.kw(n),this.xe=this.Dw(e,this.ss.getRecoveryStorage(),n),this.xe.init(),this.Q.addListener(this.xe),this.nt.addListener(this.xe),this.f.register(hl,function(o,a){t.xe.pushSubmitCommandEvent(o,a)})},r.prototype.onStartTracking=function(t){this.ss.start(),this.xe.start(t)},r.prototype.onAfterNaturalPageView=function(){this.xe.initStates()},r.prototype.onAfterArtificialPageView=function(){this.xe.initStates(),this.xe.collectInitialEvents()},r.prototype.onArtificialPageViewEnd=function(){var t=!0;this.xe.clearStates(t)},r.prototype.onBeforeSessionRenewal=function(){this.xe.clearStates(),this.xe.stop(),this.ss.stop()},r.prototype.onOptout=function(){this.xe.stop(),this.ss.stop()},r.prototype.Dw=function(t,e,n){var o,a=new Rg(window),s=new Ng,u=cl(this.h,this.W,this.fe),c=[];this.h.collectSubmit||csArray.prototype.push.call(c,"submit");var h=new Zc(u,this.W,this.Dt,c),f=ll(this.h,this.W,this.fe),p=new Qc(f,this.kt),d=new Dg(new Yg),m=new hc,w,E,_,b=new gc("".concat(this.h.getTrackerUri(),"/").concat(eu)),R=new Hn(this.J,this.R),A,I,U,N;return new Mg(this.h,h,p,s,a,t,b,R,this.X,e,this.W,d,m,n,w,E,_,A,I,U,N)},r.prototype.kw=function(t){return new xg(new kg($g),t)},r}();return i}(),Ei=function(){var i;return function(r){r.Artificial="a",r.Renewal="r",r.Natural="n"}(i||(i={})),i}(),em=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s){var u=r.call(this)||this;return u.S=e,u.Q=n,u.Jc=o,u.A=a,u.Qe=s,u}return t.prototype.init=function(){this.Lw()},t.prototype.onStart=function(e){e?this.Uw():this.Vw()},t.prototype.onStop=function(){},t.prototype.triggerArtificialPageView=function(e,n){this.isStarted?this.dd(e,n):Ht(e)&&this.A.overridePath(e,n),this.isStarted||(this.Q.emitTargetingRulesArtificialPageview(this.A.getUrl()),this.A.cleanupOverrideLifespan())},t.prototype.Vw=function(){this.Qe.setPageViewType(Ei.Natural),this.S.emitBeforeNaturalPageView(),this.Jc.send(),this.A.cleanupOverrideLifespan(),this.S.emitAfterNaturalPageView()},t.prototype.Uw=function(){this.Qe.setPageViewType(Ei.Renewal),this.S.emitBeforeNaturalPageView(),this.Jc.send(),this.S.emitAfterNaturalPageView()},t.prototype.dd=function(e,n){this.Qe.setPageViewType(Ei.Artificial),this.S.emitArtificialPageViewEnd(),Ht(e)&&this.A.overridePath(e,n),this.S.emitBeforeArtificialPageView(),this.Jc.send(),this.A.cleanupOverrideLifespan(),this.S.emitAfterArtificialPageView()},t.prototype.Lw=function(){var e=this;window.addEventListener("pageshow",function(n){e.isStarted&&n.persisted&&e.dd()})},t}(wt);return i}(),rm=function(){return window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown"}();function nm(){return{la:rm}}var im=function(){var i=function(){function r(t,e){this.K=t,this.ut=e,this.Qc=!1}return r.prototype.getRequestParameters=function(){return{dr:this.Zc()}},r.prototype.addUrlMaskingPattern=function(t){this.ut.addUrlMaskingPattern(t)},r.prototype.enableRemoveQueryString=function(){this.Qc=!0},r.prototype.disableRemoveQueryString=function(){this.Qc=!1},r.prototype.Zc=function(){var t=this.Qc?this.K.removeQueryString(this.vd()):this.vd();return this.K.anonymizeUrl(t,{maskingPatterns:this.ut.getUrlMaskingPatterns()})},r.prototype.vd=function(){var t="";try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(n){t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t},r}();return i}(),om=function(){return 99999}(),am=function(){var i=function(){function r(t){this.w=t,this.jw=this.Hw()&&window.CSCurrentScript}return r.prototype.Bw=function(){var t=window.CSCurrentScript;if(!t)return null;var e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.Fw(e)?null:Math.round(e.responseEnd-e.fetchStart)},r.prototype.Fw=function(t){var e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd},r.prototype.getRequestParameters=function(){if(!this.jw||this.Gw()!==1)return{};var t=this.Bw();return t===null?{}:{dt:"".concat(Math.min(t,om))}},r.prototype.Gw=function(){var t;return((t=this.w.getSession())===null||t===void 0?void 0:t.pageNumber)||null},r.prototype.Hw=function(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"},r}();return i}(),fl=function(){return":"}();function ru(i){var r,t,e=[],n=sm(i),o=function(){return csString.prototype.split.call(n,"/")}();try{for(var a=D(o),s=a.next();!s.done;s=a.next()){var u=s.value;We(u,fl)?csArray.prototype.push.call(e,{key:u,value:"CS_ANONYMIZED_".concat(csString.prototype.toUpperCase.call(csString.prototype.slice.call(u,1)))}):csArray.prototype.push.call(e,{key:u,value:null})}}catch(c){r={error:c}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(r)throw r.error}}return e}function sm(i){var r=i;return We(i,"/")&&(r=csString.prototype.substring.call(r,1)),zn(i,"/")&&(r=csString.prototype.slice.call(r,0,-1)),r}var Ra=function(){var i=function(){function r(){this.yd=new Set,this.gd=[],this.$c=new Set,this.tl=[]}return r.prototype.addUrlMaskingPattern=function(t){if(!this.yd.has(t)){this.yd.add(t);var e=ru(t);csArray.prototype.push.call(this.gd,e)}},r.prototype.getUrlMaskingPatterns=function(){return this.gd},r.prototype.resetPartialUrlMaskingPatterns=function(){this.$c.clear(),this.tl=[]},r.prototype.addPartialUrlMaskingPattern=function(t){if(!this.$c.has(t)){this.$c.add(t);var e=ru(t);csArray.prototype.push.call(this.tl,e)}},r.prototype.getPartialUrlMaskingPatterns=function(){return this.tl},r}();return i}(),Ca=function(){return["trackPageview"]}(),Xo=function(){return["setPath"]}(),Ko=function(){return["setQuery"]}(),nu=function(){return["referrer:maskUrl"]}(),um=function(){return["referrer:removeQueryString"]}(),cm=function(){return["referrer:keepQueryString"]}(),lm=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d,m,w,E){this.h=t,this.f=e,this.S=n,this.Me=o,this.R=a,this.w=s,this.pe=u,this.wt=c,this.K=h,this.A=f,this.$t=p,this.Qe=d,this.Q=m,this.Yr=w,this.vi=E}return r.prototype.init=function(){var t=this,e,n=new sn(this.h.getTrackerUri(),"pageview");this.yi=new em(this.S,this.Q,n,this.A,this.Qe);var o=new im(this.K,new Ra);this.yi.init();var a=new Hn(this.Me,this.R,Ot,o,this.A,this.pe,ta,this.wt,this.Qe,new am(this.w),this.$t);this.Yr&&a.addProvider(this.Yr),this.vi&&a.addProvider(this.vi);var s=this.h.isCsCrosswritingHeap();if(s||this.h.isCsSideloadingHeap()||this.h.isHeapSideloadsCs()){var u=(e=this.h.heapEnvironment)===null||e===void 0?void 0:e.env_id;a.addProvider({getRequestParameters:function(){var c={cw:s?"1":"2"};return u&&(c.happid=u),c}})}n.setRequestParametersProviders(a),this.f.register(Ca,function(c,h){if(!J(c)){t.yi.triggerArtificialPageView();return}t.rl(h)?t.yi.triggerArtificialPageView(c,h):t.yi.triggerArtificialPageView(c)}),this.f.register(Xo,function(c,h){if(!J(c))throw new Error("Command misuse: ".concat(Xo[0]));t.rl(h)?t.A.overridePath(c,h):t.A.overridePath(c)}),this.f.register(Ko,function(c,h){if(!J(c))throw new Error("Command misuse: ".concat(Ko[0]));t.rl(h)?t.A.overrideQuery(c,h):t.A.overrideQuery(c)}),this.f.register(nu,function(c){if(!J(c))throw new Error("Command misuse: ".concat(nu[0]));o.addUrlMaskingPattern(c)}),this.f.register(um,function(){return o.enableRemoveQueryString()}),this.f.register(cm,function(){return o.disableRemoveQueryString()})},r.prototype.start=function(t){this.yi.start(t)},r.prototype.onBeforeSessionRenewal=function(){this.yi.stop()},r.prototype.rl=function(t){return ue(t)&&t!==null},r}();return i}(),pl=function(){var i=function(){function r(t){this.ht=t}return r.prototype.on=function(t,e){var n=this;return function(o){n.ht.hasValidEventTarget(o)&&n.zw(o,t)&&e(o)}},r.prototype.zw=function(t,e){var n=Mt(t);return le.call(n,e)},r.prototype.isMatchesSelectorSupported=function(){return!!le},r}();return i}(),dl=function(){var i=function(){function r(){}return r.prototype.onLoad=function(t){this.Kn=t},r.prototype.onLoadCallbackExecute=function(){this.Kn()},r.prototype.start=function(){var t=this.onLoadCallbackExecute.bind(this);this.qw(t)},r.prototype.qw=function(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}},r}();return X([B("onLoad")],i.prototype,"onLoadCallbackExecute",null),i}(),hm=function(){var i=function(){function r(t,e,n){this.h=t,this.R=e,this.w=n,this.er=V.now()}return r.prototype.resetStartTime=function(){this.er=V.now()},r.prototype.getSessionData=function(){var t=this.h.projectId,e=this.R.getVisitor();e==null&&F.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var n=e!=null?e:{},o=n.id,a=n.visitsCount,s=this.w.getSession();s===null&&F.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");var u=(s!=null?s:{}).pageNumber;return{projectId:t,userId:o,sessionNumber:a,pageNumber:u,relativeTimestamp:V.now()-this.er}},r}();return i}(),vl=function(){return["clearSession"]}(),yl=function(){return["extendSession"]}();var fm=function(){return["getSessionData"]}(),gl=function(){return["session:start:newVisitor"]}(),pm=function(){return["session:clear:visitor"]}(),dm=function(){var i=function(){function r(t,e,n,o){this.h=t,this.R=e,this.w=n,this.f=o}return r.prototype.init=function(){var t=this;this.nl=new hm(this.h,this.R,this.w),this.f.register(vl,function(){return t.w.removeSession()}),this.f.register(yl,function(){return t.w.extendSessionPeriodically()},{disableApplyPending:!0}),this.f.register(fm,function(){return t.nl.getSessionData()},{disableApplyPending:!0}),this.f.register(gl,function(){return t.R.renewVisitor()}),this.f.register(pm,function(){t.R.resetVisitor()},{disableApplyImmediate:!0})},r.prototype.onBeforeNaturalPageView=function(){this.R.createOrUpdateVisitor(),this.w.createOrUpdateSession()},r.prototype.onBeforeArtificialPageView=function(){this.w.abortQuotaServiceRequest(),this.R.createOrUpdateVisitor(),this.w.createOrUpdateSession()},r.prototype.onAfterNaturalPageView=function(){this.nl.resetStartTime()},r.prototype.onAfterArtificialPageView=function(){this.nl.resetStartTime()},r.prototype.onOptout=function(){this.R.removeVisitor(),this.w.removeSession()},r.prototype.onCollectStateChange=function(t,e){this.w.updateCollectState(t,e)},r}();return i}(),vm=function(){return 60*1e3}(),ym=function(){return 30*1e3}(),gm=function(){var i=function(){function r(t,e){var n=this;this.w=t,this.R=e,this.il=!1,this.Ww=Li(function(){return n.w.refreshSession()},ym)}return r.prototype.onSessionExpired=function(t){this.Yw=t},r.prototype.isSessionValid=function(){return this.il?!0:!(!this.w.hasValidSession()||this.w.pollCacheRefreshEvent()&&this.R.isSessionRenewed())},r.prototype.isCurrentPageviewValid=function(){var t=this.w.hasValidSession(),e=this.w.pollCacheRefreshEvent(!1);return e?!this.R.isSessionRenewed():t},r.prototype.refreshSession=function(){this.isSessionValid()?this.Ww():this.Xw()&&(this.md=V.now(),this.renewSession())},r.prototype.renewSession=function(){this.il=!0,this.Yw(),this.il=!1},r.prototype.Xw=function(){return!ot(this.md)||V.now()-this.md>vm},r}();return i}();var jr;(function(i){i.ContentSquare="CONTENTSQUARE",i.LoadedByClicktale="LOADED_BY_CLICKTALE",i.LoadClicktalePtc="LOAD_CLICKTALE_PTC",i.DualCollectionReview="DUAL_COLLECTION_REVIEW",i.DualCollection="DUAL_COLLECTION",i.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(jr||(jr={}));function ml(i){return i.tagDeploymentMode===jr.DualCollectionReview||i.tagDeploymentMode===jr.DualCollection}function mm(i){return ml(i)||i.tagDeploymentMode===jr.LoadClicktalePtc}var iu=function(){var i;return function(r){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}r.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}r.stopRecording=e;function n(s){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(s)}r.triggerLogicalPageView=n;function o(s){window.ClickTaleEvent&&window.ClickTaleEvent(s)}r.sendPageEvent=o;function a(s){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(s)}r.sendEventTriggerRecording=a}(i||(i={})),i}();var Sm=function(){return"@ETP@"}(),ou=function(){return"@user-identifier@"}(),Em=function(){var i=function(r){Q(t,r);function t(e,n,o,a){var s=r.call(this)||this;return s.h=e,s.M0=n,s.ce=o,s.Q=a,s.al=[],s.Tn=[],s}return t.prototype.onStart=function(){var e=this;csArray.prototype.forEach.call(this.al,function(n){return e.Md(n)}),this.al=[],csArray.prototype.forEach.call(this.Tn,function(n){return e.xd(n)}),this.Tn=[]},t.prototype.onStop=function(){},t.prototype.Md=function(e){this.x0(e)?Vr.isSupported()&&this.k0(e):this.D0(e)},t.prototype.trackPageEvent=function(e){if(!t.kd(e))throw new Error("Command misuse: ".concat(Ia[0]));this.isStarted?this.Md(e):csArray.prototype.push.call(this.al,e)},t.prototype.x0=function(e){return We(e,ou)},t.prototype.k0=function(e){return Kt(this,void 0,void 0,function(){var n,o;return Gt(this,function(a){switch(a.label){case 0:return this.h.customHashIdEnabled?(n=csString.prototype.slice.call(e,ou.length),n.length>Vr.MAX_DIGEST_INPUT_SIZE?(F.warn("UserIdentifier event: invalid user identifier"),[2]):[4,Vr.digest(n)]):[2];case 1:return o=a.sent(),o?(this.wi={eventName:o,isETR:!1,isCustomHashId:!0},this.ps()):F.warn("Page event: unable to compute customHashId"),this.h.encryptionEnabled?(this.Q.emitUserIdentifierEvent(n),[2]):[2]}})})},t.prototype.D0=function(e){this.Q.emitPageEvent(e),this.wi={eventName:e,isETR:!1,isCustomHashId:!1},this.ps(),this.h.tagDeploymentMode===jr.LoadClicktalePtc&&iu.sendPageEvent(e)},t.prototype.xd=function(e){this.h.malkaEtrEnabled?this.L0(e):this.U0(e)},t.prototype.trackEventTriggerRecording=function(e){if(!t.kd(e))throw new Error("Command misuse: ".concat(Pa[0]));this.isStarted?this.xd(e):csArray.prototype.push.call(this.Tn,e)},t.prototype.L0=function(e){We(e,Sm)?this.Q.emitEventTriggerRecording(e,mr.ETR_PAGE):this.Q.emitEventTriggerRecording(e,mr.ETR_SESSION),this.wi={eventName:e,isETR:!0,isCustomHashId:!1},this.ps()},t.prototype.U0=function(e){mm(this.h)&&(this.Q.emitEventTriggerRecording(e,mr.ETR_LEGACY),this.wi={eventName:e,isETR:!0,isCustomHashId:!1},this.ps(),this.h.tagDeploymentMode===jr.LoadClicktalePtc&&iu.sendEventTriggerRecording(e))},t.prototype.getRequestParameters=function(){return{value:this.ce.compressSync(this.wi.eventName,"base64"),ct:this.ce.algorithm,isETR:"".concat(this.wi.isETR),isCustomHashId:"".concat(this.wi.isCustomHashId)}},t.prototype.ps=function(){this.M0.send()},t.kd=function(e){return J(e)&&!!csString.prototype.trim.call(e)},t}(wt);return i}(),Ia=function(){return["trackPageEvent"]}(),Pa=function(){return["trackEventTriggerRecording"]}(),wm=function(){var i=function(){function r(t,e,n,o,a){this.h=t,this.f=e,this.ce=n,this.Me=o,this.Q=a}return r.prototype.init=function(){var t=this,e=new sn(this.h.getTrackerUri(),"pageEvent");this.ds=new Em(this.h,e,this.ce,this.Q),e.setRequestParametersProviders(this.ds,this.Me),this.f.register(Ia,function(n){t.ds.trackPageEvent(n)}),this.f.register(Pa,function(n){t.ds.trackEventTriggerRecording(n)})},r.prototype.onStartTracking=function(){this.ds.start()},r}();return i}(),Oa=function(){var i=function(){function r(){this.subscriptions={}}return r.prototype.subscribe=function(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()},r.prototype.unsubscribe=function(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()},r}();return i}(),Sl=function(){var i=function(r){Q(t,r);function t(){var e=r.call(this)||this;return e.F=new Mc(function(n){return e.errorListener(n)}),e}return t.prototype.onStartTracking=function(){this.F.observe()},t.prototype.onStopTracking=function(){this.F.disconnect()},t.prototype.errorListener=function(e){var n=this.V0(e);for(var o in this.subscriptions){var a=this.subscriptions[o];a(n)}},t.prototype.j0=function(e){return e=e!=null?e:"[NO ERROR MESSAGE]",gt.truncate(e,t.mc,gt.ELLIPSIS)},t.prototype.H0=function(e){return!e||re(e)?"":gt.truncate(e,t.Sc,gt.ELLIPSIS)},t.prototype.V0=function(e){return{errorType:"jsError",message:this.j0(e.message),filename:this.H0(e.filename),lineno:e.lineno,colno:e.colno}},t}(Oa);return i.mc=1024,i.Sc=150,X([B("Event handler type: error")],i.prototype,"errorListener",null),i}(),_m=function(){var i=function(){function r(t){this.f=t}return r.prototype.init=function(){this.Dd(r.B0,Hu),this.Dd(r.F0,ju)},r.prototype.Dd=function(t,e){this.f.register([t],function(n,o){!J(n)||!(J(o)||wr(o))||F.error(o,"".concat(e).concat(n))})},r}();return i.F0="logSnippetError",i.B0="logImplementationSnippetError",i}(),bm=function(){var i=function(){function r(t,e,n,o,a){this.h=t,this.Y=e,this.Gr=n,this.fe=o,this.nt=a}return r.prototype.init=function(){var t=this;this.Y.onChildMessage(function(e,n,o){return t.nt.emitIframeEvent(e,n,o)}),this.Y.setSentiveStatusCallback(function(){return t.fe.getSensitiveStatus()}),this.Y.setRecordingContextCallback(function(){return t.Gr.getRecordingContext()})},r.prototype.onStartTracking=function(){this.h.iframesTracking&&this.Y.start()},r.prototype.onOptout=function(){this.h.iframesTracking&&this.Y.stop()},r.prototype.onSensitiveStatusChange=function(){if(this.h.iframesTracking){var t=this.fe.getSensitiveStatus();this.Y.onSensitiveStatusChange(t)}},r.prototype.onRecordingContextChange=function(){if(this.h.iframesTracking){var t=this.Gr.getRecordingContext();this.Y.onRecordingContextChange(t)}},r}();return i}(),El=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.h=e,n.sl=0,n.Ce=new Map,n.Ld={boundElement:window,type:"message",listener:function(o){return n.ul(o)}},n}return t.prototype.onChildMessage=function(e){this.Ud=e},t.prototype.setRecordingContextCallback=function(e){this.G0=e},t.prototype.setSentiveStatusCallback=function(e){this.z0=e},t.prototype.onSensitiveStatusChange=function(e){var n=this,o=ct.buildBaseMessage(M.SensitiveStatus,ee.Parent,this.h.projectId);o.content=e;var a=ct.buildBaseMessage(M.SensitiveStatus,ee.Parent,this.h.projectId);a.content=k(k({},e),{started:!1,useAnonymization:!0,capturedElementSelector:""}),this.Ce.forEach(function(s){if(s.port){var u=n.vs(s)?a:o;n.cl(s,u)}})},t.prototype.onRecordingContextChange=function(e){var n=this,o=ct.buildBaseMessage(M.RecordingContext,ee.Parent,this.h.projectId);o.content=e,this.Ce.forEach(function(a){!n.vs(a)&&a.port&&n.cl(a,o)})},t.prototype.sendToChildren=function(e,n){var o=ct.buildBaseMessage(e,ee.Parent,this.h.projectId);o.content=n,this.q0(o)},t.prototype.onStart=function(){Vt(this.Ld,!1),this.Vd()},t.prototype.onStop=function(){this.W0(),jt(this.Ld,!1),this.Y0()},t.prototype.Vd=function(){var e=this,n=this.X0();this.K0(n),csArray.prototype.forEach.call(n,function(o){var a=e.J0(o);if(a===null){var s={iframe:o};e.Ce.set(e.sl,s),e.sl+=1}}),this.Q0()},t.prototype.X0=function(){var e=this;return csArray.prototype.filter.call(It.findAllElements("iframe"),function(n){return e.Z0(n)})},t.prototype.K0=function(e){var n=this;this.Ce.forEach(function(o,a){o.iframe&&csArray.prototype.indexOf.call(e,o.iframe)===-1&&n.$0(a,o)})},t.prototype.$0=function(e,n){n.port&&ct.closeChannelPort(n.port),this.Ce.delete(e)},t.prototype.Y0=function(){this.Ce.forEach(function(e){e.port&&ct.closeChannelPort(e.port)}),this.Ce.clear()},t.prototype.J0=function(e){var n=null;return this.Ce.forEach(function(o,a){n===null&&o.iframe===e&&(n=a)}),n},t.prototype.Z0=function(e){return e.id!==yu&&(!e.src||ke(e.src,"about:")||ha(Fu(e.src),this.h.hostnames))},t.prototype.q0=function(e){var n=this;this.Ce.forEach(function(o){n.cl(o,e)})},t.prototype.cl=function(e,n){var o=n.type===M.SensitiveStatus||n.type===M.RecordingContext;e.port&&(!o||e.initialStatusSent)&&ct.sendChannelMessage(e.port,n)},t.prototype.Q0=function(){var e=this;this.Ce.forEach(function(n,o){if(n.iframe.contentWindow){var a=e.t_(o);ct.sendPostMessage(n.iframe.contentWindow,"*",a)}})},t.prototype.W0=function(){var e=this.e_();this.Ce.forEach(function(n){n.port?ct.sendChannelMessage(n.port,e):n.iframe.contentWindow&&ct.sendPostMessage(n.iframe.contentWindow,"*",e)})},t.prototype.t_=function(e){return ct.buildBaseMessage(M.Discovery,ee.Parent,this.h.projectId,e)},t.prototype.e_=function(){return ct.buildBaseMessage(M.Stop,ee.Parent,this.h.projectId)},t.prototype.r_=function(e,n){var o=this,a=this.Ce.get(e);if(a===void 0){F.error("Parent received channel messaging initialization from unknow child id : ".concat(e," (").concat(this.sl,")"));return}a.port=n,a.port.onmessage=function(s){o.ll(s,a)}},t.prototype.n_=function(e){if(e.port){var n=ct.buildBaseMessage(M.SensitiveStatus,ee.Parent,this.h.projectId),o=this.z0();this.vs(e)&&(o.started=!1,o.capturedElementSelector="",o.useAnonymization=!0),n.content=o,ct.sendChannelMessage(e.port,n)}},t.prototype.i_=function(e){if(e.port){var n=ct.buildBaseMessage(M.RecordingContext,ee.Parent,this.h.projectId),o=this.G0();this.vs(e)&&(o.isRecording=!1),n.content=o,ct.sendChannelMessage(e.port,n)}},t.prototype.ll=function(e,n){if(n===void 0){F.error("Parent received channelMessage from unknown child : ".concat(csJSON.stringify(e.data)));return}var o=e.data.type,a=e.data.content;o===M.EndOfBufferedMessages?(this.n_(n),this.i_(n),n.initialStatusSent=!0):this.Ud(n.iframe,o,a)},t.prototype.ul=function(e){if(ct.isMessageValid(e,ee.Child,this.h.projectId,this.h.hostnames))switch(e.data.type){case M.Discovery:if(e.data.id===void 0){this.Vd();return}if(e.ports&&e.ports.length===1&&this.Ce.has(e.data.id)){this.r_(e.data.id,e.ports[0]);return}F.error("Parent received wrong channelMessage initialization : (".concat(e.origin,") : ").concat(csJSON.stringify(e.data)));break;case M.ChildLogMessage:this.Ud(null,M.ChildLogMessage,e.data.content);break;default:F.warn("Parent received unexpected postMessage type from child (".concat(e.origin,") : ").concat(csJSON.stringify(e.data)))}},t.prototype.vs=function(e){return H.isMaskedElement(e.iframe)||H.isMaskedElementChild(e.iframe)},t}(wt);return i}(),Am=function(){var i=function(){function r(t){this.o_=t}return r.prototype.buildApiErrors=function(t,e){var n=this.o_.collectDataPoints(t,e);if(n===null)return null;var o=this.a_(t,n);if(e){var a=this.s_(t,n);return{apiError:o,detailedApiError:a}}return{apiError:o}},r.prototype.s_=function(t,e){var n=this.jd(t);return e.collectQueryParam&&t.queryParameters&&(n.queryParameters=t.queryParameters),e.collectRequestBody&&t.requestBody&&(n.requestBody=t.requestBody),e.collectResponseBody&&t.responseBody&&(n.responseBody=t.responseBody),Object.keys(e.standardRequestHeaders).length>0&&(n.standardRequestHeaders=e.standardRequestHeaders),Object.keys(e.standardResponseHeaders).length>0&&(n.standardResponseHeaders=e.standardResponseHeaders),Object.keys(e.customRequestHeaders).length>0&&(n.customRequestHeaders=csJSON.stringify(e.customRequestHeaders)),Object.keys(e.customResponseHeaders).length>0&&(n.customResponseHeaders=csJSON.stringify(e.customResponseHeaders)),Object.keys(e.plainCustomRequestHeaders).length>0&&(n.plainCustomRequestHeaders=e.plainCustomRequestHeaders),Object.keys(e.plainCustomResponseHeaders).length>0&&(n.plainCustomResponseHeaders=e.plainCustomResponseHeaders),e.plainResponseBodyAttributes&&Object.keys(e.plainResponseBodyAttributes).length>0&&(n.plainResponseBodyAttributes=e.plainResponseBodyAttributes),e.plainRequestBodyAttributes&&Object.keys(e.plainRequestBodyAttributes).length>0&&(n.plainRequestBodyAttributes=e.plainRequestBodyAttributes),Object.keys(e.responseBodyAttributes).length>0&&(n.responseBodyAttributes=csJSON.stringify(e.responseBodyAttributes)),Object.keys(e.requestBodyAttributes).length>0&&(n.requestBodyAttributes=csJSON.stringify(e.requestBodyAttributes)),n},r.prototype.jd=function(t){return{errorType:"apiError",url:t.url,method:t.method,requestTime:t.requestTime,responseTime:t.responseTime,statusCode:t.statusCode,library:t.library}},r.prototype.a_=function(t,e){var n=this.jd(t);return e.matchingBodyContents.length>0&&(n.matchingBodyContents=e.matchingBodyContents),Object.keys(e.plainResponseBodyAttributes).length>0&&(n.plainBodyResponseAttributes=e.plainResponseBodyAttributes),n},r}();return i}(),wl=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.ys=e,a.gs=n,a.u_=o,a.pl=0,a.c_=new Am(o),a}return t.prototype.subscribe=function(e,n,o){o!=null&&o.detailedEvent&&(Object.defineProperty(n,"detailedEvent",{value:o.detailedEvent}),this.pl++),r.prototype.subscribe.call(this,e,n)},t.prototype.unsubscribe=function(e){var n;!((n=this.subscriptions[e])===null||n===void 0)&&n.hasOwnProperty("detailedEvent")&&this.pl--,r.prototype.unsubscribe.call(this,e)},t.prototype.init=function(){var e=this,n=this.u_.computeApiErrorCollectionOptions();this.ys.setCollectionOptions(n),this.ys.onEvent(function(o){return e.Hd(o)}),this.gs.setCollectionOptions(n),this.gs.onEvent(function(o){return e.Hd(o)})},t.prototype.onStartTracking=function(){this.ys.start(),this.gs.start()},t.prototype.onStopTracking=function(){this.ys.stop(),this.gs.stop()},t.prototype.Hd=function(e){var n=this.c_.buildApiErrors(e,this.pl!==0);if(n)for(var o in this.subscriptions){var a=this.subscriptions[o];a.hasOwnProperty("detailedEvent")?n.detailedApiError&&a(n.detailedApiError):a(n.apiError)}},t}(Oa);return i}(),_l=function(){var i=function(){function r(t,e,n){n===void 0&&(n=!1),this.ut=t,this.K=e,this.ko=n}return r.prototype.addUrlMaskingPattern=function(t){this.ut.addUrlMaskingPattern(t)},r.prototype.anonymize=function(t){var e=this.K.removeQueryString(t.url),n={maskingPatterns:this.ut.getUrlMaskingPatterns(),partialMaskingPatterns:this.ut.getPartialUrlMaskingPatterns(),maskNames:this.ko};return k(k({},t),{url:this.K.anonymizeUrl(e,n),library:t.library?this.K.anonymizeUrl(t.library,n):void 0})},r}();return i}(),Tm=function(){return"CS_ANONYMIZED_VALUE"}(),bl=function(){var i=function(){function r(t,e){this.I=t,this.A=e}return r.prototype.anonymize=function(t){return J(t.message)&&(t.message=this.l_(t.message),t.message=this.I.anonymizePII(t.message)),J(t.filename)&&(t.filename=this.A.computeOverriddenUrl(t.filename)),t},r.prototype.l_=function(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,"value='".concat(Tm,"'"))},r}();return i}(),Al=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.h_=e,n.Lr=[{boundElement:document,type:"touchstart",listener:function(o){return n.z(o)}},{boundElement:document,type:"touchmove",listener:function(o){return n.z(o)}},{boundElement:document,type:"touchend",listener:function(o){return n.z(o)}}],n.Do=new Go,n.Do.onGesture(function(o,a){return n.gc(o,a)}),n}return t.prototype.gc=function(e,n){for(var o in this.subscriptions){var a=this.subscriptions[o];a(e,n)}},t.prototype.onStartTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Lr,function(e){return Vt(e)})},t.prototype.onStopTracking=function(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.Lr,function(e){return jt(e)})},t.prototype.canDetectGesture=function(){return typeof devicePixelRatio!="undefined"},t.prototype.z=function(e){var n=this;this.h_.tryToExecute("process gesture event",function(){if(n.Do.isValidTouchEvent(e))switch(e.type){case"touchstart":n.Do.processActionDown(e);break;case"touchmove":n.Do.processActionMove();break;case"touchend":n.Do.processActionUp(e);break}})()},t.isSwipe=function(e){return e.type===xt.FLICK||e.type===xt.DRAG},t}(Oa);return i}(),Rm=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.U=e,o.dl=n,o.Bd=0,o}return t.prototype.onStart=function(){var e=this;F.isPerfLoggingActive()&&(this.Oo=window.csSetInterval(function(){return e.Fd()},t.f_))},t.prototype.onStop=function(){F.isPerfLoggingActive()&&(this.Fd(),csClearInterval(this.Oo))},t.prototype.Fd=function(){if(!(gi.isEmpty||this.Bd>=t.p_)){this.Bd++;var e=k({a:t.d_,l:t.v_},this.dl.getRequestParameters()),n=[];gi.forEach(function(o){csArray.prototype.forEach.call(o,function(a){csArray.prototype.push.call(n,k(k({},a),e))})}),this.U.send(n),gi.clear()}},t}(wt);return i.d_="uxa",i.v_="perf",i.f_=5e3,i.p_=5,i}(),Cm=function(){var i=function(){function r(t,e,n){this.h=t,this.dl=e,this.St=n}return r.prototype.init=function(){this.Gd=new Rm(this.St.create(this.h.getLoggerUri(),!0),this.dl)},r.prototype.onStartTracking=function(){this.Gd.start()},r.prototype.onOptout=function(){this.Gd.stop()},r}();return i}(),Im=function(){var i=function(){function r(t){this.fe=t,this.zd=!1}return r.prototype.enableRecordingContext=function(t,e,n){this.zd=!0,this.ai=t,this.w=e,this.kn=n},r.prototype.getRecordingContext=function(){var t,e,n,o;if(!this.zd)return{isRecording:!1,recordingStartTimestamp:0,etrState:Ft.ETR_OFF,etrStatus:Wt.ETR_DISABLED,collectState:j.ANALYTICS_ONLY};var a=this.w.getSession();return{isRecording:this.ai.isRecording(),useAnonymization:this.fe.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this.ai.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this.ai.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this.ai.getRecordingStartTimestamp(),10),etrState:(n=a==null?void 0:a.etrState)!==null&&n!==void 0?n:Ft.ETR_OFF,etrStatus:this.kn.getEtrStatus(a),collectState:(o=a==null?void 0:a.collectState)!==null&&o!==void 0?o:j.ANALYTICS_ONLY}},r}();return i}(),hn=function(){var i=function(){function r(){}return r.isRecordingSupported=function(){return"MutationObserver"in window&&"visibilityState"in document},r.isAsyncSerializationSupported=function(){return"Promise"in window&&"findIndex"in csArray.prototype},r}();return i}(),Pm=function(){var i=function(r){Q(t,r);function t(e,n,o,a){var s=r.call(this)||this;return s.at=e,s.vl=n,s.J=o,s.ue=a,s.ms=[],s.kr=0,s}return t.prototype.init=function(){this.at.init()},t.prototype.initStates=function(){this.yl(),this.ms=[],this.kr=0,this.jc()},t.prototype.jc=function(){this.er=V.now()},t.prototype.jn=function(){return V.now()-this.er},t.prototype.onStart=function(){var e=this;this.at.subscribe(t.Mt,function(n){return e.z(n)})},t.prototype.onStop=function(){this.at.unsubscribe(t.Mt)},t.prototype.onIframeApiError=function(e){this.z(e)},t.prototype.z=function(e){this.isStarted&&this.kr<t.vo&&(e.relativeTime=this.jn(),csArray.prototype.push.call(this.ms,this.ue.anonymize(e)),this.Lo(),pt.counters.networkRequests.count("collected"))},t.prototype.yl=function(){this.vl.removeQueryParams(),this.vl.setQueryParams(this.J.getRequestParameters())},t.prototype.Lo=function(){this.vl.send({errors:this.ms}),this.ms=[],this.kr+=1},t}(wt);return i.Mt="ApiErrorsService",i.vo=20,i}(),Om=function(){return"api-errors"}(),Oi=function(){return["api-errors:maskUrl"]}(),Nm=function(){var i=function(){function r(t,e,n,o,a,s,u){this.at=t,this.ue=e,this.h=n,this.J=o,this.nt=a,this.f=s,this.St=u}return r.prototype.init=function(){var t=this.St.create("".concat(this.h.getTrackerUri(),"/").concat(Om),!0);this.Bn=new Pm(this.at,t,this.J,this.ue),this.Bn.init(),this.nt.addListener(this.Bn),this.lt()},r.prototype.lt=function(){var t=this;this.f.register(Oi,function(e){if(!J(e))throw new Error("Command misuse: ".concat(Oi[0]));t.ue.addUrlMaskingPattern(e)})},r.prototype.onStartTracking=function(){this.Bn.start()},r.prototype.onAfterNaturalPageView=function(){this.Bn.initStates()},r.prototype.onAfterArtificialPageView=function(){this.Bn.initStates()},r.prototype.onBeforeSessionRenewal=function(){this.Bn.stop()},r.prototype.onOptout=function(){this.Bn.stop()},r}();return i}(),Mm=function(){return 20}(),xm=function(){return"Custom Error:"}(),km=function(){return"https://cserror.com/texterror.js"}(),Dm=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u){var c=r.call(this)||this;return c.br=e,c.gl=n,c.J=o,c.se=a,c.zr=s,c.A=u,c.Ss=[],c.On=0,c.Fn=[],c}return t.prototype.initStates=function(){this.er=V.now(),this.gl.removeQueryParams(),this.gl.setQueryParams(this.J.getRequestParameters()),this.Ss=[],this.On=0},t.prototype.onStart=function(){var e=this;this.br.subscribe(t.Mt,function(n){return e.z(n)}),this.ml()},t.prototype.onStop=function(){this.br.unsubscribe(t.Mt)},t.prototype.onIframeJavascriptError=function(e){this.z(e)},t.prototype.trackCustomError=function(e){var n={errorType:"jsError",message:"".concat(xm," ").concat(e),lineno:1,colno:1,filename:km};this.Uo(n)},t.prototype.Uo=function(e){if(this.isStarted){var n=this.z(e);n&&this.zr.emitCustomJavaScriptErrorEvent(n)}else csArray.prototype.push.call(this.Fn,e)},t.prototype.ml=function(){var e=this;this.isStarted&&(csArray.prototype.forEach.call(this.Fn,function(n){return e.Uo(n)}),this.Fn=[])},t.prototype.z=function(e){if(this.isStarted&&this.On<Mm){var n=k(k({},e),{pageUrl:this.A.getAnonymizedUrl(),rt:this.jn()});return this.se.anonymize(n),csArray.prototype.push.call(this.Ss,n),this.Lo(),n}return null},t.prototype.jn=function(){return V.now()-this.er},t.prototype.Lo=function(){this.gl.send({errors:this.Ss}),this.Ss=[],this.On+=1},t}(wt);return i.Mt="JavaScriptErrorsService",i}(),mn=function(){return["trackError"]}(),Lm=function(){return"errors"}(),Um=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h){this.br=t,this.se=e,this.h=n,this.J=o,this.nt=a,this.f=s,this.zr=u,this.A=c,this.St=h}return r.prototype.init=function(){var t=this.St.create("".concat(this.h.getTrackerUri(),"/").concat(Lm),!0);this.Gn=new Dm(this.br,t,this.J,this.se,this.zr,this.A),this.nt.addListener(this.Gn),this.lt()},r.prototype.lt=function(){var t=this;this.h.jsCustomErrorsEnabled&&!this.h.customErrors.enabled&&this.f.register(mn,function(e){t.Gn.trackCustomError(e)})},r.prototype.onStartTracking=function(){this.Gn.start()},r.prototype.onAfterNaturalPageView=function(){this.Gn.initStates()},r.prototype.onAfterArtificialPageView=function(){this.Gn.initStates()},r.prototype.onBeforeSessionRenewal=function(){this.Gn.stop()},r.prototype.onOptout=function(){this.Gn.stop()},r}();return i}(),Tl=function(){var i;return function(r){var t=300,e=5,n=30,o=30;function a(c,h,f){f===void 0&&(f=!1);var p=gt.truncate(c,t,gt.ELLIPSIS),d={message:p,errorType:"customError"};return(f||u(h))&&(s(h),d.attributes=h),d}r.buildCustomErrorEvent=a;function s(c){for(var h in c){var f=c[h];if(typeof f=="string"&&f.length>o&&(f=gt.truncate(f,o,gt.ELLIPSIS),c[h]=f),h.length>n){var p=gt.truncate(h,n,gt.ELLIPSIS);delete c[h],c[p]=f}}}function u(c){var h=Object.keys(c).length;return h>0&&h<=e}}(i||(i={})),i}(),Vm=function(){return 20}(),jm=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s){var u=r.call(this)||this;return u.Sl=e,u.J=n,u.Jr=o,u.Q=a,u.Ar=s,u.Es=[],u.Nn=0,u.Fn=[],u}return t.prototype.initStates=function(){var e=this,n;this.yl(),this.er=V.now(),this.Es=[],this.Nn=0,(n=this.Ar)===null||n===void 0||n.onEvent(function(o){return e.z(o)})},t.prototype.trackCustomError=function(e,n){if(n===void 0&&(n={}),!(J(e)&&ue(n)&&Ht(n)))throw new Error("Command misuse: ".concat(mn[0]));var o=Tl.buildCustomErrorEvent(e,n);this.Uo(o)},t.prototype.onIframeCustomError=function(e){this.z(e)},t.prototype.onStart=function(){var e;this.ml(),(e=this.Ar)===null||e===void 0||e.start()},t.prototype.onStop=function(){var e;(e=this.Ar)===null||e===void 0||e.stop()},t.prototype.ml=function(){var e=this;this.isStarted&&(csArray.prototype.forEach.call(this.Fn,function(n){return e.Uo(n)}),this.Fn=[])},t.prototype.Uo=function(e){if(this.isStarted){var n=this.z(e);n&&this.Q.emitCustomErrorEvent(n)}else csArray.prototype.push.call(this.Fn,e)},t.prototype.z=function(e){if(this.isStarted&&this.Nn<Vm){var n=this.y_(e);return csArray.prototype.push.call(this.Es,n),this.Lo(),n}return null},t.prototype.y_=function(e){var n=k(k({},e),{rt:this.jn()});return n.message=this.Jr.anonymize(e.message),n},t.prototype.yl=function(){this.Sl.removeQueryParams(),this.Sl.setQueryParams(this.J.getRequestParameters())},t.prototype.jn=function(){return V.now()-this.er},t.prototype.Lo=function(){this.Sl.send({errors:this.Es}),this.Es=[],this.Nn+=1},t}(wt);return i}(),Hm=function(){return"custom-errors"}(),Bm=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.Jr=t,this.h=e,this.J=n,this.f=o,this.zr=a,this.St=s,this.nt=u,this.Ar=c}return r.prototype.init=function(){var t=this.St.create("".concat(this.h.getTrackerUri(),"/").concat(Hm),!0);this.zn=new jm(t,this.J,this.Jr,this.zr,this.Ar),this.nt.addListener(this.zn),this.lt()},r.prototype.lt=function(){var t=this;this.f.register(mn,function(e,n){t.zn.trackCustomError(e,n)})},r.prototype.onStartTracking=function(){this.zn.start()},r.prototype.onAfterNaturalPageView=function(){this.zn.initStates()},r.prototype.onAfterArtificialPageView=function(){this.zn.initStates()},r.prototype.onBeforeSessionRenewal=function(){this.zn.stop()},r.prototype.onOptout=function(){this.zn.stop()},r}();return i}(),Fm=function(){var i=function(){function r(){this.El=Ei.Natural}return r.prototype.setPageViewType=function(t){this.El=t},r.prototype.getPageViewType=function(){return this.El},r.prototype.getRequestParameters=function(){return{pvt:this.El}},r}();return i}(),Gm=function(){var i=function(){function r(t){this.X=t}return r.prototype.onAfterVisitorRenewal=function(){this.X.renewSession()},r}();return i}();var Rl=function(){var i;return function(r){function t(){var n=navigator.userAgent+navigator.language+navigator.platform,o=csString.prototype.slice.call(e(n).toString(16),-4),a=new csDate().getTime(),s="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var c=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(u==="x"?c:c&7|8).toString(16)});return csString.prototype.replace.call(s,"hhhh",o)}r.generate=t;function e(n){for(var o=0,a=0;a<n.length;a+=1)o=csString.prototype.charCodeAt.call(n,a)+(o<<6)+(o<<16)-o;return Math.abs(o)}}(i||(i={})),i}();var au=function(){return 250}(),xw=function(){function i(r){this.Q=r}return i.prototype.pushPageView=function(r){window._uxa.push(["trackPageview",r])},i.prototype.pushDynamicVariable=function(r,t){window._uxa.push(["trackDynamicVariable",{key:r,value:t}])},i.prototype.pushInternalEvents=function(r){var t=this;csArray.prototype.forEach.call(r,function(e){var n=e.key,o=e.val;return t.pushDynamicVariable(n,o)})},i.prototype.pushExternalEvents=function(r){var t;if(this.Q)for(var e=this.T_(r),n=0;n<e.length;n+=1){var o=this.R_(e[n]);o.length&&o.length<=au?(hj.log.debug("Sending event: tag_recording:".concat(o)),(t=this.Q)===null||t===void 0||t.emitExternalEvent(o)):F.warn('Invalid recording tag: " '.concat(o,' ", should have length 1.. ').concat(au," characters, was ").concat(o.length,"."))}},i.prototype.C_=function(r){var t=typeof r=="string";return!!(ye.mayHaveNumberSequence(r.toString())||t&&csString.prototype.indexOf.call(r,"@")>-1&&ye.mayHaveEmail(r)||t&&ye.mayHaveIPAddress(r))},i.prototype.T_=function(r){var t=this,e=/^[a-zA-Z0-9 _\-.:/]*$/;return r?csArray.prototype.filter.call(r,function(n){return n?e.test(n.toString())?t.C_(n)?(hj.log.debug("Tag "+n+" has been removed due to possible PII information included"),!1):!0:(hj.log.debug("Tag "+n+" has been removed due to having invalid characters"),!1):!1}):[]},i.prototype.R_=function(r){return typeof r=="string"?csString.prototype.replace.call(r,/^\s+|\s+$/gm,""):""},i}();var kw=function(){function i(r){this.Ge=r}return i.prototype.send=function(r){hj.log.debug("Sending tags: ".concat(csJSON.stringify(r))),this.Ge.pushInternalEvents(r)},i.prototype.tag=function(r,t,e,n,o){var a=this;return function(s){if(s){var u=csArray.prototype.reduce.call(e,function(c,h){var f=r,p="",d=Object.keys(h);return csArray.prototype.forEach.call(d,function(m){var w=h[m],E=s[w];E==null&&(E=""),n&&(E=n(w,E)),w===t&&(p=E),w===t&&!o?f+=".".concat(m):E!==""&&(f+=".".concat(m,":").concat(E))}),csArray.prototype.push.call(c,{key:f,val:p}),c},[]);a.send(u)}}},i.prototype.setup=function(r){var t=r.vocEnabled,e=r.integrationsEnabled,n=function(h,f){return typeof f=="string"?csString.prototype.replace.call(f,/\.|:/g,"_"):f},o=function(h,f){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.toString.call(f),".e:",".E:"),".v:",".V:"),".c:",".C:")},a=function(h,f){if(h==="answer"){var p=parseInt(f);return isNaN(p)?(F.warn("Poll question answer should be a number type, received ".concat(f," instead")),f):p}if(h!=="type")return f;var d={"rating-scale-5":"rating5","rating-scale-7":"rating7","net-promoter-score":"nps","single-close-ended":"singleClose","multiple-close-ended":"multiClose","single-open-ended-multiple-line":"singleOpenMulti","single-open-ended-single-line":"singleOpenSingle"};return d[f]||f},s={"poll.show":this.tag("poll.show","id",[{id:"id"}]),"poll.send":this.tag("poll.send","response_id",[{id:"id",r_id:"response_id"}]),"poll.question":this.tag("poll.q","answer",[{t:"type",a:"answer",id:"id",qid:"questionUuid"}],a),"feedback.show":this.tag("feedback.show","id",[{id:"id"}]),"feedback.send":this.tag("feedback.send","id",[{id:"id"}]),"feedback.sentiment":this.tag("feedback.sentiment","emotion",[{e:"emotion",id:"id",r_id:"response_id"}]),"survey.show":this.tag("survey.show","id",[{id:"id"}]),"survey.open":this.tag("survey.open","id",[{id:"id"}])},u={"exp.opt":this.tag("exp.opt","variantId",[{e:"experimentId",v:"variantId"}],o),"exp.ub":this.tag("exp.ub","variantId",[{e:"experimentId",v:"variantId"}],o),"exp.abt":this.tag("exp.abt","variantId",[{e:"experimentId",v:"variantId"}],o),"exp.go":this.tag("exp.go","variantId",[{e:"experimentId",v:"variantId",c:"containerId"}],o),"int.ga":this.tag("int.ga","action",[{a:"action"}],n,!0),"int.mp":this.tag("int.mp","event",[{event:"event"}],n,!0),"int.hubspot":this.tag("int.hubspot","utk",[{utk:"utk"}])},c=Object.assign({},t?s:{},e?u:{});return c},i.prototype.listen=function(r){var t=this.setup(r);csArray.prototype.forEach.call(Object.keys(t),function(e){hj.event.listen(e,t[e])})},i}();var je;(function(i){i.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",i.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",i.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",i.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"})(je||(je={}));var be;(function(i){i.START="start",i.NOT_START="not-start",i.END="end",i.NOT_END="not-end",i.CONTAIN="contain",i.NOT_CONTAIN="not-contain",i.EXACT="exact",i.NOT_EXACT="not-exact"})(be||(be={}));var Na=function(){var i=function(){function r(t,e,n,o){this.pe=t,this.h=e,this.A=n,this.Ho=o}return r.prototype.init=function(){this.x_()},r.prototype.shouldMaskNonTextElements=function(){if(this.h.anonymisationMethod!==je.replayRecordingMaskedUrlRegexRules)return!1;if(this.h.isSMB)return this.shouldUseAnonymization();var t=this.Ho.getMatchingRules(this.A.getAnonymizedUrl());return csArray.prototype.some.call(t,function(e){return e.maskMedia})},r.prototype.shouldUseAnonymization=function(){if(this.pe.isReplayUnanonymizedAllowedByConsent()){switch(this.h.anonymisationMethod){case null:case je.replayRecordingMaskedUrlRegex:return!!(this.h.replayRecordingMaskedUrlRegex&&this.h.replayRecordingMaskedUrlRegex.test(this.A.getAnonymizedUrl()));case je.replayRecordingMaskedUrlRegexRules:return this.Ho.evaluateUrl(this.A.getAnonymizedUrl())}return!1}else{switch(this.h.anonymisationMethod){case null:case je.replayRecordingUnmaskedUrlRegex:return!(this.h.replayRecordingUnmaskedUrlRegex&&this.h.replayRecordingUnmaskedUrlRegex.test(this.A.getAnonymizedUrl()));case je.replayRecordingUnmaskedUrlRegexRules:return!this.Ho.evaluateUrl(this.A.getAnonymizedUrl())}return!0}},r.prototype.x_=function(){this.h.anonymisationMethod===je.replayRecordingMaskedUrlRegexRules&&this.h.replayRecordingMaskedUrlRegexRules?this.Ho.setRegexRules(this.h.replayRecordingMaskedUrlRegexRules):this.h.anonymisationMethod===je.replayRecordingUnmaskedUrlRegexRules&&this.h.replayRecordingUnmaskedUrlRegexRules&&this.Ho.setRegexRules(this.h.replayRecordingUnmaskedUrlRegexRules)},r}();return i}(),Ma=function(){var i=function(){function r(){this.Tl=[]}return r.prototype.setRegexRules=function(t){var e=this;this.Tl=csArray.prototype.map.call(t,function(n){return e.k_(n)})},r.prototype.evaluateUrl=function(t){var e=this;return csArray.prototype.some.call(this.Tl,function(n){return e.Jd(t,n)})},r.prototype.getMatchingRules=function(t){var e=this;return csArray.prototype.filter.call(this.Tl,function(n){return e.Jd(t,n)})},r.prototype.Jd=function(t,e){var n,o,a=this.D_(t,e);return!!(e!=null&&e.notOperator?!(!((n=e.regex)===null||n===void 0)&&n.test(a)):!((o=e.regex)===null||o===void 0)&&o.test(a))},r.prototype.D_=function(t,e){var n=fa(t);return n?e.ignoreQueryParams&&e.ignoreURIFragments?"".concat(n.origin).concat(n.pathname):e.ignoreQueryParams?"".concat(n.origin).concat(n.pathname).concat(n.hash):e.ignoreURIFragments?"".concat(n.origin).concat(n.pathname).concat(n.search):t:t},r.prototype.ws=function(t){return t.ignoreCaseSensitivity?"i":""},r.prototype.k_=function(t){switch(t.operator){case be.NOT_START:t.notOperator=!0;case be.START:t.regex=new csRegExp("^".concat(t.value),this.ws(t));break;case be.NOT_END:t.notOperator=!0;case be.END:t.regex=new csRegExp("".concat(t.value,"$"),this.ws(t));break;case be.NOT_CONTAIN:t.notOperator=!0;case be.CONTAIN:t.regex=new csRegExp("".concat(t.value),this.ws(t));break;case be.NOT_EXACT:t.notOperator=!0;case be.EXACT:t.regex=new csRegExp("^".concat(t.value,"$"),this.ws(t));break;default:F.warn("buildRegexWithRule, unknown type: ".concat(t.operator))}return t},r}();return i}(),Cl=function(){var i=function(){function r(){this.L_=["application/json","application/graphql","application/xml","text/plain","text/csv","text/html","text/xml","text/javascript"]}return r.prototype.setCollectionOptions=function(t){this.Rl=t},r.prototype.isValidBodyType=function(t){var e=t["content-type"];if(!e)return!1;var n=csString.prototype.toLocaleLowerCase.call(e);return Mo(this.L_,function(o){return We(n,o)})},r.prototype.canCollect=function(t,e){return this.U_(t,e)&&this.V_(e)},r.prototype.U_=function(t,e){return t>=400||t>=200&&t<300&&this.Rl.statusCodes.has(t)&&this.Cl(e)},r.prototype.Cl=function(t){return Mo(this.Rl.urls,function(e){return csString.prototype.indexOf.call(t,e)!==-1})},r.prototype.V_=function(t){return Lp(this.Rl.excludedDomains,function(e){return csString.prototype.indexOf.call(t,e)===-1})},r}();return i}(),zm=function(){return 0}(),Il=function(){var i=function(r){Q(t,r);function t(){var e=r.call(this)||this;return e.Ft=csSymbol("ApiCall"),e.N=!1,e.Ai=null,e.Ti=null,e._s=null,e.j_=function(n){var o=n.context,a=n.args,s=n.callerName;return e.interceptOpen(o,a,s)},e.H_=function(n){var o=n.context,a=n.args;return e.interceptSetRequestHeader(o,a)},e.B_=function(n){var o=n.context,a=n.args;return e.interceptSend(o,a)},e}return t.prototype.onEvent=function(e){this.O=e},t.prototype.start=function(){this.N||(this.Il(),this.Ai&&this.Ai.activate(),this.Ti&&this.Ti.activate(),this._s&&this._s.activate(),this.N=!0)},t.prototype.stop=function(){this.N&&(this.Ai&&this.Ai.deactivate(),this.Ti&&this.Ti.deactivate(),this.N=!1)},t.prototype.Il=function(){this.Ai||(this.Ai=me({target:XMLHttpRequest.prototype,methodName:"open",hook:this.j_,options:{withCallerName:!0}})),this.Ti||(this.Ti=me({target:XMLHttpRequest.prototype,methodName:"setRequestHeader",hook:this.H_})),this._s||(this._s=me({target:XMLHttpRequest.prototype,methodName:"send",hook:this.B_}))},t.prototype.interceptOpen=function(e,n,o){var a=this;if(!(!n[1]||!J(n[1]))){var s=it(csString.prototype.split.call(n[1],"?"),2),u=s[0],c=s[1];e[this.Ft]={library:o,requestTime:V.now(),method:n[0],url:xe(u),queryParameters:c,statusCode:zm,responseHeaders:{},requestHeaders:{},responseBody:"",requestBody:""},e.addEventListener("readystatechange",function(){return a.readyStateChangeListener(e)})}},t.prototype.readyStateChangeListener=function(e){e[this.Ft]&&e.readyState===XMLHttpRequest.DONE&&this.canCollect(e.status,e[this.Ft].url)&&(e[this.Ft].responseTime=V.now(),e[this.Ft].statusCode=e.status,e[this.Ft].responseHeaders=this.F_(e.getAllResponseHeaders()),r.prototype.isValidBodyType.call(this,e[this.Ft].responseHeaders)&&(e.responseType===""||e.responseType==="text")&&(e[this.Ft].responseBody=e.responseText),this.O(e[this.Ft]))},t.prototype.interceptSetRequestHeader=function(e,n){if(e[this.Ft]){var o=n[0],a=csString.prototype.valueOf.call(new csString(n[1]));typeof o!="string"||a.length===0||(o=csString.prototype.toLowerCase.call(csString.prototype.trim.call(o)),a=csString.prototype.trim.call(a),e[this.Ft].requestHeaders[o]?e[this.Ft].requestHeaders[o]+=", ".concat(a):e[this.Ft].requestHeaders[o]=a)}},t.prototype.interceptSend=function(e,n){e[this.Ft]&&r.prototype.isValidBodyType.call(this,e[this.Ft].requestHeaders)&&typeof n[0]=="string"&&(e[this.Ft].requestBody=n[0])},t.prototype.F_=function(e){var n={};return csArray.prototype.forEach.call(csString.prototype.split.call(e,/[\r\n]+/),function(o){var a=it(csString.prototype.split.call(o,/:\s*/),2),s=a[0],u=a[1];u&&(n[csString.prototype.toLowerCase.call(s)]=csString.prototype.trim.call(u))}),n},t}(Cl);return X([B("XhrRequestTracker.interceptOpen")],i.prototype,"interceptOpen",null),X([B("XhrRequestTracker.readyStateChangeListener")],i.prototype,"readyStateChangeListener",null),X([B("XhrRequestTracker.interceptSetRequestHeader")],i.prototype,"interceptSetRequestHeader",null),X([B("XhrRequestTracker.interceptSend")],i.prototype,"interceptSend",null),i}(),Pl=function(){var i=function(r){Q(t,r);function t(){var e=r.call(this)||this;return e.N=!1,e.Ri=null,e.G_=function(n){var o=n.result,a=n.args,s=n.callerName;e.interceptFetch(o,a,s)},e}return t.prototype.onEvent=function(e){this.O=e},t.prototype.start=function(){this.N||this.z_()&&(this.q_(),this.Ri&&this.Ri.activate(),this.N=!0)},t.prototype.stop=function(){this.N&&(this.Ri&&this.Ri.deactivate(),this.N=!1)},t.prototype.z_=function(){return!!window.fetch&&typeof window.fetch=="function"},t.prototype.W_=function(e){if(e[0]&&typeof e[0].clone=="function"){var n=on(e);return n[0]=e[0].clone(),n}return e},t.prototype.q_=function(){this.Ri||(this.Ri=me({target:window,methodName:"fetch",hook:this.G_,hookPrepareArgs:this.W_,options:{withCallerName:!0}}))},t.prototype.interceptFetch=function(e,n,o){return Kt(this,void 0,void 0,function(){var a,s,u,c,h,f,p,d,m,w,E,_,b,R;return Gt(this,function(A){switch(A.label){case 0:if(a=n[0],s=n[1],u=new Request(a,s),!J(u.url))return[2];c=V.now(),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,e];case 2:return h=A.sent(),[3,4];case 3:if(f=A.sent(),this.Y_(f)||this.Qd(f)||this.X_(f)||this.K_(f))return[2];throw f;case 4:if(p=it(csString.prototype.split.call(u.url,"?"),2),d=p[0],m=p[1],w=xe(d),!(h&&r.prototype.canCollect.call(this,h.status,w)))return[3,11];if(E={library:o,method:u.method,url:w,queryParameters:m,requestTime:c,responseTime:V.now(),statusCode:h.status,requestBody:"",responseBody:"",requestHeaders:this.Zd(u.headers),responseHeaders:this.Zd(h.headers)},!(!h.bodyUsed&&r.prototype.isValidBodyType.call(this,E.responseHeaders)))return[3,8];A.label=5;case 5:return A.trys.push([5,7,,8]),_=E,[4,h.clone().text()];case 6:return _.responseBody=A.sent(),[3,8];case 7:return b=A.sent(),this.Qd(b)?[2]:[3,8];case 8:return r.prototype.isValidBodyType.call(this,E.requestHeaders)?(R=E,[4,u.text()]):[3,10];case 9:R.requestBody=A.sent(),A.label=10;case 10:this.O(E),A.label=11;case 11:return[2]}})})},t.prototype.Y_=function(e){return e instanceof TypeError},t.prototype.Qd=function(e){return e instanceof DOMException&&e.name==="AbortError"},t.prototype.K_=function(e){return e instanceof DOMException&&e.name==="TimeoutError"},t.prototype.X_=function(e){return e instanceof DOMException&&csArray.prototype.some.call(t.J_,function(n){return n===e.name})},t.prototype.Zd=function(e){var n={};return e.forEach(function(o,a){o&&(n[csString.prototype.toLowerCase.call(a)]=csString.prototype.trim.call(o))}),n},t}(Cl);return i.J_=["NoModificationAllowedError","InvalidStateError","OperationError"],X([B("FetchRequestTracker.interceptFetch")],i.prototype,"interceptFetch",null),i}(),qm=function(){var i,r=function(){function t(){this.Q_=64e3,this.Z_=5e3,this.$_=2e3,this.$d=8e3,this.gr=!!self.TextEncoder,this.gr&&(this.tb=new TextEncoder)}return t.prototype.Bo=function(e){return this.tb.encode(e).byteLength},t.prototype.rv=function(e,n,o){var a=0;e[n]&&(a+=this.Bo(e[n]),a>this.$d&&(a=0,e[n]=gt.ELLIPSIS)),e[o]&&(a+=this.Bo(csJSON.stringify(e[o])),a>this.$d&&(e[o]=t.truncatedObjectMarker))},t.prototype.eb=function(e){e.queryParameters&&this.Bo(e.queryParameters)>this.$_&&(e.queryParameters=gt.ELLIPSIS)},t.prototype.rb=function(e){e.requestBody&&this.Bo(e.requestBody)>this.Q_&&(e.requestBody=gt.ELLIPSIS),e.responseBody&&this.Bo(e.responseBody)>this.Z_&&(e.responseBody=gt.ELLIPSIS)},t.prototype.truncate=function(e){this.gr?(this.eb(e),this.rb(e),this.rv(e,"customResponseHeaders","plainCustomResponseHeaders"),this.rv(e,"customRequestHeaders","plainCustomRequestHeaders")):(e.queryParameters="",e.requestBody="",e.responseBody="",e.customResponseHeaders="",e.customRequestHeaders="",e.plainCustomResponseHeaders={},e.plainCustomRequestHeaders={})},t}();return r.truncatedObjectMarker=(i={},i[gt.ELLIPSIS]=gt.ELLIPSIS,i),r}(),Wm=function(){var i;return function(r){function t(o){for(var a="[",s="]",u=[],c=0;c<o.length;++c)if(o[c]===a)csArray.prototype.push.call(u,o[c]);else if(o[c]===s)if(csString.prototype.indexOf.call(o,a)>-1)csArray.prototype.pop.call(u);else return!1;return u.length===0}function e(o){if(!o)return!0;if(!t(o))return!1;var a=csString.prototype.split.call(o,/[\[\]]/);return csArray.prototype.every.call(a,function(s){var u=s[0],c=s[s.length-1];if((u==="'"||u==='"')&&u!==c)return!1;var h=csString.prototype.split.call(s,".");return h[0].length===0&&csArray.prototype.shift.call(h),csArray.prototype.every.call(h,function(f){var p=/^\-?\d+$/.exec(f);return p?parseInt(p[0],10)>=0:f==="$"||/\w+/.test(f)})})}r.isValidJSONPath=e;function n(o,a){var s,u;if(o){var c=csString.prototype.split.call(o,/[\$\[\]]/),h=[];csArray.prototype.forEach.call(c,function(w){var E;if(w[0]==="'"||w[0]==='"'){csArray.prototype.push.call(h,csString.prototype.substring.call(w,1,w.length-1));return}(E=csArray.prototype.push).call.apply(E,_r([h],Se(csArray.prototype.filter.call(csString.prototype.split.call(w,"."),function(_){return _.length>0})),!1))}),h[0]==="$"&&csArray.prototype.shift.call(h);var f=a;try{for(var p=ie(h),d=p.next();!d.done;d=p.next()){var m=d.value;if(f[m]!==void 0)f=f[m];else return}}catch(w){s={error:w}}finally{try{d&&!d.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}return f}}r.getJSONPathValue=n}(i||(i={})),i}(),Ym=function(){var i=function(){function r(){this.nb=new Set(["age","cache-control","clear-site-data","expires","pragma","warning","downlink","ect","rtt","last-modified","connection","keep-alive","accept","accept-encoding","accept-language","expect","access-control-allow-origin","access-control-allow-credentials","access-control-allow-headers","access-control-allow-methods","access-control-expose-headers","access-control-max-age","access-control-request-headers","access-control-request-method","origin","timing-allow-origin","content-length","content-type","content-encoding","content-language","via","host","referrer-policy","user-agent","allow","server","accept-ranges","range","if-range","content-range","cross-origin-embedder-policy","cross-origin-opener-policy","cross-origin-resource-policy","content-security-policy","content-security-policy-report-only","expect-ct","feature-policy","strict-transport-security","upgrade-insecure-requests","x-content-type-options","x-download-options","x-frame-options","x-permitted-cross-domain-policies","x-powered-by","x-xss-protection","sec-fetch-site","sec-fetch-mode","sec-fetch-user","sec-fetch-dest"])}return r.prototype.isValidStandardHeader=function(t){return this.nb.has(t)},r}();return i}(),Ol=function(){var i=function(){function r(){this.ib=64e3,this.ob=100,this.L={collectQueryParam:!1,collectRequestBody:!1,collectResponseBody:!1,matchingBodyContents:[],plainResponseBodyAttributes:{},plainRequestBodyAttributes:{},requestBodyAttributes:{},responseBodyAttributes:{},standardRequestHeaders:{},standardResponseHeaders:{},customRequestHeaders:{},customResponseHeaders:{},plainCustomRequestHeaders:{},plainCustomResponseHeaders:{}},this.nv=new Ym}return r.prototype.ab=function(t){return t.length<=this.ib},r.prototype.sb=function(t){var e=t["content-type"];return e!==void 0&&(ke(e,"application/json")||ke(e,"application/graphql"))},r.prototype.cb=function(t,e){return t&&this.ab(t)&&this.sb(e)},r.prototype.bs=function(t,e,n,o){var a=o==="request"?this.lb:this.hb;if(a!==void 0||this.cb(e,n)){if(a===void 0)try{a=csJSON.parse(e),o==="request"?this.lb=a:this.hb=a}catch(c){return}var s=Wm.getJSONPathValue(t,a);if(s!==void 0&&(s===null||!ue(s))){var u=J(s)?s:csJSON.stringify(s);return gt.truncate(u,this.ob,gt.ELLIPSIS)}}},r.prototype.isBodyAttributeValueFound=function(t,e){var n,o;return(e.type==="request-response"||e.type==="response")&&(n=this.bs(e.path,t.responseBody,t.responseHeaders,"response")),(e.type==="request-response"||e.type==="request")&&(o=this.bs(e.path,t.requestBody,t.requestHeaders,"request")),ot(n)||ot(o)},r.prototype.collectBodyAttribute=function(t,e,n){var o;(e.type==="request-response"||e.type==="response")&&(o=this.bs(e.path,t.responseBody,t.responseHeaders,"response"),o&&(e.encrypted?this.L.responseBodyAttributes[e.path]=o:(o=n(o),this.L.plainResponseBodyAttributes[e.path]=o))),(e.type==="request-response"||e.type==="request")&&(o=this.bs(e.path,t.requestBody,t.requestHeaders,"request"),o&&(e.encrypted?o&&(this.L.requestBodyAttributes[e.path]=o):(o=n(o),this.L.plainRequestBodyAttributes[e.path]=o)))},r.prototype.isBodyContentMatching=function(t,e){if(!t.responseBody)return!1;var n=new csRegExp(e,"i");return!!n.test(t.responseBody)},r.prototype.collectBodyContent=function(t){csArray.prototype.indexOf.call(this.L.matchingBodyContents,t)===-1&&csArray.prototype.push.call(this.L.matchingBodyContents,t)},r.prototype.collectCustomHeaders=function(t,e,n){var o=csString.prototype.toLocaleLowerCase.call(e.headerName);t.responseHeaders[o]&&(e.type==="request-response"||e.type==="response")&&(e.encrypted?this.L.customResponseHeaders[o]=t.responseHeaders[o]:this.L.plainCustomResponseHeaders[o]=n(t.responseHeaders[o])),t.requestHeaders[o]&&(e.type==="request-response"||e.type==="request")&&(e.encrypted?this.L.customRequestHeaders[o]=t.requestHeaders[o]:this.L.plainCustomRequestHeaders[o]=n(t.requestHeaders[o]))},r.prototype.collectStandardHeaders=function(t){var e,n,o,a;if(!(Object.keys(this.L.standardRequestHeaders).length>0||Object.keys(this.L.standardResponseHeaders).length>0)){try{for(var s=D(Object.entries(t.requestHeaders)),u=s.next();!u.done;u=s.next()){var c=it(u.value,2),h=c[0],f=c[1];this.nv.isValidStandardHeader(h)&&(this.L.standardRequestHeaders[h]=f)}}catch(w){e={error:w}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}try{for(var p=D(Object.entries(t.responseHeaders)),d=p.next();!d.done;d=p.next()){var m=it(d.value,2),h=m[0],f=m[1];this.nv.isValidStandardHeader(h)&&(this.L.standardResponseHeaders[h]=f)}}catch(w){o={error:w}}finally{try{d&&!d.done&&(a=p.return)&&a.call(p)}finally{if(o)throw o.error}}}},r.prototype.setCollectQueryParam=function(t){t&&(this.L.collectQueryParam=!0)},r.prototype.setCollectResponseBody=function(t){t&&(this.L.collectResponseBody=!0)},r.prototype.setCollectRequestBody=function(t){t&&(this.L.collectRequestBody=!0)},r.prototype.getCollectedDataPoints=function(){return this.L},r}();return i}(),Ge=function(){var i;return function(r){r.CONTENTSQUARE="contentsquare.net",r.CLICKTALE="clicktale.net",r.FAKE_TRACKER="fake-tracker.content-square.fr"}(i||(i={})),i}(),Nl=function(){var i=function(){function r(){}return r.prototype.computeApiErrorCollectionOptions=function(){var t,e,n=new Set,o=[];if(this.rules)try{for(var a=D(this.rules),s=a.next();!s.done;s=a.next()){var u=s.value;u.statusCode!==void 0&&n.add(u.statusCode),u.url!==void 0&&csArray.prototype.indexOf.call(o,u.url)===-1&&csArray.prototype.push.call(o,u.url)}}catch(h){t={error:h}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}var c=[Ge.CONTENTSQUARE,Ge.CLICKTALE];return csArray.prototype.push.call(c,Ge.FAKE_TRACKER),{statusCodes:n,urls:o,excludedDomains:c}},r}();return i}(),Ml=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.Tt=e,o.I=n,o.rules=e.collectionRules,o}return t.prototype.collectDataPoints=function(e,n){var o,a;this.L=new Ol;var s=!1;if(this.Tt.collectionRules)try{for(var u=D(this.Tt.collectionRules),c=u.next();!c.done;c=u.next()){var h=c.value;this.fb(h,e)&&this.pb(h,e)&&this.db(h,e)&&(s=!0,this.vb(e,h,n))}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s||(s=this.yb(e)),s&&n&&this.Tt.collectStandardHeaders&&this.L.collectStandardHeaders(e),s?this.L.getCollectedDataPoints():null},t.prototype.computeApiErrorCollectionOptions=function(){var e,n,o=this.Tt.collectionRules||[],a=new Set,s=[];try{for(var u=D(o),c=u.next();!c.done;c=u.next()){var h=c.value;h.statusCode!==void 0&&a.add(h.statusCode),h.url!==void 0&&csArray.prototype.indexOf.call(s,h.url)===-1&&csArray.prototype.push.call(s,h.url)}}catch(p){e={error:p}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var f=[Ge.CONTENTSQUARE,Ge.CLICKTALE];return csArray.prototype.push.call(f,Ge.FAKE_TRACKER),{statusCodes:a,urls:s,excludedDomains:f}},t.prototype.fb=function(e,n){return(!e.statusCode&&n.statusCode>=400||e.statusCode!==void 0&&e.statusCode===n.statusCode)&&(!e.url||csString.prototype.indexOf.call(n.url,e.url)!==-1)},t.prototype.pb=function(e,n){return e.bodyContent?this.L.isBodyContentMatching(n,e.bodyContent):!0},t.prototype.db=function(e,n){var o=csArray.prototype.find.call(e.bodyAttributePaths,function(a){return a.primary});return o===void 0?!0:this.L.isBodyAttributeValueFound(n,o)},t.prototype.yb=function(e){return e.statusCode>=400},t.prototype.vb=function(e,n,o){var a,s,u,c,h=this;n.bodyContent&&this.L.collectBodyContent(n.bodyContent);var f=Fe(n.bodyAttributePaths,function(R){return R.primary===1});if(f&&this.L.collectBodyAttribute(e,f,function(R){return h.I.anonymizePII(R)}),o){this.L.setCollectQueryParam(n.collectQueryParam),this.L.setCollectResponseBody(n.collectResponseBody),this.L.setCollectRequestBody(n.collectRequestBody);try{for(var p=D(n.customHeaders),d=p.next();!d.done;d=p.next()){var m=d.value;this.L.collectCustomHeaders(e,m,function(R){return h.I.anonymizePII(R)})}}catch(R){a={error:R}}finally{try{d&&!d.done&&(s=p.return)&&s.call(p)}finally{if(a)throw a.error}}var w=sa(n.bodyAttributePaths,function(R){return!R.primary});try{for(var E=D(w),_=E.next();!_.done;_=E.next()){var b=_.value;this.L.collectBodyAttribute(e,b,function(R){return h.I.anonymizePII(R)})}}catch(R){u={error:R}}finally{try{_&&!_.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}},t}(Nl);return i}(),xl=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.Tt=e,o.I=n,o.rules=e.configurableApiErrorRules,o}return t.prototype.collectDataPoints=function(e,n){this.L=new Ol;var o=this.gb(e,this.Tt.configurableApiErrorRules);return o.isMatching?(o.matchingBodyContents.length>0&&this.L.collectBodyContent(o.matchingBodyContents[0]),n&&this.mb(e),this.L.getCollectedDataPoints()):null},t.prototype.computeApiErrorCollectionOptions=function(){var e,n,o=this.Tt.configurableApiErrorRules||[],a=new Set,s=[];try{for(var u=D(o),c=u.next();!c.done;c=u.next()){var h=c.value;h.statusCode!==void 0&&a.add(h.statusCode),h.url!==void 0&&csArray.prototype.indexOf.call(s,h.url)===-1&&csArray.prototype.push.call(s,h.url)}}catch(p){e={error:p}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}var f=[Ge.CONTENTSQUARE,Ge.CLICKTALE];return csArray.prototype.push.call(f,Ge.FAKE_TRACKER),{statusCodes:a,urls:s,excludedDomains:f}},t.prototype.gb=function(e,n){var o,a;if(e.statusCode>=400)return{isMatching:!0,matchingBodyContents:[]};if(n)try{for(var s=D(n),u=s.next();!u.done;u=s.next()){var c=u.value;if(this.Sb(e,c))return{isMatching:!0,matchingBodyContents:c.bodyContent?[c.bodyContent]:[]}}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return{isMatching:!1,matchingBodyContents:[]}},t.prototype.Sb=function(e,n){return!!(e.statusCode===n.statusCode&&csString.prototype.indexOf.call(e.url,n.url)!==-1&&(!n.bodyContent||this.L.isBodyContentMatching(e,n.bodyContent)))},t.prototype.mb=function(e){this.Tt.collectStandardHeaders&&this.L.collectStandardHeaders(e),this.Tt.validCustomHeaders&&this.iv(e,this.Tt.validCustomHeaders,1),this.Tt.plainCustomHeaders&&this.iv(e,this.Tt.plainCustomHeaders,0),this.Cl(e.url,this.Tt.validUrls)&&(this.Tt.collectQueryParam&&this.L.setCollectQueryParam(Number(this.Tt.collectQueryParam)),this.Tt.collectResponseBody&&this.L.setCollectResponseBody(Number(this.Tt.collectResponseBody)),this.Tt.collectRequestBody&&this.L.setCollectRequestBody(Number(this.Tt.collectRequestBody)))},t.prototype.iv=function(e,n,o){var a,s,u=this;try{for(var c=D(n),h=c.next();!h.done;h=c.next()){var f=h.value;this.L.collectCustomHeaders(e,{headerName:f,encrypted:o,type:"request-response"},function(p){return u.I.anonymizePII(p)})}}catch(p){a={error:p}}finally{try{h&&!h.done&&(s=c.return)&&s.call(c)}finally{if(a)throw a.error}}},t.prototype.Cl=function(e,n){return n?csArray.prototype.some.call(n,function(o){return csString.prototype.indexOf.call(e,o)!==-1}):!1},t}(Nl);return i}();function Xm(i){return tt.traverse(i,function(r){if(r.nodeType===11){var t=tt.getProperty(r,"styles");t&&(r.adoptedStyleSheets=t)}}),i}function Km(i){if(i!=null&&i.length)return Ne(i,function(r){return Qm(r)})}function Jm(){ne(document).visitAll(function(i){var r;if(nn(i)&&((r=i.adoptedStyleSheets)===null||r===void 0?void 0:r.length)>0){var t=Km(i.adoptedStyleSheets);tt.setProperty(i,"styles",t)}})}function Qm(i){var r=[];try{r=Ne(i.cssRules,function(t){return t.cssText})}catch(t){}return{cssRules:r}}var kl=function(){var i=function(r){mt(t,r);function t(e){var n=r.call(this)||this;return n.V=null,n.As=null,n.P=null,n.Hr=null,n.ov=["value","checked","src","data","alt"],n.Ts={state:H.MaskedElementState.Child},n.wb=function(o){var a,s;try{for(var u=dt(o),c=u.next();!c.done;c=u.next()){var h=c.value;if(H.isMaskedElement(h.target)||H.isMaskedElementChild(h.target))for(var f=0;f<h.addedNodes.length;f+=1){var p=h.addedNodes[f];H.isMaskedElement(p)||H.isMaskedElementChild(p)||Et(p)&&n.av(p)}for(var f=0;f<h.removedNodes.length;f+=1){var d=h.removedNodes[f];It.isConnected(d)||n.sv(d)}}}catch(m){a={error:m}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(a)throw a.error}}},n._b=e,n}return t.prototype.setMaskedElementSettings=function(e){this.Tr=e},t.prototype.startIdentifier=function(){this.isStarted||(this.isStarted=!0,this.onStart())},t.prototype.stopIdentifier=function(){return this.isStarted=!1,this.onStop()},t.prototype.start=function(){},t.prototype.stop=function(){},t.prototype.onStart=function(){var e=this,n,o,a,s;this.Tr||(bt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.Tr={elementSelector:"",attrSelector:"",attrSelectors:[]});var u=this.Tr,c=u.elementSelector,h=u.attrSelector,f=u.attrSelectors;(n=this.Hr)!==null&&n!==void 0||(this.Hr=this.bb()),c.length!==0&&((o=this.V)!==null&&o!==void 0||(this.V=this.Ab()),this.V.observe(c)),h.length!==0&&((a=this.As)!==null&&a!==void 0||(this.As=this.Tb(f)),this.As.observe(h)),(s=this.P)!==null&&s!==void 0||(this.P=new Xe(this.wb,function(p,d){return d==="added"&&e.Rb(p)})),this.P.observe(),csSetTimeout(this._b)},t.prototype.onStop=function(){var e,n,o;this.V&&(this.sv(document),this.V.disconnect()),(e=this.As)===null||e===void 0||e.disconnect(),(n=this.P)===null||n===void 0||n.disconnect(),(o=this.Hr)===null||o===void 0||o.disconnect()},t.prototype.bb=function(){var e=this;return window.ResizeObserver?new ResizeObserver(function(n){csArray.prototype.forEach.call(n,function(o){e.resizeObserverCallback(o)})}):null},t.prototype.Ab=function(){var e=this;return new ln(function(n){csArray.prototype.forEach.call(n,function(o){e.Cb(o)?e.av(o):(e.Ib(o),e.Pb(o))})})},t.prototype.Tb=function(e){var n=this;return new ln(function(o){csArray.prototype.forEach.call(o,function(a){return n.Ob(a,e)})})},t.prototype.resizeObserverCallback=function(e){var n=e.target.getBoundingClientRect(),o=H.getMaskedElementDetails(e.target);if(o.state===H.MaskedElementState.Parent&&!(n.width===o.width&&n.height===o.height)){var a={state:H.MaskedElementState.Parent,width:n.width,height:n.height};H.setMaskedElementProperty(e.target,a),this.produceEvent({type:"ResizeMaskedElement",target:lt(e.target),width:n.width,height:n.height})}},t.prototype.Pb=function(e){!this.Hr||!Et(e)||Mi(e)||this.Hr.observe(e)},t.prototype.Cb=function(e){var n=csNodeparentNode.apply(e);return n?H.isMaskedElement(n)||H.isMaskedElementChild(n):nn(e)?H.isMaskedElement(e.host)||H.isMaskedElementChild(e.host):!1},t.prototype.Rb=function(e){(H.isMaskedElement(e.host)||H.isMaskedElementChild(e.host))&&H.setMaskedElementProperty(e,this.Ts)},t.prototype.sv=function(e){var n=ne(e,NodeFilter.SHOW_ELEMENT);n.visitAll(function(o){H.unsetMaskedElementProperty(o)})},t.prototype.Ib=function(e){var n=this,o=e.getBoundingClientRect(),a={state:H.MaskedElementState.Parent,width:o.width,height:o.height};H.setMaskedElementProperty(e,a),this.Nb(e),ne(e).visitAll(function(s){return s!=e&&H.setMaskedElementProperty(s,n.Ts)})},t.prototype.av=function(e){var n=this;H.setMaskedElementProperty(e,this.Ts),ne(e).visitAll(function(o){return o!=e&&H.setMaskedElementProperty(o,n.Ts)})},t.prototype.Nb=function(e){for(var n,o=(n=tt.getProperty(e,H.maskedAttributeProp))!==null&&n!==void 0?n:{attributes:[]},a=0;a<this.ov.length;a+=1){var s=this.ov[a];csArray.prototype.indexOf.call(o.attributes,s)===-1&&csArray.prototype.push.call(o.attributes,s)}o.attributes.length!==0&&H.setMaskedAttributeProperty(e,o)},t.prototype.Ob=function(e,n){for(var o,a=(o=tt.getProperty(e,H.maskedAttributeProp))!==null&&o!==void 0?o:{attributes:[]},s=function(c){var h=e.attributes[c].name;csArray.prototype.indexOf.call(a.attributes,h)===-1&&csArray.prototype.some.call(n,function(f){return csString.prototype.indexOf.call(f.attrName,h)>-1&&le.call(e,f.selector)})&&csArray.prototype.push.call(a.attributes,h)},u=0;u<e.attributes.length;u+=1)s(u);a.attributes.length!==0&&H.setMaskedAttributeProperty(e,a)},t}(De);return ze([B()],i.prototype,"resizeObserverCallback",null),i}(),Dl=function(){var i=function(){function r(){var t=this;this.Pl=0,this.N=!1,this.uv="data-cs-capture",this.Kr=function(e){var n,o;try{for(var a=dt(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(Re.isWhitelistedElement(u.target))for(var c=0;c<u.addedNodes.length;c+=1){var h=u.addedNodes[c];Re.isWhitelistedElement(h)||Et(h)&&t.cv(h)}for(var c=0;c<u.removedNodes.length;c+=1){var f=u.removedNodes[c];It.isConnected(f)||t.lv(f)}}}catch(p){n={error:p}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}}return r.prototype.start=function(){this.Pl++,!this.N&&(this.N=!0,this.Mb())},r.prototype.Mb=function(){var t=this;this.V||(this.V=new ln(function(n){return rt(n,function(o){return t.cv(o)})}));var e=this.Ol?"[".concat(this.uv,"], ").concat(this.Ol):"[".concat(this.uv,"]");this.V.observe(e),this.P||(this.P=new Xe(this.Kr,function(n,o){return o==="added"&&t.xb(n)})),this.P.observe()},r.prototype.stop=function(){this.N&&(this.Pl--,this.Pl===0&&(this.N=!1,this.kb()))},r.prototype.kb=function(){this.V&&(this.lv(document),this.V.disconnect()),this.P&&this.P.disconnect()},r.prototype.setWhitelistedElementsSelector=function(t,e){if(e===void 0&&(e=!0),tn(t))this.Ol=t;else if(e)throw new Error("Command misuse: setCapturedElementsSelector")},r.prototype.getWhitelistedElementsSelector=function(){return this.Ol},r.prototype.cv=function(t){ne(t).visitAll(function(e){Re.whitelistElement(e)})},r.prototype.xb=function(t){Re.isWhitelistedElement(t.host)&&Re.whitelistElement(t)},r.prototype.lv=function(t){var e=ne(t,NodeFilter.SHOW_ELEMENT);e.visitAll(function(n){Re.removeWhitelistElement(n)})},r}();return i}(),Ll=function(){var i=function(){function r(){var t=this;this.V=null,this.P=null,this.N=!1,this.Kr=function(e){var n,o;try{for(var a=dt(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(Be.isEditableNode(u.target))for(var c=0;c<u.addedNodes.length;c+=1){var h=u.addedNodes[c];if(!Be.isEditableNode(h)){if(_i(h)||$f(h)){Be.markEditableNode(h);continue}Et(h)&&t.hv(h)}}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}}return r.prototype.start=function(){var t=this;this.N||(this.N=!0,this.V=new ln(function(e){return rt(e,function(n){t.hv(n)})}),this.V.observe("[contenteditable]"),this.P=new Xe(this.Kr,function(e,n){return n==="added"&&t.Db(e)}),this.P.observe())},r.prototype.stop=function(){var t,e;this.N&&(this.N=!1,(t=this.V)===null||t===void 0||t.disconnect(),this.V=null,(e=this.P)===null||e===void 0||e.disconnect(),this.P=null)},r.prototype.hv=function(t){ne(t).visitAll(function(e){Be.markEditableNode(e)})},r.prototype.Db=function(t){Be.isEditableNode(t.host)&&Be.markEditableNode(t)},r}();return i}();var Zm=function(){return function(i){var r=i*60*1e3;return"".concat(Math.floor(csDate.now()/r))}}(),$m=function(){return 5e3}(),tS=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this,e,n)||this;return a.Ci=null,a.Ub=(o==null?void 0:o.type)||"json",a.pv=o==null?void 0:o.cacheMinutes,a.Gi=o==null?void 0:o.timeout,a}return t.prototype.onLoad=function(e){this.Kn=e},t.prototype.onError=function(e){this.Fi=e},t.prototype.onTimeout=function(e,n){this.Sn=e,this.Gi=n},t.prototype.send=function(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,function(a){return a()});var e=this.retrieveParameters();this.ru(e);var n=jn.toQuery(e),o="".concat(this.domainUri).concat(this.path?"/".concat(this.path):"","?").concat(n);this.Zc(o,this.Ub)},t.prototype.abort=function(){this.Ci&&(this.Ci.abort(),this.Ci=null)},t.prototype.isInProgress=function(){return this.Ci!==null},t.prototype.Zc=function(e,n){var o=this,a,s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType=n,s.onerror=function(){var u;return(u=o.Fi)===null||u===void 0?void 0:u.call(o,s)},s.ontimeout=function(){var u;return(u=o.Sn)===null||u===void 0?void 0:u.call(o,s)},s.onload=function(){var u,c;s.status>=200&&s.status<400?((u=o.Kn)===null||u===void 0||u.call(o,o.Vb(s,n)?s.response:s.responseText),csArray.prototype.forEach.call(o.afterRequestCallbacks,function(h){return h()})):(c=o.Fi)===null||c===void 0||c.call(o,s)},s.onloadend=function(){o.Ci=null},s.timeout=(a=this.Gi)!==null&&a!==void 0?a:$m,this.Ci=s,s.send()},t.prototype.Vb=function(e,n){var o=e.getResponseHeader("Content-Type");return o===null?n==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(o),"json")>0},t.prototype.ru=function(e){var n;this.pv?n="".concat(Zm(this.pv)):n=csString.prototype.slice.call("".concat(Math.random()),2,8),e.r=n},t}(xu);return i}();var eS=function(){return["identify"]}(),rS=function(){return["getIdentity"]}(),nS=function(){return["resetIdentity"]}();var iS=function(){var i=function(){function r(t,e,n,o,a){this.ot=t,this.yt=e,this.ve=n,this.Ot=o,this.tt=a}return r.prototype.getSensitiveStatus=function(){var t,e;return{started:this.ve.isStarted,useAnonymization:this.ot.shouldUseAnonymization(),capturedElementSelector:this.Ot.getWhitelistedElementsSelector(),maskedElementSettings:this.yt.getMaskedElementSettings((t=this.ot)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.tt)===null||e===void 0?void 0:e.getEncryptionSelectors()}},r.prototype.getElementSensitiveStatus=function(t){var e=this.ve.isStarted,n=this.ot.shouldUseAnonymization();return e?H.isMaskedElement(t)||H.isMaskedElementChild(t)?Xt.MASKED:wc.shouldEncrypt(t)?Xt.ENCRYPTED:Be.isEditableNode(t)?Xt.ANONYMIZED:n?Re.isWhitelistedElement(t)?Xt.CAPTURED:Xt.ANONYMIZED:Xt.CAPTURED:Xt.ANONYMIZED},r}();return i}(),Ul=function(){return["setEncryptionSelectors"]}(),qi=function(){return["setPIISelectors"]}(),xa=function(){return["setCapturedElementsSelector"]}(),oS=function(){var i=function(){function r(t,e,n,o,a,s,u){this.S=t,this.f=e,this.yt=n,this.ve=o,this.Ot=a,this.tt=s,this.Oi=u}return r.prototype.init=function(){var t,e;this.Oi&&this.tt&&((t=this.Oi)===null||t===void 0||t.addSelector((e=this.tt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.lt()},r.prototype.onStartTracking=function(t){this.ve.start(),this.S.emitSensitiveStatusChange()},r.prototype.onBeforeArtificialPageView=function(){this.ve.stop(),this.S.emitSensitiveStatusChange()},r.prototype.onAfterArtificialPageView=function(){this.ve.start(),this.S.emitSensitiveStatusChange()},r.prototype.onBeforeSessionRenewal=function(){this.ve.stop(),this.S.emitSensitiveStatusChange()},r.prototype.onOptout=function(){this.ve.stop(),this.S.emitSensitiveStatusChange()},r.prototype.onReplayUnanonymizationConsentGranted=function(){this.S.emitSensitiveStatusChange()},r.prototype.onReplayUnanonymizationConsentWithdrawn=function(){this.S.emitSensitiveStatusChange()},r.prototype.lt=function(){var t=this;this.f.register(qi,function(e){t.yt.setMaskedElementSettingsFromCommand(e),t.S.emitSensitiveStatusChange()}),this.f.register(xa,function(e){t.Ot.setWhitelistedElementsSelector(e),t.S.emitSensitiveStatusChange()}),this.f.register(Ul,function(e){var n,o;(n=t.tt)===null||n===void 0||n.setEncryptionSelectors(e),(o=t.Oi)===null||o===void 0||o.addSelector(e)})},r}();return i}(),ka=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u){var c=r.call(this)||this;return c.jt=e,c.yt=n,c.Ot=o,c.Oi=a,c.Ni=s,c.ot=u,c}return t.prototype.onStart=function(){var e,n,o;this.Ot.start(),this.jt.setMaskedElementSettings(this.yt.getMaskedElementSettings((e=this.ot)===null||e===void 0?void 0:e.shouldMaskNonTextElements())),this.jt.startIdentifier(),(n=this.Oi)===null||n===void 0||n.start(),(o=this.Ni)===null||o===void 0||o.start()},t.prototype.onStop=function(){var e,n;this.Ot.stop(),this.jt.stopIdentifier(),(e=this.Oi)===null||e===void 0||e.stop(),(n=this.Ni)===null||n===void 0||n.stop()},t}(wt);return i}(),Da=function(){return["networkRequest:maskUrls"]}(),La=function(){return["networkRequest:maskUrls:reset"]}(),aS=function(){var i=function(){function r(t,e){this.mv=t,this.ut=e}return r.prototype.init=function(){var t=this;this.mv.register(Da,function(e){var n,o;if(J(e)){t.ut.addPartialUrlMaskingPattern(e);return}if(csArray.isArray(e))try{for(var a=D(e),s=a.next();!s.done;s=a.next()){var u=s.value;J(u)&&t.ut.addPartialUrlMaskingPattern(u)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}),this.mv.register(La,function(){return t.ut.resetPartialUrlMaskingPatterns()})},r}();return i}(),sS=function(){return/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|…$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|…$)/gi}(),uS=function(){return"$1$4CS_ANONYMIZED_NAME$3$6"}(),cS=function(){return/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g}(),lS=function(){return"CS_ANONYMIZED_PHONE"}(),Vl=function(){var i=function(){function r(t,e){this.I=t,this.K=e}return r.prototype.anonymize=function(t){var e=this;return this.K?csArray.prototype.join.call(csArray.prototype.map.call(Ev(t),function(n){var o=n.content,a=n.isUrl,s;return a?(s=e.K)===null||s===void 0?void 0:s.anonymizeUrl(o,{maskNames:!0}):e.Sv(o)}),""):this.Sv(t)},r.prototype.Sv=function(t){t=this.I.anonymizePII(t);var e=t;t=this.ko(t),t!==e&&(pt.counters.redactedPII.count("name"),pt.counters.redactedPII.count("name-in-custom-error"));var n=t;return t=this.Jb(t),t!==n&&(pt.counters.redactedPII.count("phone"),pt.counters.redactedPII.count("phone-in-custom-error")),t},r.prototype.ko=function(t){return csString.prototype.replace.call(t,sS,uS)},r.prototype.Jb=function(t){return csString.prototype.replace.call(t,cS,lS)},r}();return i}(),su=function(){var i;return function(r){function t(f,p){var d,m;try{for(var w=D(f),E=w.next();!E.done;E=w.next()){var _=E.value;if(n(_,p))return!0}}catch(b){d={error:b}}finally{try{E&&!E.done&&(m=w.return)&&m.call(w)}finally{if(d)throw d.error}}return!1}r.isUrlMatching=t;function e(f,p){var d,m,w,E;if(J(p))try{for(var _=D(f),b=_.next();!b.done;b=_.next()){var R=b.value;if(n(R,p))return!0}}catch(U){d={error:U}}finally{try{b&&!b.done&&(m=_.return)&&m.call(_)}finally{if(d)throw d.error}}else if(Io(p))try{for(var A=D(f),I=A.next();!I.done;I=A.next()){var R=I.value;if(n(R,csString(p)))return!0}}catch(U){w={error:U}}finally{try{I&&!I.done&&(E=A.return)&&E.call(A)}finally{if(w)throw w.error}}return!1}r.isMatching=e;function n(f,p){var d=o(f,p);return f.negate?!d:d}function o(f,p){switch(f.rule_type==="date"&&(f.match_operation==="less_than"||f.match_operation==="greater_than")&&(p=(new csDate(p).valueOf()/1e3).toFixed(0)),f.match_operation){case"exact":switch(f.rule_type){case"string":return J(f.pattern)?csString.prototype.toLowerCase.call(p)===csString.prototype.toLowerCase.call(f.pattern):!1;case"boolean":return p===f.pattern||p===csString(f.pattern);case"number":return Ht(p)?Number(p)===Number(f.pattern):!1;default:return p===f.pattern}case"starts_with":return J(f.pattern)?csString.prototype.indexOf.call(p,f.pattern)===0:!1;case"ends_with":return J(f.pattern)?zn(p,f.pattern):!1;case"contains":return J(f.pattern)?csString.prototype.indexOf.call(p,f.pattern)!==-1:!1;case"regex":if(!J(f.pattern))return!1;try{return new csRegExp(f.pattern).test(p)}catch(E){return F.warn("targeting.matchOperation.regex invalid ".concat(E==null?void 0:E.message)),!1}case"simple":return J(f.pattern)?h(p)===h(f.pattern):!1;case"greater_than":return Number(p)>Number(f.pattern);case"less_than":return Number(p)<Number(f.pattern);case"exact_date":{var d=Number(f.pattern);if(!Ie(d))return!1;var m=new csDate(d*1e3),w=new csDate(p);return w.toDateString()===m.toDateString()}case"exact_days_ago":return a(f,p);case"more_than_days_ago":return s(f,p);case"less_than_days_ago":return u(f,p);case"unknown":return c(p);default:return F.warn("targeting.matchOperation.regex not managed operation ".concat(f.match_operation)),!1}}function a(f,p){var d=new csDate,m=d.setDate(d.getDate()-Number(f.pattern)),w=new csDate(m),E=new csDate(p);return E.toDateString()===w.toDateString()}function s(f,p){var d=Number(f.pattern);if(!Ie(d))return!1;var m=Number(d)+1,w=new csDate,E=new csDate(w);return E.setDate(w.getDate()-m),new csDate(p).getTime()<=E.getTime()}function u(f,p){var d=Number(f.pattern);if(!Ie(d))return!1;if(d===0)return a(f,p);var m=new csDate,w=new csDate(m);return w.setDate(m.getDate()-d),new csDate(p).getTime()>=w.getTime()}function c(f){return Ht(f)?J(f)?csString.prototype.trim.call(f)==="":Io(f)?f===!0:Ie(f)?f!==0:!1:!0}function h(f){var p=ke(f,"http://")||ke(f,"https://")?f:"https://".concat(f),d=fa(p);return d!==null?csString.prototype.replace.call(d.host,/^www./,""):f}}(i||(i={})),i}(),hS=function(){var i=function(){function r(){this.Ev=[],this.wv=[]}return r.prototype.setTargetingRules=function(t){var e,n;try{for(var o=D(t),a=o.next();!a.done;a=o.next()){var s=a.value;s.component==="url"?csArray.prototype.push.call(this.Ev,s):s.component==="trigger"&&csArray.prototype.push.call(this.wv,s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},r.prototype.matchUrl=function(t){return su.isUrlMatching(this.Ev,t)},r.prototype.matchTrigger=function(t){return su.isMatching(this.wv,t)},r}();return i}(),fS=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this)||this;return a.Cs=e,a.Ul=n,a.A=o,a}return t.prototype.init=function(){this.Vl=new hS,this.Cs&&this.Vl.setTargetingRules(this.Cs)},t.prototype.onStart=function(){},t.prototype.checkInitialUrlTargetingRules=function(){var e=this.A.getAnonymizedUrl();this.jl(e,"url")&&this.Ul()},t.prototype.onStop=function(){},t.prototype.onTargetingRulesArtificialPageview=function(e){this.isStarted&&this.jl(e,"url")&&this.Ul()},t.prototype.onExternalEvent=function(e){this.isStarted&&this.jl(e.name,"trigger")&&this.Ul()},t.prototype.jl=function(e,n){var o,a;return n==="url"&&J(e)&&(!((o=this.Vl)===null||o===void 0)&&o.matchUrl(e))?!0:!!(n==="trigger"&&(!((a=this.Vl)===null||a===void 0)&&a.matchTrigger(e)))},t}(wt);return i}(),pS=function(){var i=function(){function r(t,e,n,o,a,s){this.Cs=t,this.Qb=e,this.S=n,this.et=o,this.Q=a,this.A=s}return r.prototype.init=function(){this.Fo=new fS(this.Cs,this.Qb,this.A),this.Q.addListener(this.Fo),this.Fo.init()},r.prototype.start=function(){this.Fo.start()},r.prototype.stop=function(){this.Fo.stop()},r.prototype.checkInitialUrlTargetingRules=function(){this.Fo.checkInitialUrlTargetingRules()},r.prototype.emitTargetingCollectState=function(){var t=this.et.getInitialCollectState();t===j.ANALYTICS_ONLY?this.S.emitCollectStateChange(j.ANALYTICS_ONLY_RULES_TARGETING,Ft.ETR_OFF):t===j.RECORDING_GLOBAL_SAMPLING&&this.S.emitCollectStateChange(j.RECORDING_RULES_TARGETING,Ft.ETR_OFF)},r}();return i}();var dS=function(){return["addUserProperties"]}();var vS=function(){var i;return function(r){r.COMPRESSION_DISABLED="compressionDisabled"}(i||(i={})),i}(),yS=function(){var i=function(){function r(){}return r.init=function(t){(!this.Hl||t!==void 0)&&this.initFlags(t)},r.initFlags=function(t){t===void 0&&(t=document.cookie);var e,n=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.Hl=new Map,n)for(var o=csString.prototype.split.call(n,"."),a=0;a<o.length;a++){var s=it(csString.prototype.split.call(o[a],"="),2),u=s[0],c=s[1];this.Hl.set(u,c||"true")}},r.getBoolean=function(t){var e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0},r.getString=function(t){var e;return this.init(),(e=this.Hl)===null||e===void 0?void 0:e.get(t)},r.isCompressionEnabled=function(){return!this.getBoolean(vS.COMPRESSION_DISABLED)},r.Log=function(t){return function(e,n,o){var a,s=n.toString(),u="".concat((a=e.constructor)===null||a===void 0?void 0:a.name,".").concat(s),c=o.value;gS(r.getString("debugLog"),t)&&(o.value=function(){for(var h=[],f=0;f<arguments.length;f++)h[f]=arguments[f];return console.log.apply(console,Ct([u],it(h),!1)),c.bind(this).apply(void 0,Ct([],it(h),!1))})}},r}();return i}();function gS(i,r){var t;return i==null?!1:i===r||!!(!((t=csString.prototype.match.call(i,new csRegExp("(^|,)("+r+")(,|$)")))===null||t===void 0)&&t.length)}function uu(){var i=4,r=0,t=1,e=2;function n(l){for(var y=l.length;--y>=0;)l[y]=0}var o=0,a=1,s=2,u=3,c=258,h=29,f=256,p=f+1+h,d=30,m=19,w=2*p+1,E=15,_=16,b=7,R=256,A=16,I=17,U=18,N=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),q=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=512,P=new Array((p+2)*2);n(P);var L=new Array(d*2);n(L);var Y=new Array(T);n(Y);var G=new Array(c-u+1);n(G);var at=new Array(h);n(at);var St=new Array(d);n(St);function Tt(l,y,g,S,v){this.static_tree=l,this.extra_bits=y,this.extra_base=g,this.elems=S,this.max_length=v,this.has_stree=l&&l.length}var zt,Le,Tr;function pe(l,y){this.dyn_tree=l,this.max_code=0,this.stat_desc=y}var Ue=function(l){return l<256?Y[l]:Y[256+(l>>>7)]},Ke=function(l,y){l.pending_buf[l.pending++]=y&255,l.pending_buf[l.pending++]=y>>>8&255},Nt=function(l,y,g){l.bi_valid>_-g?(l.bi_buf|=y<<l.bi_valid&65535,Ke(l,l.bi_buf),l.bi_buf=y>>_-l.bi_valid,l.bi_valid+=g-_):(l.bi_buf|=y<<l.bi_valid&65535,l.bi_valid+=g)},te=function(l,y,g){Nt(l,g[y*2],g[y*2+1])},zr=function(l,y){var g=0;do g|=l&1,l>>>=1,g<<=1;while(--y>0);return g>>>1},Kn=function(l){l.bi_valid===16?(Ke(l,l.bi_buf),l.bi_buf=0,l.bi_valid=0):l.bi_valid>=8&&(l.pending_buf[l.pending++]=l.bi_buf&255,l.bi_buf>>=8,l.bi_valid-=8)},Yi=function(l,y){var g=y.dyn_tree,S=y.max_code,v=y.stat_desc.static_tree,O=y.stat_desc.has_stree,C=y.stat_desc.extra_bits,x=y.stat_desc.extra_base,st=y.stat_desc.max_length,K,qt,or,vt,Or,Yr,ui=0;for(vt=0;vt<=E;vt++)l.bl_count[vt]=0;for(g[l.heap[l.heap_max]*2+1]=0,K=l.heap_max+1;K<w;K++)qt=l.heap[K],vt=g[g[qt*2+1]*2+1]+1,vt>st&&(vt=st,ui++),g[qt*2+1]=vt,!(qt>S)&&(l.bl_count[vt]++,Or=0,qt>=x&&(Or=C[qt-x]),Yr=g[qt*2],l.opt_len+=Yr*(vt+Or),O&&(l.static_len+=Yr*(v[qt*2+1]+Or)));if(ui!==0){do{for(vt=st-1;l.bl_count[vt]===0;)vt--;l.bl_count[vt]--,l.bl_count[vt+1]+=2,l.bl_count[st]--,ui-=2}while(ui>0);for(vt=st;vt!==0;vt--)for(qt=l.bl_count[vt];qt!==0;)or=l.heap[--K],!(or>S)&&(g[or*2+1]!==vt&&(l.opt_len+=(vt-g[or*2+1])*g[or*2],g[or*2+1]=vt),qt--)}},Jn=function(l,y,g){var S=new Array(E+1),v=0,O,C;for(O=1;O<=E;O++)S[O]=v=v+g[O-1]<<1;for(C=0;C<=y;C++){var x=l[C*2+1];x!==0&&(l[C*2]=zr(S[x]++,x))}},Xi=function(){var l,y,g,S,v,O=new Array(E+1);for(g=0,S=0;S<h-1;S++)for(at[S]=g,l=0;l<1<<N[S];l++)G[g++]=S;for(G[g-1]=S,v=0,S=0;S<16;S++)for(St[S]=v,l=0;l<1<<q[S];l++)Y[v++]=S;for(v>>=7;S<d;S++)for(St[S]=v<<7,l=0;l<1<<q[S]-7;l++)Y[256+v++]=S;for(y=0;y<=E;y++)O[y]=0;for(l=0;l<=143;)P[l*2+1]=8,l++,O[8]++;for(;l<=255;)P[l*2+1]=9,l++,O[9]++;for(;l<=279;)P[l*2+1]=7,l++,O[7]++;for(;l<=287;)P[l*2+1]=8,l++,O[8]++;for(Jn(P,p+1,O),l=0;l<d;l++)L[l*2+1]=5,L[l*2]=zr(l,5);zt=new Tt(P,N,f+1,p,E),Le=new Tt(L,q,0,d,E),Tr=new Tt(new Array(0),$,0,m,b)},Qn=function(l){var y;for(y=0;y<p;y++)l.dyn_ltree[y*2]=0;for(y=0;y<d;y++)l.dyn_dtree[y*2]=0;for(y=0;y<m;y++)l.bl_tree[y*2]=0;l.dyn_ltree[R*2]=1,l.opt_len=l.static_len=0,l.last_lit=l.matches=0},Zn=function(l){l.bi_valid>8?Ke(l,l.bi_buf):l.bi_valid>0&&(l.pending_buf[l.pending++]=l.bi_buf),l.bi_buf=0,l.bi_valid=0},vh=function(l,y,g,S){Zn(l),S&&(Ke(l,g),Ke(l,~g)),l.pending_buf.set(l.window.subarray(y,y+g),l.pending),l.pending+=g},Ha=function(l,y,g,S){var v=y*2,O=g*2;return l[v]<l[O]||l[v]===l[O]&&S[y]<=S[g]},Ki=function(l,y,g){for(var S=l.heap[g],v=g<<1;v<=l.heap_len&&(v<l.heap_len&&Ha(y,l.heap[v+1],l.heap[v],l.depth)&&v++,!Ha(y,S,l.heap[v],l.depth));)l.heap[g]=l.heap[v],g=v,v<<=1;l.heap[g]=S},Ba=function(l,y,g){var S,v,O=0,C,x;if(l.last_lit!==0)do S=l.pending_buf[l.d_buf+O*2]<<8|l.pending_buf[l.d_buf+O*2+1],v=l.pending_buf[l.l_buf+O],O++,S===0?te(l,v,y):(C=G[v],te(l,C+f+1,y),x=N[C],x!==0&&(v-=at[C],Nt(l,v,x)),S--,C=Ue(S),te(l,C,g),x=q[C],x!==0&&(S-=St[C],Nt(l,S,x)));while(O<l.last_lit);te(l,R,y)},Ji=function(l,y){var g=y.dyn_tree,S=y.stat_desc.static_tree,v=y.stat_desc.has_stree,O=y.stat_desc.elems,C,x,st=-1,K;for(l.heap_len=0,l.heap_max=w,C=0;C<O;C++)g[C*2]!==0?(l.heap[++l.heap_len]=st=C,l.depth[C]=0):g[C*2+1]=0;for(;l.heap_len<2;)K=l.heap[++l.heap_len]=st<2?++st:0,g[K*2]=1,l.depth[K]=0,l.opt_len--,v&&(l.static_len-=S[K*2+1]);for(y.max_code=st,C=l.heap_len>>1;C>=1;C--)Ki(l,g,C);K=O;do C=l.heap[1],l.heap[1]=l.heap[l.heap_len--],Ki(l,g,1),x=l.heap[1],l.heap[--l.heap_max]=C,l.heap[--l.heap_max]=x,g[K*2]=g[C*2]+g[x*2],l.depth[K]=(l.depth[C]>=l.depth[x]?l.depth[C]:l.depth[x])+1,g[C*2+1]=g[x*2+1]=K,l.heap[1]=K++,Ki(l,g,1);while(l.heap_len>=2);l.heap[--l.heap_max]=l.heap[1],Yi(l,y),Jn(g,st,l.bl_count)},Fa=function(l,y,g){var S,v=-1,O,C=y[0*2+1],x=0,st=7,K=4;for(C===0&&(st=138,K=3),y[(g+1)*2+1]=65535,S=0;S<=g;S++)O=C,C=y[(S+1)*2+1],!(++x<st&&O===C)&&(x<K?l.bl_tree[O*2]+=x:O!==0?(O!==v&&l.bl_tree[O*2]++,l.bl_tree[A*2]++):x<=10?l.bl_tree[I*2]++:l.bl_tree[U*2]++,x=0,v=O,C===0?(st=138,K=3):O===C?(st=6,K=3):(st=7,K=4))},Ga=function(l,y,g){var S,v=-1,O,C=y[0*2+1],x=0,st=7,K=4;for(C===0&&(st=138,K=3),S=0;S<=g;S++)if(O=C,C=y[(S+1)*2+1],!(++x<st&&O===C)){if(x<K)do te(l,O,l.bl_tree);while(--x!==0);else O!==0?(O!==v&&(te(l,O,l.bl_tree),x--),te(l,A,l.bl_tree),Nt(l,x-3,2)):x<=10?(te(l,I,l.bl_tree),Nt(l,x-3,3)):(te(l,U,l.bl_tree),Nt(l,x-11,7));x=0,v=O,C===0?(st=138,K=3):O===C?(st=6,K=3):(st=7,K=4)}},yh=function(l){var y;for(Fa(l,l.dyn_ltree,l.l_desc.max_code),Fa(l,l.dyn_dtree,l.d_desc.max_code),Ji(l,l.bl_desc),y=m-1;y>=3&&l.bl_tree[W[y]*2+1]===0;y--);return l.opt_len+=3*(y+1)+5+5+4,y},gh=function(l,y,g,S){var v;for(Nt(l,y-257,5),Nt(l,g-1,5),Nt(l,S-4,4),v=0;v<S;v++)Nt(l,l.bl_tree[W[v]*2+1],3);Ga(l,l.dyn_ltree,y-1),Ga(l,l.dyn_dtree,g-1)},mh=function(l){var y=4093624447,g;for(g=0;g<=31;g++,y>>>=1)if(y&1&&l.dyn_ltree[g*2]!==0)return r;if(l.dyn_ltree[9*2]!==0||l.dyn_ltree[10*2]!==0||l.dyn_ltree[13*2]!==0)return t;for(g=32;g<f;g++)if(l.dyn_ltree[g*2]!==0)return t;return r},za=!1,Sh=function(l){za||(Xi(),za=!0),l.l_desc=new pe(l.dyn_ltree,zt),l.d_desc=new pe(l.dyn_dtree,Le),l.bl_desc=new pe(l.bl_tree,Tr),l.bi_buf=0,l.bi_valid=0,Qn(l)},qa=function(l,y,g,S){Nt(l,(o<<1)+(S?1:0),3),vh(l,y,g,!0)},Eh=function(l){Nt(l,a<<1,3),te(l,R,P),Kn(l)},wh=function(l,y,g,S){var v,O,C=0;l.level>0?(l.strm.data_type===e&&(l.strm.data_type=mh(l)),Ji(l,l.l_desc),Ji(l,l.d_desc),C=yh(l),v=l.opt_len+3+7>>>3,O=l.static_len+3+7>>>3,O<=v&&(v=O)):v=O=g+5,g+4<=v&&y!==-1?qa(l,y,g,S):l.strategy===i||O===v?(Nt(l,(a<<1)+(S?1:0),3),Ba(l,P,L)):(Nt(l,(s<<1)+(S?1:0),3),gh(l,l.l_desc.max_code+1,l.d_desc.max_code+1,C+1),Ba(l,l.dyn_ltree,l.dyn_dtree)),Qn(l),S&&Zn(l)},_h=function(l,y,g){return l.pending_buf[l.d_buf+l.last_lit*2]=y>>>8&255,l.pending_buf[l.d_buf+l.last_lit*2+1]=y&255,l.pending_buf[l.l_buf+l.last_lit]=g&255,l.last_lit++,y===0?l.dyn_ltree[g*2]++:(l.matches++,y--,l.dyn_ltree[(G[g]+f+1)*2]++,l.dyn_dtree[Ue(y)*2]++),l.last_lit===l.lit_bufsize-1},bh=Sh,Ah=qa,Th=wh,Rh=_h,Ch=Eh,Sn={_tr_init:bh,_tr_stored_block:Ah,_tr_flush_block:Th,_tr_tally:Rh,_tr_align:Ch},Ih=function(l,y,g,S){for(var v=l&65535|0,O=l>>>16&65535|0,C=0;g!==0;){C=g>2e3?2e3:g,g-=C;do v=v+y[S++]|0,O=O+v|0;while(--C);v%=65521,O%=65521}return v|O<<16|0},Wa=Ih,Ph=function(){for(var l,y=[],g=0;g<256;g++){l=g;for(var S=0;S<8;S++)l=l&1?3988292384^l>>>1:l>>>1;y[g]=l}return y},Oh=new Uint32Array(Ph()),Nh=function(l,y,g,S){var v=Oh,O=S+g;l^=-1;for(var C=S;C<O;C++)l=l>>>8^v[(l^y[C])&255];return l^-1},Je=Nh,$n={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},ht={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},Mh=Sn._tr_init,xh=Sn._tr_stored_block,kh=Sn._tr_flush_block,Qe=Sn._tr_tally,Dh=Sn._tr_align,Rr=ht.Z_NO_FLUSH,Lh=ht.Z_PARTIAL_FLUSH,Uh=ht.Z_FULL_FLUSH,Ze=ht.Z_FINISH,Ya=ht.Z_BLOCK,Ee=ht.Z_OK,Xa=ht.Z_STREAM_END,oe=ht.Z_STREAM_ERROR,Vh=ht.Z_DATA_ERROR,Qi=ht.Z_BUF_ERROR,jh=ht.Z_DEFAULT_COMPRESSION,Hh=ht.Z_FILTERED,ti=ht.Z_HUFFMAN_ONLY,Bh=ht.Z_RLE,Fh=ht.Z_FIXED,Gh=ht.Z_DEFAULT_STRATEGY,zh=ht.Z_UNKNOWN,ei=ht.Z_DEFLATED,qh=9,Wh=15,Yh=8,Xh=29,Kh=256,Zi=Kh+1+Xh,Jh=30,Qh=19,Zh=2*Zi+1,$h=15,nt=3,$e=258,de=$e+nt+1,tf=32,ri=42,$i=69,ni=73,ii=91,oi=103,Cr=113,En=666,Pt=1,wn=2,Ir=3,qr=4,ef=3,tr=function(l,y){return l.msg=$n[y],y},Ka=function(l){return(l<<1)-(l>4?9:0)},er=function(l){for(var y=l.length;--y>=0;)l[y]=0},rf=function(l,y,g){return(y<<l.hash_shift^g)&l.hash_mask},rr=rf,nr=function(l){var y=l.state,g=y.pending;g>l.avail_out&&(g=l.avail_out),g!==0&&(l.output.set(y.pending_buf.subarray(y.pending_out,y.pending_out+g),l.next_out),l.next_out+=g,y.pending_out+=g,l.total_out+=g,l.avail_out-=g,y.pending-=g,y.pending===0&&(y.pending_out=0))},kt=function(l,y){kh(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,y),l.block_start=l.strstart,nr(l.strm)},ut=function(l,y){l.pending_buf[l.pending++]=y},_n=function(l,y){l.pending_buf[l.pending++]=y>>>8&255,l.pending_buf[l.pending++]=y&255},nf=function(l,y,g,S){var v=l.avail_in;return v>S&&(v=S),v===0?0:(l.avail_in-=v,y.set(l.input.subarray(l.next_in,l.next_in+v),g),l.state.wrap===1?l.adler=Wa(l.adler,y,v,g):l.state.wrap===2&&(l.adler=Je(l.adler,y,v,g)),l.next_in+=v,l.total_in+=v,v)},Ja=function(l,y){var g=l.max_chain_length,S=l.strstart,v,O,C=l.prev_length,x=l.nice_match,st=l.strstart>l.w_size-de?l.strstart-(l.w_size-de):0,K=l.window,qt=l.w_mask,or=l.prev,vt=l.strstart+$e,Or=K[S+C-1],Yr=K[S+C];l.prev_length>=l.good_match&&(g>>=2),x>l.lookahead&&(x=l.lookahead);do if(v=y,!(K[v+C]!==Yr||K[v+C-1]!==Or||K[v]!==K[S]||K[++v]!==K[S+1])){S+=2,v++;do;while(K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&K[++S]===K[++v]&&S<vt);if(O=$e-(vt-S),S=vt-$e,O>C){if(l.match_start=y,C=O,O>=x)break;Or=K[S+C-1],Yr=K[S+C]}}while((y=or[y&qt])>st&&--g!==0);return C<=l.lookahead?C:l.lookahead},Pr=function(l){var y=l.w_size,g,S,v,O,C;do{if(O=l.window_size-l.lookahead-l.strstart,l.strstart>=y+(y-de)){l.window.set(l.window.subarray(y,y+y),0),l.match_start-=y,l.strstart-=y,l.block_start-=y,S=l.hash_size,g=S;do v=l.head[--g],l.head[g]=v>=y?v-y:0;while(--S);S=y,g=S;do v=l.prev[--g],l.prev[g]=v>=y?v-y:0;while(--S);O+=y}if(l.strm.avail_in===0)break;if(S=nf(l.strm,l.window,l.strstart+l.lookahead,O),l.lookahead+=S,l.lookahead+l.insert>=nt)for(C=l.strstart-l.insert,l.ins_h=l.window[C],l.ins_h=rr(l,l.ins_h,l.window[C+1]);l.insert&&(l.ins_h=rr(l,l.ins_h,l.window[C+nt-1]),l.prev[C&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=C,C++,l.insert--,!(l.lookahead+l.insert<nt)););}while(l.lookahead<de&&l.strm.avail_in!==0)},of=function(l,y){var g=65535;for(g>l.pending_buf_size-5&&(g=l.pending_buf_size-5);;){if(l.lookahead<=1){if(Pr(l),l.lookahead===0&&y===Rr)return Pt;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var S=l.block_start+g;if((l.strstart===0||l.strstart>=S)&&(l.lookahead=l.strstart-S,l.strstart=S,kt(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-de&&(kt(l,!1),l.strm.avail_out===0))return Pt}return l.insert=0,y===Ze?(kt(l,!0),l.strm.avail_out===0?Ir:qr):(l.strstart>l.block_start&&(kt(l,!1),l.strm.avail_out===0),Pt)},to=function(l,y){for(var g,S;;){if(l.lookahead<de){if(Pr(l),l.lookahead<de&&y===Rr)return Pt;if(l.lookahead===0)break}if(g=0,l.lookahead>=nt&&(l.ins_h=rr(l,l.ins_h,l.window[l.strstart+nt-1]),g=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),g!==0&&l.strstart-g<=l.w_size-de&&(l.match_length=Ja(l,g)),l.match_length>=nt)if(S=Qe(l,l.strstart-l.match_start,l.match_length-nt),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=nt){l.match_length--;do l.strstart++,l.ins_h=rr(l,l.ins_h,l.window[l.strstart+nt-1]),g=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!==0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=rr(l,l.ins_h,l.window[l.strstart+1]);else S=Qe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(S&&(kt(l,!1),l.strm.avail_out===0))return Pt}return l.insert=l.strstart<nt-1?l.strstart:nt-1,y===Ze?(kt(l,!0),l.strm.avail_out===0?Ir:qr):l.last_lit&&(kt(l,!1),l.strm.avail_out===0)?Pt:wn},Wr=function(l,y){for(var g,S,v;;){if(l.lookahead<de){if(Pr(l),l.lookahead<de&&y===Rr)return Pt;if(l.lookahead===0)break}if(g=0,l.lookahead>=nt&&(l.ins_h=rr(l,l.ins_h,l.window[l.strstart+nt-1]),g=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=nt-1,g!==0&&l.prev_length<l.max_lazy_match&&l.strstart-g<=l.w_size-de&&(l.match_length=Ja(l,g),l.match_length<=5&&(l.strategy===Hh||l.match_length===nt&&l.strstart-l.match_start>4096)&&(l.match_length=nt-1)),l.prev_length>=nt&&l.match_length<=l.prev_length){v=l.strstart+l.lookahead-nt,S=Qe(l,l.strstart-1-l.prev_match,l.prev_length-nt),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=v&&(l.ins_h=rr(l,l.ins_h,l.window[l.strstart+nt-1]),g=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!==0);if(l.match_available=0,l.match_length=nt-1,l.strstart++,S&&(kt(l,!1),l.strm.avail_out===0))return Pt}else if(l.match_available){if(S=Qe(l,0,l.window[l.strstart-1]),S&&kt(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return Pt}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(S=Qe(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<nt-1?l.strstart:nt-1,y===Ze?(kt(l,!0),l.strm.avail_out===0?Ir:qr):l.last_lit&&(kt(l,!1),l.strm.avail_out===0)?Pt:wn},af=function(l,y){for(var g,S,v,O,C=l.window;;){if(l.lookahead<=$e){if(Pr(l),l.lookahead<=$e&&y===Rr)return Pt;if(l.lookahead===0)break}if(l.match_length=0,l.lookahead>=nt&&l.strstart>0&&(v=l.strstart-1,S=C[v],S===C[++v]&&S===C[++v]&&S===C[++v])){O=l.strstart+$e;do;while(S===C[++v]&&S===C[++v]&&S===C[++v]&&S===C[++v]&&S===C[++v]&&S===C[++v]&&S===C[++v]&&S===C[++v]&&v<O);l.match_length=$e-(O-v),l.match_length>l.lookahead&&(l.match_length=l.lookahead)}if(l.match_length>=nt?(g=Qe(l,1,l.match_length-nt),l.lookahead-=l.match_length,l.strstart+=l.match_length,l.match_length=0):(g=Qe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++),g&&(kt(l,!1),l.strm.avail_out===0))return Pt}return l.insert=0,y===Ze?(kt(l,!0),l.strm.avail_out===0?Ir:qr):l.last_lit&&(kt(l,!1),l.strm.avail_out===0)?Pt:wn},sf=function(l,y){for(var g;;){if(l.lookahead===0&&(Pr(l),l.lookahead===0)){if(y===Rr)return Pt;break}if(l.match_length=0,g=Qe(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++,g&&(kt(l,!1),l.strm.avail_out===0))return Pt}return l.insert=0,y===Ze?(kt(l,!0),l.strm.avail_out===0?Ir:qr):l.last_lit&&(kt(l,!1),l.strm.avail_out===0)?Pt:wn};function we(l,y,g,S,v){this.good_length=l,this.max_lazy=y,this.nice_length=g,this.max_chain=S,this.func=v}var bn=[new we(0,0,0,0,of),new we(4,4,8,4,to),new we(4,5,16,8,to),new we(4,6,32,32,to),new we(4,4,16,16,Wr),new we(8,16,32,32,Wr),new we(8,16,128,128,Wr),new we(8,32,128,256,Wr),new we(32,128,258,1024,Wr),new we(32,258,258,4096,Wr)],uf=function(l){l.window_size=2*l.w_size,er(l.head),l.max_lazy_match=bn[l.level].max_lazy,l.good_match=bn[l.level].good_length,l.nice_match=bn[l.level].nice_length,l.max_chain_length=bn[l.level].max_chain,l.strstart=0,l.block_start=0,l.lookahead=0,l.insert=0,l.match_length=l.prev_length=nt-1,l.match_available=0,l.ins_h=0};function cf(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ei,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Zh*2),this.dyn_dtree=new Uint16Array((2*Jh+1)*2),this.bl_tree=new Uint16Array((2*Qh+1)*2),er(this.dyn_ltree),er(this.dyn_dtree),er(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array($h+1),this.heap=new Uint16Array(2*Zi+1),er(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Zi+1),er(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Qa=function(l){if(!l||!l.state)return tr(l,oe);l.total_in=l.total_out=0,l.data_type=zh;var y=l.state;return y.pending=0,y.pending_out=0,y.wrap<0&&(y.wrap=-y.wrap),y.status=y.wrap?ri:Cr,l.adler=y.wrap===2?0:1,y.last_flush=Rr,Mh(y),Ee},Za=function(l){var y=Qa(l);return y===Ee&&uf(l.state),y},lf=function(l,y){return!l||!l.state||l.state.wrap!==2?oe:(l.state.gzhead=y,Ee)},$a=function(l,y,g,S,v,O){if(!l)return oe;var C=1;if(y===jh&&(y=6),S<0?(C=0,S=-S):S>15&&(C=2,S-=16),v<1||v>qh||g!==ei||S<8||S>15||y<0||y>9||O<0||O>Fh)return tr(l,oe);S===8&&(S=9);var x=new cf;return l.state=x,x.strm=l,x.wrap=C,x.gzhead=null,x.w_bits=S,x.w_size=1<<x.w_bits,x.w_mask=x.w_size-1,x.hash_bits=v+7,x.hash_size=1<<x.hash_bits,x.hash_mask=x.hash_size-1,x.hash_shift=~~((x.hash_bits+nt-1)/nt),x.window=new Uint8Array(x.w_size*2),x.head=new Uint16Array(x.hash_size),x.prev=new Uint16Array(x.w_size),x.lit_bufsize=1<<v+6,x.pending_buf_size=x.lit_bufsize*4,x.pending_buf=new Uint8Array(x.pending_buf_size),x.d_buf=1*x.lit_bufsize,x.l_buf=3*x.lit_bufsize,x.level=y,x.strategy=O,x.method=g,Za(l)},hf=function(l,y){return $a(l,y,ei,Wh,Yh,Gh)},ff=function(l,y){var g,S;if(!l||!l.state||y>Ya||y<0)return l?tr(l,oe):oe;var v=l.state;if(!l.output||!l.input&&l.avail_in!==0||v.status===En&&y!==Ze)return tr(l,l.avail_out===0?Qi:oe);v.strm=l;var O=v.last_flush;if(v.last_flush=y,v.status===ri)if(v.wrap===2)l.adler=0,ut(v,31),ut(v,139),ut(v,8),v.gzhead?(ut(v,(v.gzhead.text?1:0)+(v.gzhead.hcrc?2:0)+(v.gzhead.extra?4:0)+(v.gzhead.name?8:0)+(v.gzhead.comment?16:0)),ut(v,v.gzhead.time&255),ut(v,v.gzhead.time>>8&255),ut(v,v.gzhead.time>>16&255),ut(v,v.gzhead.time>>24&255),ut(v,v.level===9?2:v.strategy>=ti||v.level<2?4:0),ut(v,v.gzhead.os&255),v.gzhead.extra&&v.gzhead.extra.length&&(ut(v,v.gzhead.extra.length&255),ut(v,v.gzhead.extra.length>>8&255)),v.gzhead.hcrc&&(l.adler=Je(l.adler,v.pending_buf,v.pending,0)),v.gzindex=0,v.status=$i):(ut(v,0),ut(v,0),ut(v,0),ut(v,0),ut(v,0),ut(v,v.level===9?2:v.strategy>=ti||v.level<2?4:0),ut(v,ef),v.status=Cr);else{var C=ei+(v.w_bits-8<<4)<<8,x=-1;v.strategy>=ti||v.level<2?x=0:v.level<6?x=1:v.level===6?x=2:x=3,C|=x<<6,v.strstart!==0&&(C|=tf),C+=31-C%31,v.status=Cr,_n(v,C),v.strstart!==0&&(_n(v,l.adler>>>16),_n(v,l.adler&65535)),l.adler=1}if(v.status===$i)if(v.gzhead.extra){for(g=v.pending;v.gzindex<(v.gzhead.extra.length&65535)&&!(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),nr(l),g=v.pending,v.pending===v.pending_buf_size));)ut(v,v.gzhead.extra[v.gzindex]&255),v.gzindex++;v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),v.gzindex===v.gzhead.extra.length&&(v.gzindex=0,v.status=ni)}else v.status=ni;if(v.status===ni)if(v.gzhead.name){g=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),nr(l),g=v.pending,v.pending===v.pending_buf_size)){S=1;break}v.gzindex<v.gzhead.name.length?S=v.gzhead.name.charCodeAt(v.gzindex++)&255:S=0,ut(v,S)}while(S!==0);v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),S===0&&(v.gzindex=0,v.status=ii)}else v.status=ii;if(v.status===ii)if(v.gzhead.comment){g=v.pending;do{if(v.pending===v.pending_buf_size&&(v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),nr(l),g=v.pending,v.pending===v.pending_buf_size)){S=1;break}v.gzindex<v.gzhead.comment.length?S=v.gzhead.comment.charCodeAt(v.gzindex++)&255:S=0,ut(v,S)}while(S!==0);v.gzhead.hcrc&&v.pending>g&&(l.adler=Je(l.adler,v.pending_buf,v.pending-g,g)),S===0&&(v.status=oi)}else v.status=oi;if(v.status===oi&&(v.gzhead.hcrc?(v.pending+2>v.pending_buf_size&&nr(l),v.pending+2<=v.pending_buf_size&&(ut(v,l.adler&255),ut(v,l.adler>>8&255),l.adler=0,v.status=Cr)):v.status=Cr),v.pending!==0){if(nr(l),l.avail_out===0)return v.last_flush=-1,Ee}else if(l.avail_in===0&&Ka(y)<=Ka(O)&&y!==Ze)return tr(l,Qi);if(v.status===En&&l.avail_in!==0)return tr(l,Qi);if(l.avail_in!==0||v.lookahead!==0||y!==Rr&&v.status!==En){var st=v.strategy===ti?sf(v,y):v.strategy===Bh?af(v,y):bn[v.level].func(v,y);if((st===Ir||st===qr)&&(v.status=En),st===Pt||st===Ir)return l.avail_out===0&&(v.last_flush=-1),Ee;if(st===wn&&(y===Lh?Dh(v):y!==Ya&&(xh(v,0,0,!1),y===Uh&&(er(v.head),v.lookahead===0&&(v.strstart=0,v.block_start=0,v.insert=0))),nr(l),l.avail_out===0))return v.last_flush=-1,Ee}return y!==Ze?Ee:v.wrap<=0?Xa:(v.wrap===2?(ut(v,l.adler&255),ut(v,l.adler>>8&255),ut(v,l.adler>>16&255),ut(v,l.adler>>24&255),ut(v,l.total_in&255),ut(v,l.total_in>>8&255),ut(v,l.total_in>>16&255),ut(v,l.total_in>>24&255)):(_n(v,l.adler>>>16),_n(v,l.adler&65535)),nr(l),v.wrap>0&&(v.wrap=-v.wrap),v.pending!==0?Ee:Xa)},pf=function(l){if(!l||!l.state)return oe;var y=l.state.status;return y!==ri&&y!==$i&&y!==ni&&y!==ii&&y!==oi&&y!==Cr&&y!==En?tr(l,oe):(l.state=null,y===Cr?tr(l,Vh):Ee)},df=function(l,y){var g=y.length;if(!l||!l.state)return oe;var S=l.state,v=S.wrap;if(v===2||v===1&&S.status!==ri||S.lookahead)return oe;if(v===1&&(l.adler=Wa(l.adler,y,g,0)),S.wrap=0,g>=S.w_size){v===0&&(er(S.head),S.strstart=0,S.block_start=0,S.insert=0);var O=new Uint8Array(S.w_size);O.set(y.subarray(g-S.w_size,g),0),y=O,g=S.w_size}var C=l.avail_in,x=l.next_in,st=l.input;for(l.avail_in=g,l.next_in=0,l.input=y,Pr(S);S.lookahead>=nt;){var K=S.strstart,qt=S.lookahead-(nt-1);do S.ins_h=rr(S,S.ins_h,S.window[K+nt-1]),S.prev[K&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=K,K++;while(--qt);S.strstart=K,S.lookahead=nt-1,Pr(S)}return S.strstart+=S.lookahead,S.block_start=S.strstart,S.insert=S.lookahead,S.lookahead=0,S.match_length=S.prev_length=nt-1,S.match_available=0,l.next_in=x,l.input=st,l.avail_in=C,S.wrap=v,Ee},vf=hf,yf=$a,gf=Za,mf=Qa,Sf=lf,Ef=ff,wf=pf,_f=df,bf="pako deflate (from Nodeca project)",An={deflateInit:vf,deflateInit2:yf,deflateReset:gf,deflateResetKeep:mf,deflateSetHeader:Sf,deflate:Ef,deflateEnd:wf,deflateSetDictionary:_f,deflateInfo:bf},Af=function(l,y){return Object.prototype.hasOwnProperty.call(l,y)},Tf=function(l){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var g=y.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var S in g)Af(g,S)&&(l[S]=g[S])}}return l},Rf=function(l){for(var y=0,g=0,S=l.length;g<S;g++)y+=l[g].length;for(var v=new Uint8Array(y),g=0,O=0,S=l.length;g<S;g++){var C=l[g];v.set(C,O),O+=C.length}return v},ts={assign:Tf,flattenChunks:Rf},es=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(l){es=!1}for(var Tn=new Uint8Array(256),ir=0;ir<256;ir++)Tn[ir]=ir>=252?6:ir>=248?5:ir>=240?4:ir>=224?3:ir>=192?2:1;Tn[254]=Tn[254]=1;var Cf=function(l){if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(l);var y,g,S,v,O,C=l.length,x=0;for(v=0;v<C;v++)g=l.charCodeAt(v),(g&64512)===55296&&v+1<C&&(S=l.charCodeAt(v+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),v++)),x+=g<128?1:g<2048?2:g<65536?3:4;for(y=new Uint8Array(x),O=0,v=0;O<x;v++)g=l.charCodeAt(v),(g&64512)===55296&&v+1<C&&(S=l.charCodeAt(v+1),(S&64512)===56320&&(g=65536+(g-55296<<10)+(S-56320),v++)),g<128?y[O++]=g:g<2048?(y[O++]=192|g>>>6,y[O++]=128|g&63):g<65536?(y[O++]=224|g>>>12,y[O++]=128|g>>>6&63,y[O++]=128|g&63):(y[O++]=240|g>>>18,y[O++]=128|g>>>12&63,y[O++]=128|g>>>6&63,y[O++]=128|g&63);return y},rs=function(l,y){if(y===void 0&&(y=l.length),y<65534&&l.subarray&&es)return String.fromCharCode.apply(null,l.length===y?l:l.subarray(0,y));for(var g="",S=0;S<y;S++)g+=String.fromCharCode(l[S]);return g},If=function(l,y){var g=y||l.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(l.subarray(0,y));var S,v,O=new Array(g*2);for(v=0,S=0;S<g;){var C=l[S++];if(C<128){O[v++]=C;continue}var x=Tn[C];if(x>4){O[v++]=65533,S+=x-1;continue}for(C&=x===2?31:x===3?15:7;x>1&&S<g;)C=C<<6|l[S++]&63,x--;if(x>1){O[v++]=65533;continue}C<65536?O[v++]=C:(C-=65536,O[v++]=55296|C>>10&1023,O[v++]=56320|C&1023)}return rs(O,v)},Pf=function(l,y){y=y||l.length,y>l.length&&(y=l.length);for(var g=y-1;g>=0&&(l[g]&192)===128;)g--;return g<0||g===0?y:g+Tn[l[g]]>y?g:y},ns={string2buf:Cf,buf2string:If,utf8border:Pf};function Of(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Nf=Of,is=Object.prototype.toString,Mf=ht.Z_NO_FLUSH,xf=ht.Z_SYNC_FLUSH,kf=ht.Z_FULL_FLUSH,Df=ht.Z_FINISH,ai=ht.Z_OK,Lf=ht.Z_STREAM_END,Uf=ht.Z_DEFAULT_COMPRESSION,Vf=ht.Z_DEFAULT_STRATEGY,jf=ht.Z_DEFLATED;function si(l){this.options=ts.assign({level:Uf,method:jf,chunkSize:16384,windowBits:15,memLevel:8,strategy:Vf},l||{});var y=this.options;y.raw&&y.windowBits>0?y.windowBits=-y.windowBits:y.gzip&&y.windowBits>0&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Nf,this.strm.avail_out=0;var g=An.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(g!==ai)throw new Error($n[g]);if(y.header&&An.deflateSetHeader(this.strm,y.header),y.dictionary){var S=void 0;if(typeof y.dictionary=="string"?S=ns.string2buf(y.dictionary):is.call(y.dictionary)==="[object ArrayBuffer]"?S=new Uint8Array(y.dictionary):S=y.dictionary,g=An.deflateSetDictionary(this.strm,S),g!==ai)throw new Error($n[g]);this._dict_set=!0}}si.prototype.push=function(l,y){var g=this.strm,S=this.options.chunkSize,v,O;if(this.ended)return!1;for(y===~~y?O=y:O=y===!0?Df:Mf,typeof l=="string"?g.input=ns.string2buf(l):is.call(l)==="[object ArrayBuffer]"?g.input=new Uint8Array(l):g.input=l,g.next_in=0,g.avail_in=g.input.length;;){if(g.avail_out===0&&(g.output=new Uint8Array(S),g.next_out=0,g.avail_out=S),(O===xf||O===kf)&&g.avail_out<=6){this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;continue}if(v=An.deflate(g,O),v===Lf)return g.next_out>0&&this.onData(g.output.subarray(0,g.next_out)),v=An.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===ai;if(g.avail_out===0){this.onData(g.output);continue}if(O>0&&g.next_out>0){this.onData(g.output.subarray(0,g.next_out)),g.avail_out=0;continue}if(g.avail_in===0)break}return!0},si.prototype.onData=function(l){this.chunks.push(l)},si.prototype.onEnd=function(l){l===ai&&(this.result=ts.flattenChunks(this.chunks)),this.chunks=[],this.err=l,this.msg=this.strm.msg};function Hf(l,y){y=y||{};var g=new si(y);if(g.push(l,!0),g.err)throw g.msg||$n[g.err];return g.result}function Bf(l,y){return y=y||{},y.gzip=!0,Hf(l,y)}return function(l,y,g){var S=Bf(l);return y==="base64"?S=btoa(rs(S)):S=S.buffer,g&&g(S),S}}var mS=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this,e)||this;n.algorithm=Di.GZIP,n.Av=uu(),n.$b=function(a,s,u){var c=n.Av(a,s);u(c)},n.compress=cu();var o=typeof CompressionStream!="undefined"&&sv;return o||(n.compress=n.$b,n.getCompressorSourceCode=function(){return uu.toString()}),n}return t.prototype.compressSync=function(e,n){return this.Av(e,n)},t.prototype.getCompressorSourceCode=function(){return cu.toString()},t}(Gu);return i}();function cu(){var i=function(r){return new Promise(function(t){var e=new FileReader;e.onload=function(n){return t(n.target.result.split(",")[1])},e.readAsDataURL(new Blob([r]))})};return function(r,t,e){var n=new Response(r).body.pipeThrough(new CompressionStream("gzip")),o=new Response(n).arrayBuffer();if(t==="base64"){o.then(function(a){return i(a)}).then(function(a){return e(a)});return}o.then(function(a){return e(a)})}}var SS=function(){var i=function(r){Q(t,r);function t(){var e=r.apply(this,Ct([],it(arguments),!1))||this;return e.algorithm=Di.UNCOMPRESSED,e}return t.prototype.compress=function(e,n,o){o(this.compressSync(e,n))},t.prototype.compressSync=function(e,n){return e},t.prototype.getCompressorSourceCode=function(){return function(){return function(e,n,o){return o(e)}}.toString()},t}(Gu);return i}(),jl=function(){var i=function(){function r(){}return r.create=function(t,e){return e===void 0&&(e=!0),this.instance?this.instance:e&&!yS.isCompressionEnabled()?new SS(t):this.instance=new mS(t)},r}();return i}();var ES=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U,N,q,$,W,T,P,L,Y){var G=this;this.J=t,this.ce=e,this.R=n,this.w=o,this.S=a,this.f=s,this.Fl=u,this.h=c,this.Gl=h,this.Zr=f,this.zo=p,this.pe=d,this.I=m,this.W=w,this.K=E,this.A=_,this.oA=b,this.Q=R,this.nt=A,this.wt=I,this.Rv=U,this.$t=N,this.aA=q,this.C=$,this.St=W,this.M=T,this.Bt=P,this.et=L,this.yt=Y,this.sA=function(at){at===void 0&&(at=!1);var St=G.w.getSession();St===null?(G.Mi=new pS(G.h.recordTargetingRules,G.Cv,G.S,G.et,G.Q,G.A),G.Mi.init(),G.Mi.start()):(St.collectState===j.RECORDING_RULES_TARGETING||St.collectState===j.ANALYTICS_ONLY_RULES_TARGETING)&&G.Cv(at)},this.Cv=function(at){at===void 0&&(at=!1),G.xi.onLoad(function(){var St,Tt;(St=G.Mi)===null||St===void 0||St.emitTargetingCollectState(),(Tt=G.Mi)===null||Tt===void 0||Tt.stop(),G.S.emitStartTracking(at)}),G.Ns(at)},this.Ns=function(at){at===void 0&&(at=!1),!G.Zr.isActive()&&(G.yt.init(),G.zl.start(at),G.xi.start())},this.uA=function(){G.S.emitBeforeSessionRenewal(),G.ki(!0),G.S.emitAfterSessionRenewal()},this.cA=function(){G.S.emitBeforeSessionRenewal(),G.et.refreshQuota(),G.et.onQuotaReady(function(at){at!==j.QUOTA_REACHED&&(G.ki(!0),G.S.emitAfterSessionRenewal())})}}return r.prototype.start=function(){var t=this,e;if(this.Gl.init(),this.Zr.init(),!this.Zr.isActive()){var n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U,N;if(this.C.schedule(function(){if(E=new gm(t.w,t.R),R=new Gm(E),w=new pl(t.W),_=new kl(function(){}),A=new Dl,N=new Ll,0)var $;var W=new ka(_,t.yt,A,U,N,t.ql());b=new iS(t.ql(),t.yt,W,A,I);var T=new oS(t.S,t.f,t.yt,W,A,I,U);T.init(),t.S.addListener(T),n=new tm(t.h,t.J,t.R,t.W,w,t.f,E,new Al(F),t.nt,t.St,t.Q,b),o=new wg(t.f,t.w,t.h,t.J,t.ce,t.I),m=new Im(b);var P=new El(t.h);d=new bm(t.h,P,m,b,t.nt),d.init();var L=new Fm;a=new vg(t.R,t.w,t.f,t.nt,P,t.h,L,m),s=new Tg(t.h,t.J,t.R,t.f,t.I,E,t.A);var Y;if(0)var G;t.zl=new lm(t.h,t.f,t.S,t.J,t.R,t.w,t.pe,t.wt,t.K,t.A,t.$t,L,t.Q,t.Yr,Y),t.Iv=new dm(t.h,t.R,t.w,t.f),h=new wm(t.h,t.f,t.ce,t.J,t.Q),f=new _m(t.f),p=new Cm(t.h,new Vu(t.h,t.I),t.St),t.xi=new dl}),this.h.apiErrors.enabled&&this.C.schedule(function(){t.ut=new Ra,t.lA=new aS(t.f,t.ut),t.lA.init()}),this.h.apiErrors.enabled&&this.C.schedule(function(){var $,W,T,P;!(($=t.h.apiErrors.collectionRules)===null||$===void 0)&&$.length?P=new Ml(t.h.apiErrors,t.I):P=new xl(t.h.apiErrors,t.I),t.at=new wl(new Il,new Pl,P),t.ue=new _l(t.ut,t.K,!!(!((T=(W=t.h)===null||W===void 0?void 0:W.experimental)===null||T===void 0)&&T.anonymizeNameInUrls)),t.Zn=new qm;var L=new Nm(t.at,t.ue,t.h,t.J,t.nt,t.f,t.St);L.init(),t.S.addListener(L)}),this.h.customErrors.enabled&&this.C.schedule(function(){var $,W,T,P;t.Jr=new Vl(t.I,!((T=(W=t.h)===null||W===void 0?void 0:W.experimental)===null||T===void 0)&&T.anonymizeNameInUrls?t.K:void 0);var L=new Bm(t.Jr,t.h,t.J,t.f,t.Q,t.St,t.nt,P);L.init(),t.S.addListener(L)}),this.h.jsErrorsEnabled&&this.C.schedule(function(){t.br=new Sl,t.se=new bl(t.I,t.A);var $=new Um(t.br,t.se,t.h,t.J,t.nt,t.f,t.Q,t.A,t.St);$.init(),t.S.addListener($)}),this.C.schedule(function(){t.zo.init()}),this.C.schedule(function(){a.init()}),this.C.schedule(function(){o.init()}),this.C.schedule(function(){s.init()}),this.C.schedule(function(){t.Rv.init()}),this.C.schedule(function(){t.zl.init()}),this.C.schedule(function(){t.Iv.init()}),this.C.schedule(function(){h.init()}),this.C.schedule(function(){t.oA.init()}),this.C.schedule(function(){f.init()}),this.C.schedule(function(){p.init()}),this.C.schedule(function(){t.aA.init()}),this.C.schedule(function(){t.S.addListener(t.Iv),t.S.addListener(t.Fl),t.S.addListener(n),t.S.addListener(t.zo),t.S.addListener(a),t.S.addListener(s),t.S.addListener(t.Rv),t.S.addListener(t.zl),t.S.addListener(h),t.S.addListener(o),t.S.addListener(d),t.S.addListener(p),t.S.addListener(R)}),hn.isRecordingSupported()&&this.C.schedule(function(){var $=new cg(m,t.w,t.h,t.J,t.f,t.I,E,_,t.se,t.at,t.ue,t.ut,t.S,t.Q,t.nt,t.$t,t.St,t.K,t.Zn,t.ql(),t.Jr,I);$.init(),t.S.addListener($),a.setRecordingService($.recordingService)}),0)var q;this.C.schedule(function(){n.init()}),this.C.schedule(function(){t.h.isQuotaEnabled()?E.onSessionExpired(function(){t.cA()}):E.onSessionExpired(function(){t.uA()}),t.ki()})}},r.prototype.ki=function(t){var e=this;t===void 0&&(t=!1);var n;if(this.h.hasTargetingRules()){this.sA(t),this.f.start(),this.Mi&&this.Mi.checkInitialUrlTargetingRules();return}this.f.start(),this.xi.onLoad(function(){e.S.emitStartTracking(t)}),(!ml(this.h)||t)&&this.Ns(t)},r.prototype.ql=function(){if(this.ot)return this.ot;var t=new Ma;return this.ot=new Na(this.pe,this.h,this.A,t),this.ot.init(),this.ot.shouldUseAnonymization()&&pt.counters.pageAnonymisation.count("anonymized-on-start"),this.ot},r}();return i}(),wS=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.h=t,this.R=e,this.We=n,this.Pv=o,this.hA=a,this.fA=s,this.pA=u,this.Wl=c}return r.prototype.compute=function(t){var e=this,n,o;this.h.crossDomainTracking&&!this.h.cookielessTrackingEnabled?this.h.crossDomainSingleIframeTracking?(n=this.pA)===null||n===void 0||n.start(function(){return e.Yl(t)}):(o=this.fA)===null||o===void 0||o.applyUpToDate(function(){return e.Yl(t)}):this.Yl(t)},r.prototype.Yl=function(t){this.hA.handle(),this.Pv.clear(),this.dA()?(this.Pv.restoreClearedVisitor(),t(!0)):(this.We.exclude(this.h),t(!1))},r.prototype.dA=function(){var t=Ye.boolean(this.h.sampleRate);return this.Wl.isForceIncluded()||!this.We.isExcluded()&&this.R.doesVisitorExist()||!this.We.isExcluded()&&t},r}();return i}(),_S=function(){var i=function(){function r(t,e,n,o){this.h=t,this.it=e,this.S=n,this.w=o,this.vA=1e4}return r.prototype.createOrUpdateVisitor=function(){var t,e=this.getVisitor();e===null&&(e=this.yA(),(t=this.w)===null||t===void 0||t.removeSession()),this.gA(e),this.setVisitor(e)},r.prototype.yA=function(){return{id:Rl.generate(),visitsCount:0,appliedTrackingDraw:this.h.lastTrackingDraw,creationTimestamp:ps(),lastVisitTimestamp:0,hitTimestamp:0,expires:V.now()+this.h.visitorCookieTimeout,allowSubdomains:this.h.allowSubdomains,identityPrint:null}},r.prototype.gA=function(t){var e=ps();this.w&&!this.w.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.h.lastTrackingDraw,this.Ov=t.visitsCount},r.prototype.getRequestParameters=function(){var t=this.getVisitor();return t?{uu:t.id,sn:"".concat(t.visitsCount),hd:"".concat(t.hitTimestamp)}:{}},r.prototype.getVisitor=function(){return this.it.get()},r.prototype.setVisitor=function(t){this.it.set(t)},r.prototype.doesVisitorExist=function(){return this.it.get()!==null},r.prototype.resetVisitor=function(){this.Nv(),this.S.emitAfterVisitorCleared()},r.prototype.removeVisitor=function(){this.it.remove()},r.prototype.hasAllowSubdomainsChanged=function(){var t=this.getVisitor();if(!t)return!1;var e=t.allowSubdomains;return e!==this.h.allowSubdomains},r.prototype.handleSubdomainChange=function(){this.it.handleSubdomainChange()},r.prototype.isSessionRenewed=function(){var t=this.getVisitor();return t===null||this.Ov===void 0?!1:t.visitsCount!==this.Ov},r.prototype.mA=function(){return!ot(this.Mv)||V.now()-this.Mv>this.vA},r.prototype.renewVisitor=function(){this.mA()?(this.Mv=V.now(),this.Nv(),this.S.emitAfterVisitorRenewal()):F.warn("session:start:newVisitor is trying to renew visitor under time limit")},r.prototype.Nv=function(){this.S.emitBeforeVisitorRenewal(),this.removeVisitor()},r}();return i}(),ve=function(){return"_cs_s"}(),wi=function(){return 18e5}(),Eo=function(){return"."}(),bS=function(){return 13}(),vi=function(){var i;return function(r){r[r.NOT_FOUND=0]="NOT_FOUND",r[r.EXPIRED=1]="EXPIRED",r[r.FOUND=2]="FOUND"}(i||(i={})),i}(),AS=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Xt=n,this.Qt=null,this.Xl=!1}return r.prototype.get=function(t){var e=this.getRawSession(t);return this.isValid(e)?Ku(e):null},r.prototype.getRawSession=function(t){if(t){var e=this.Kl();return Uo(e)}var n=this.SA(),o=n.sessionString,a=n.status,s=Uo(o);if(a!==vi.EXPIRED)return s;if(this.h.cookielessTrackingEnabled)return null;var u=this.Kl();if(!u)return null;var c=csString.prototype.split.call(u,Eo);if(!r.xv(c))return u;var h=c[c.length-1],f=parseInt(h,10);return isNaN(f)||this.EA(f),s},r.prototype.onCookieToSet=function(t){this.En=t},r.prototype.onCookieToRemove=function(t){this.wn=t},r.prototype.set=function(t,e){e===void 0&&(e=wi);var n,o=V.now()+e,a=Vd(t);a+="".concat(Eo).concat(o),this.wA(a,o),this.h.cookielessTrackingEnabled?this.Xt.setItem(ve,a):(this.M.set(ve,a,e),(n=this.En)===null||n===void 0||n.call(this,ve,a,e))},r.prototype.remove=function(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(ve):(this.M.delete(ve),(t=this.wn)===null||t===void 0||t.call(this,ve)),this._A()},r.prototype.handleSubdomainChange=function(){if(!this.h.cookielessTrackingEnabled){var t=this.get(!0);t&&(this.h.allowSubdomains?this.M.delete(ve,ki.CURRENT_DOMAIN):this.M.delete(ve,this.M.getRootDomain()),this.set(t))}},r.prototype.isValid=function(t){return t!==null&&Ju(t)},r.prototype.wA=function(t,e){this.Qt={sessionString:t,expires:e}},r.prototype.SA=function(){return this.Qt?this.Qt&&V.now()<=this.Qt.expires?{sessionString:this.Qt.sessionString,status:vi.FOUND}:{sessionString:this.Qt.sessionString,status:vi.EXPIRED}:{sessionString:this.Kl(),status:vi.NOT_FOUND}},r.prototype._A=function(){this.Qt=null},r.prototype.EA=function(t){this.Qt&&(this.Qt.expires=t,this.Xl=!0)},r.prototype.isCacheRefreshed=function(){return this.Xl},r.prototype.resetCacheRefreshed=function(){this.Xl=!1},r.prototype.Kl=function(){if(this.h.cookielessTrackingEnabled){var t=this.Xt.getItem(ve);return!t||this.kv(t)?null:t}var e=this.M.get(ve);return!e||this.kv(e)?null:e},r.prototype.kv=function(t){var e=csString.prototype.split.call(t,Eo);if(!r.xv(e))return!1;var n=parseInt(e[e.length-1],10);return!isNaN(n)&&V.now()>n},r.xv=function(t){var e=t[t.length-1];return e.length===bS},r}();return i}(),Ua=function(){return 60*1e3}(),TS=function(){return 60*Ua}(),RS=function(){return 4*TS-Ua}(),Jr=function(){var i;return function(r){r[r.NO=0]="NO",r[r.WITHDRAWN=1]="WITHDRAWN",r[r.GRANTED=2]="GRANTED"}(i||(i={})),i}(),CS=function(){var i=function(){function r(t,e){this.ye=t,this.et=e,this.qo=null,this.Jl=0,this.Wo=Jr.NO}return r.prototype.setDynamicVariablesService=function(t){this.bA=t},r.prototype.createOrUpdateSession=function(){this.Ql(),this.AA=V.now(),this.Jl=0;var t=this.Dv();t===null?(t=this.TA(),this.Lv(t),this.Ms(t)):(t=this.et.sanitizeSessionCollectState(t),this.Lv(t),t.collectState=this.et.getEligibleCollectState(t)),this.setSession(t)},r.prototype.grantReplayRecording=function(t){t.collectState=this.et.getInitialCollectState(),t.collectState=this.et.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)},r.prototype.grantReplayRecordingBeforeSessionStart=function(){this.Wo=Jr.GRANTED},r.prototype.withdrawnReplayRecording=function(t){t.collectState=this.et.getRecordingConsentWithdrawn(),this.setSession(t)},r.prototype.withdrawnReplayRecordingBeforeSessionStart=function(){this.Wo=Jr.WITHDRAWN},r.prototype.Ms=function(t){this.Wo===Jr.WITHDRAWN?(t.collectState=this.et.getRecordingConsentWithdrawn(),this.setSession(t)):this.Wo===Jr.GRANTED?t.collectState=this.et.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this.et.computeInitialCollectState(t),this.Wo=Jr.NO},r.prototype.TA=function(){return{pageNumber:0,collectState:this.et.getInitialCollectState(),etrState:Ft.ETR_OFF,etrStatus:Wt.ETR_NOT_SAVED_SESSION}},r.prototype.Lv=function(t){t.pageNumber+=1},r.prototype.isReplayRecorded=function(){var t=this.getSession();return!!t&&this.et.isReplayRecorded(t)},r.prototype.isTemporarilyRecorded=function(){var t=this.getSession();return(t==null?void 0:t.collectState)===j.RECORDING_TEMPORARILY},r.prototype.abortQuotaServiceRequest=function(){this.et.abortQuotaServiceRequest()},r.prototype.getRequestParameters=function(){var t={},e=this.getSession();return e!==null&&(t.pn="".concat(e.pageNumber)),t},r.prototype.getSession=function(){return this.ye.get()},r.prototype.Dv=function(){return this.ye.get(!0)},r.prototype.doesSessionExist=function(){return this.ye.get()!==null},r.prototype.setSession=function(t){this.ye.set(t)},r.prototype.refreshSession=function(){var t=this.Dv();t&&this.setSession(t)},r.prototype.removeSession=function(){this.ye.remove()},r.prototype.getCollectStates=function(){var t=this.getSession(),e=[];return t&&(t.collectState!==j.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===j.RECORDING_RULES_TARGETING?j.RECORDING_GLOBAL_SAMPLING:t.collectState),t.etrState===Ft.ETR_ON&&csArray.prototype.push.call(e,j.RECORDING_ETR_SAMPLING)),e},r.prototype.updateCollectState=function(t,e){var n=this.getSession();n!==null&&(n.collectState=t,n.etrState=e,this.setSession(n))},r.prototype.hasValidSession=function(){var t=this.ye.getRawSession();return this.ye.isValid(t)},r.prototype.handleSubdomainChange=function(){this.ye.handleSubdomainChange()},r.prototype.pollCacheRefreshEvent=function(t){t===void 0&&(t=!0);var e=this.ye.isCacheRefreshed();return e&&t&&this.ye.resetCacheRefreshed(),e},r.prototype.extendSessionPeriodically=function(){this.qo||this.Uv()},r.prototype.extendSession=function(){var t=this.getSession();return t===null?(F.warn("extendSession is trying to extend an expired session"),this.Ql(),!1):(this.ye.set(t,wi),!0)},r.prototype.Uv=function(){if(this.RA()){this.Ql();return}var t=this.extendSession();t&&(this.CA(),this.IA())},r.prototype.IA=function(){var t=this;this.qo=window.csSetTimeout(function(){t.Uv()},wi-Ua)},r.prototype.RA=function(){var t=RS-(V.now()+wi-this.AA);return t<0},r.prototype.Ql=function(){this.qo&&(window.csClearTimeout(this.qo),this.qo=null)},r.prototype.CA=function(){this.Jl+=1,this.bA.trackDynamicVariable("session_expiry_update",this.Jl)},r}();return i}(),IS=function(){var i=function(){function r(t,e,n){this.h=t,this.R=e,this.We=n}return r.prototype.clear=function(){this.PA()&&(this.jv=this.R.getVisitor(),this.R.removeVisitor()),this.OA()&&this.We.removeExclusion()},r.prototype.PA=function(){return this.R.doesVisitorExist()&&this.R.getVisitor().appliedTrackingDraw!==this.h.lastTrackingDraw},r.prototype.OA=function(){return this.We.getAppliedTrackingDraw()!==this.h.lastTrackingDraw},r.prototype.restoreClearedVisitor=function(){this.jv&&this.R.setVisitor(this.jv)},r}();return i}(),PS=function(){var i=function(){function r(t,e,n){this.R=t,this.w=e,this.NA=n}return r.prototype.handle=function(){this.R.hasAllowSubdomainsChanged()&&(this.R.handleSubdomainChange(),this.w.handleSubdomainChange(),this.NA.handleSubdomainChange())},r}();return i}(),lr=function(){return"_cs_c"}(),Mr=function(){var i;return function(r){r[r.NOT_REQUIRED=0]="NOT_REQUIRED",r[r.NOT_EXPRESSED=1]="NOT_EXPRESSED",r[r.GRANTED=2]="GRANTED",r[r.WITHDRAWN=3]="WITHDRAWN"}(i||(i={})),i}(),OS=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Bt=n}return r.prototype.get=function(){var t;return this.h.cookielessTrackingEnabled?t=this.Bt.getItem(lr):t=this.M.get(lr),t===null?t:Number(t)},r.prototype.set=function(t){this.h.cookielessTrackingEnabled?this.Bt.setItem(lr,csString(t)):this.M.set(lr,csString(t),ua)},r.prototype.remove=function(){this.h.cookielessTrackingEnabled?this.Bt.removeItem(lr):this.M.delete(lr)},r.prototype.handleSubdomainChange=function(){this.h.cookielessTrackingEnabled||(this.h.allowSubdomains?this.M.delete(lr,ki.CURRENT_DOMAIN):this.M.delete(lr,this.M.getRootDomain()))},r}();return i}(),NS=function(){var i=function(){function r(t,e,n){this.h=t,this.w=e,this.S=n}return r.prototype.grantReplayConsent=function(){if(gr.isReplayConsentNeeded(this.h)){var t=this.w.getSession();if(!t){this.w.grantReplayRecordingBeforeSessionStart();return}gr.isRecordingBlockedByConsent(t)&&(this.w.grantReplayRecording(t),this.S.emitAfterReplayRecordingConsentGranted())}},r.prototype.withdrawReplayConsent=function(){if(gr.isReplayConsentNeeded(this.h)){var t=this.w.getSession();if(!t){this.w.withdrawnReplayRecordingBeforeSessionStart();return}gr.isRecordingWithDrawn(t)||(this.w.withdrawnReplayRecording(t),this.S.emitAfterReplayRecordingConsentWithdrawn())}},r}();return i}(),Hl=function(){return["replay:consent:unanonymized:granted","trackConsentGranted"]}(),Bl=function(){return["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"]}(),Fl=function(){return["replay:consent:startForSession:granted"]}(),Gl=function(){return["replay:consent:startForSession:withdrawn"]}(),MS=function(){var i=function(){function r(t,e,n,o,a){this.h=t,this.f=e,this.pe=n,this.w=o,this.S=a}return r.prototype.init=function(){this.Hv=new NS(this.h,this.w,this.S),this.pe.setInitialConsent(),this.lt()},r.prototype.lt=function(){var t=this;this.f.register(Hl,function(){t.pe.grantReplayAnonymizationConsent()}),this.f.register(Bl,function(){t.pe.withdrawReplayAnonymizationConsent()}),this.f.register(Fl,function(){t.Hv.grantReplayConsent()}),this.f.register(Gl,function(){t.Hv.withdrawReplayConsent()})},r.prototype.onOptout=function(){this.pe.removeAllConsents()},r.prototype.onBeforeVisitorRenewal=function(){this.pe.removeAllConsents()},r.prototype.onAfterVisitorRenewal=function(){this.pe.setInitialConsent()},r.prototype.onAfterVisitorCleared=function(){this.pe.setInitialConsent()},r}();return i}(),xS=function(){var i=function(){function r(t,e,n){this.h=t,this.it=e,this.S=n}return r.prototype.setInitialConsent=function(){var t=this.it.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()},r.prototype.hasConsentRequiredChanged=function(t){var e=this.h.consentRequired;return e&&t===Mr.NOT_REQUIRED||!e&&t!==Mr.NOT_REQUIRED},r.prototype.handleSubdomainChange=function(){this.it.handleSubdomainChange()},r.prototype.setDefaultReplayAnonymization=function(){var t=this.h.consentRequired?Mr.NOT_EXPRESSED:Mr.NOT_REQUIRED;this.it.set(t)},r.prototype.grantReplayAnonymizationConsent=function(){this.h.consentRequired&&(this.it.set(Mr.GRANTED),this.S.emitReplayUnanonymizationConsentGranted())},r.prototype.withdrawReplayAnonymizationConsent=function(){this.h.consentRequired&&(this.it.set(Mr.WITHDRAWN),this.S.emitReplayUnanonymizationConsentWithdrawn())},r.prototype.removeAllConsents=function(){this.it.remove()},r.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.h.consentRequired||this.it.get()===Mr.GRANTED},r.prototype.getRequestParameters=function(){return{uc:"".concat(this.it.get())}},r}();return i}(),kS=function(){var i=function(){function r(t,e,n,o,a,s,u){this.S=t,this.f=e,this.Fl=n,this.Gl=o,this.Zr=a,this.MA=s,this.zo=u}return r.prototype.start=function(){this.S.addListener(this.MA),this.S.addListener(this.zo),this.S.addListener(this.Fl),this.zo.init(),this.Gl.init(),this.Zr.init(),!this.Zr.isActive()&&this.f.start()},r}();return i}(),DS=function(){var i=function(){function r(t,e){this.Rt=t,this.it=e}return r.prototype.exclude=function(t){this.it.set(csString(t.lastTrackingDraw))},r.prototype.removeExclusion=function(){this.it.remove()},r.prototype.isExcluded=function(){return this.xA()||this.kA()},r.prototype.xA=function(){return this.getAppliedTrackingDraw()!==0},r.prototype.getAppliedTrackingDraw=function(){return this.it.get()},r.prototype.kA=function(){return csString.prototype.indexOf.call(this.Rt.href,Ve)>0},r}();return i}(),LS=function(){var i=function(){function r(t){this.Ze=t}return r.prototype.onOptout=function(){this.Ze.removeExclusion()},r}();return i}(),wo=function(){var i;return function(r){r.SessionReplay="SR",r.None=""}(i||(i={})),i}(),US=function(){return".^"}(),VS=function(){return".*"}(),zl=function(){var i=function(){function r(t){this.A=t,this.Zl=new csRegExp("".concat(US))}return r.prototype.setExcludeUrlForSessionReplay=function(t){try{this.Zl=new csRegExp(t)}catch(e){F.warn("excludeURLforReplay - invalid regex '".concat(t,"'")),this.Zl=new csRegExp("".concat(VS))}},r.prototype.Bv=function(){return this.Zl.test(this.A.getAnonymizedUrl())?wo.SessionReplay:wo.None},r.prototype.isUrlExcludedForSessionReplay=function(){return this.Bv()===wo.SessionReplay},r.prototype.getRequestParameters=function(){var t=this.Bv();return{ex:t}},r}();return i}(),jS=function(){return["excludeURLforReplay"]}(),ql=function(){var i=function(){function r(t,e){this.Ze=t,this.f=e}return r.prototype.init=function(){var t=this;this.f.register(jS,function(e){if(J(e))t.Ze.setExcludeUrlForSessionReplay(e);else throw new Error("Command misuse: excludeURLforReplay")})},r}();return i}(),_o=function(){return"_cs_inc"}(),HS=function(){var i=function(){function r(t,e){this.Rt=t,this.M=e}return r.prototype.isForceIncluded=function(){return this.DA()||this.LA()},r.prototype.isForceReplayRecorded=function(){return this.UA(j.RECORDING_GLOBAL_SAMPLING)},r.prototype.DA=function(){return this.M.get(_o)!==null},r.prototype.UA=function(t){return this.M.get(_o)===t},r.prototype.LA=function(){return csString.prototype.indexOf.call(this.Rt.href,_o)>0},r}();return i}(),Nn=function(){return"_cs_optout"}(),BS=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Bt=n}return r.prototype.get=function(){return this.h.cookielessTrackingEnabled?this.Bt.getItem(Nn):this.M.get(Nn)},r.prototype.set=function(t){this.h.cookielessTrackingEnabled?this.Bt.setItem(Nn,t):this.M.set(Nn,t,ua)},r}();return i}(),lu=function(){return"1"}(),FS=function(){var i=function(){function r(t,e,n){this.S=t,this.Rt=e,this.it=n}return r.prototype.init=function(){!this.isActive()&&this.VA()&&this.activate()},r.prototype.isActive=function(){return this.it.get()===lu},r.prototype.activate=function(){this.S.emitOptout(),this.it.set(lu)},r.prototype.VA=function(){return csString.prototype.indexOf.call(this.Rt.href,Nn)>0},r}();return i}(),Va=function(){return["optout"]}(),Wl=function(){return["optin"]}(),GS=function(){var i=function(){function r(t,e){this.f=t,this.Zr=e}return r.prototype.init=function(){var t=this;this.f.register(Va,function(){t.Zr.activate()})},r}();return i}();var zS=function(){var i=function(){function r(t,e){this.f=t,this.nt=e}return r.prototype.init=function(){this.nt.addListener(this.f)},r.prototype.onOptout=function(){this.f.stop()},r.prototype.onBeforeSessionRenewal=function(){this.f.stop()},r}();return i}();var Jo=function(){var i;return function(r){r.UXA="_uxa",r.WVT="cs_wvt"}(i||(i={})),i}(),Yl=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.$l=e,n.ar={},n}return t.prototype.register=function(e,n,o){var a,s,u=function(d){var m=function(){for(var w=[],E=0;E<arguments.length;E++)w[E]=arguments[E];try{var _=n.apply(void 0,Ct([],it(w),!1));return pt.counters.commandApplied.count(d),_}catch(b){pt.counters.commandMisuse.count(d),F.warn("Misused Command: ".concat(d,"; Args: ").concat(csJSON.stringify(w),"; Error: ").concat(wr(b)?b.stack:b))}};c.ar[d]={callback:m,configuration:o},c.ar},c=this;try{for(var h=D(e),f=h.next();!f.done;f=h.next()){var p=f.value;u(p)}}catch(d){a={error:d}}finally{try{f&&!f.done&&(s=h.return)&&s.call(h)}finally{if(a)throw a.error}}},t.prototype.onStart=function(){this.HA(),this.BA()},t.prototype.onStop=function(){var e,n;try{for(var o=D(this.$l),a=o.next();!a.done;a=o.next()){var s=a.value;window[s]=[]}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.applyFromIntegration=function(e,n,o){this.Fv(e,n,"Commands.apply.from.integration: ".concat(o)),pt.counters.commandsFromIntegrations.count(e)},t.prototype.applyFromImplementation=function(e,n,o){this.Fv(e,n,"Commands.apply.from.implementation: ".concat(o)),pt.counters.commandsFromCSTC.count(e)},t.prototype.onIframeCommands=function(e){var n,o;try{for(var a=D(e.commands),s=a.next();!s.done;s=a.next()){var u=s.value;this.FA(u.name,u.params,e.iframePath),pt.counters.commandsFromIframe.count(u.name)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.Fv=function(e,n,o){var a=this;if(!this.isStarted){window._uxa.push(Ct([e],it(n),!1));return}F.tryToExecute(o,function(){var s;if(a.ar[e])return(s=a.ar[e]).callback.apply(s,Ct([],it(n),!1))})()},t.prototype.FA=function(e,n,o){var a=this;F.tryToExecute("Commands.apply.from.iframe: ".concat(o),function(){var s;if(a.ar[e])return(s=a.ar[e]).callback.apply(s,Ct([],it(n),!1))})()},t.prototype.HA=function(){var e,n,o=this;try{for(var a=D(this.$l),s=a.next();!s.done;s=a.next()){var u=s.value;window[u].forEach(function(c){var h=it(c),f=h[0],p=h.slice(1);return o.Gv(f,p,!1)})}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.BA=function(){var e,n,o=this;try{for(var a=D(this.$l),s=a.next();!s.done;s=a.next()){var u=s.value;window[u]={push:function(c){var h=it(c),f=h[0],p=h.slice(1);return o.Gv(f,p,!0)}}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.Gv=function(e,n,o){var a,s,u;if(this.ar[e]){var c=((s=this.ar[e].configuration)===null||s===void 0?void 0:s.disableApplyPending)&&!o||((u=this.ar[e].configuration)===null||u===void 0?void 0:u.disableApplyImmediate)&&o;if(c)return;try{return(a=this.ar[e]).callback.apply(a,Ct([],it(n),!1))}catch(h){pt.counters.commandError.count(e),F.error("Command ".concat(e," failed - params: ").concat(csJSON.stringify(n)),h)}}},t}(wt);return i}();var qS=function(){var i=function(){function r(t,e,n,o){this.h=t,this.R=e,this.w=n,this.$v=o}return r.prototype.getRequestParameters=function(){var t,e=k(k({},ca()),this.h.getRequestParameters()),n=this.w.getSession();n&&(e.pn="".concat(n.pageNumber));var o=this.R.getVisitor();if(o&&(e.sn="".concat(o.visitsCount),e.uu="".concat(o.id)),!((t=this.$v)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID="".concat(this.$v.getSubProjectId())),window.heap)try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch(a){delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e},r}();return i}(),WS=function(){var i=function(){function r(t,e){this.f=t,this.Or=e}return r.prototype.init=function(){var t=this;this.f.register(["debugEvents"],function(e){typeof e=="boolean"&&t.Or.updateDynamicFields("emitDebugEvents",e)})},r}();return i}();function hu(i,r,t){if(!ot(r)&&!ot(t))return i.href;var e=ot(r)?Xl(r):i.pathname,n=ot(t)?Kl(t):i.search;return"".concat(i.protocol,"//").concat(i.host).concat(e).concat(n)}function Xl(i){return We(i,"/")?i:"/".concat(i)}function Kl(i){return We(i,"?")||i===""?i:"?".concat(i)}var bo=function(){var i;return function(r){r[r.page=1]="page",r[r.onNextPageviewOnly=2]="onNextPageviewOnly"}(i||(i={})),i}(),Jl=function(){var i=function(){function r(t,e){this.Rt=t,this.K=e,this.KA=10}return r.prototype.overridePath=function(t,e){if(t===""){this.Di=void 0;return}var n=this.ty(e);n&&(this.rh=n),this.Di=e?this.ey(t,e):t},r.prototype.overrideQuery=function(t,e){var n=this.ty(e);n&&(this.nh=n),this.Xo=e?this.ey(t,e):t},r.prototype.computeOverriddenUrl=function(t){return this.JA(t)?this.getAnonymizedUrl():t},r.prototype.QA=function(t){return(typeof t=="string"||typeof t=="number")&&t in bo},r.prototype.JA=function(t){var e=this.ry(this.Rt.href),n=this.ry(t);return n===e},r.prototype.ry=function(t){return Bp(t,"/")?csString.prototype.slice.call(t,0,-1):t},r.prototype.ty=function(t){return ot(t==null?void 0:t.lifespan)&&this.QA(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null},r.prototype.ZA=function(){return this.rh&&this.rh in bo},r.prototype.$A=function(){return this.nh&&this.nh in bo},r.prototype.cleanupOverrideLifespan=function(){this.ZA()&&(this.Di=void 0,this.rh=void 0),this.$A()&&(this.Xo=void 0,this.nh=void 0)},r.prototype.getAnonymizedUrl=function(){var t=hu(this.Rt,this.Di,this.Xo);return this.K.anonymizeUrl(t)},r.prototype.getUrl=function(){return hu(this.Rt,this.Di,this.Xo)},r.prototype.getAnonymizedPathAndQuery=function(){var t=ot(this.Di)?Xl(this.Di):this.Rt.pathname,e=ot(this.Xo)?Kl(this.Xo):this.Rt.search;return this.K.anonymizeUrl(t+e)},r.prototype.getUrlProtocol=function(){return this.Rt.protocol},r.prototype.getRequestParameters=function(){return{url:this.getAnonymizedUrl()}},r.prototype.ey=function(t,e){return this.tT(e)?this.eT(t):this.rT(e)?this.nT(t):t},r.prototype.rT=function(t){return!!t.decodeURI},r.prototype.nT=function(t){return this.ny(t,1,!1)},r.prototype.tT=function(t){return!!t.decodeURIDeep},r.prototype.eT=function(t){return this.ny(t,this.KA,!0)},r.prototype.ny=function(t,e,n){for(var o=t,a=0;a<e;a++)try{var s=window.decodeURI(o);if(s===o)return o;o=s}catch(u){return o}return n&&F.warn("decodeURIDeep limit reached: ".concat(o)),o},r}();return i}(),Wi=function(){var i=function(){function r(){this.listeners=[]}return r.prototype.addListener=function(t){csArray.prototype.push.call(this.listeners,t)},r}();return i}(),YS=function(){var i=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.emitPageEvent=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onPageEvent&&u.onPageEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitEventTriggerRecording=function(e,n){var o,a;try{for(var s=D(this.listeners),u=s.next();!u.done;u=s.next()){var c=u.value;c.onEventTriggerRecording&&c.onEventTriggerRecording(e,n)}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},t.prototype.emitCustomJavaScriptErrorEvent=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onCustomJavaScriptErrorEvent&&u.onCustomJavaScriptErrorEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitCustomErrorEvent=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onCustomErrorEvent&&u.onCustomErrorEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitUserIdentifierEvent=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onUserIdentifierEvent&&u.onUserIdentifierEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitExternalEvent=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onExternalEvent&&u.onExternalEvent({type:Z.EXTERNAL_EVENT,name:e,ts:0})}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitTargetingRulesArtificialPageview=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onTargetingRulesArtificialPageview&&u.onTargetingRulesArtificialPageview(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t}(Wi);return i}(),Vn=function(){return"|iframe|"}(),Ql=function(){var i=function(r){Q(t,r);function t(e,n,o,a){var s=r.call(this)||this;return s.iT=e,s.oT=n,s.aT=o,s.sT=a,s}return t.prototype.emitIframeEvent=function(e,n,o){if(this.uT(n)&&e===null){F.error("iframeEventEmitter received event ".concat(n," with null iframe, content:").concat(csJSON.stringify(o)));return}switch(n){case M.ChildLogMessage:this.cT(o);break;case M.AnalysisEvent:{var a=o,s=this.iT.transformEvent(e,a);s.isUserEvent?this.lT(s.event):this.hT(s.event);break}case M.RecordingEvent:{var u=o,c=this.sT.transformEvents(e,u);if(c.events.length===0)return;c.containsUserEvent?this.fT(c.events):this.pT(c.events);break}case M.JavascriptError:this.dT(o);break;case M.ApiError:this.vT(o);break;case M.DetailedApiError:this.yT(o);break;case M.CustomError:this.gT(o);break;case M.EmerchandisingMessage:{var h=this.aT.transformEvent(e,o);this.mT(h);break}case M.Commands:{var f=this.oT.transformEvent(e,o);this.ST(f);break}case M.IntegrationCallback:this.ET(o);break;case M.StaticResource:this.wT(o);break;case M.TrackingContextRequestMessage:this._T(o);break;default:F.error("Parent received unknown data type from iframe : ".concat(csJSON.stringify(o)))}},t.prototype.uT=function(e){var n=[M.AnalysisEvent,M.RecordingEvent,M.EmerchandisingMessage,M.Commands];return csArray.prototype.indexOf.call(n,e)!==-1},t.prototype.cT=function(e){var n=e.message,o=e.errorCode,a=e.level;switch(a){case ft.debug:F.debug(n,o);break;case ft.warn:F.warn(n,!0,o);break;case ft.implementation:F.implementation(n,o);break;case ft.error:F.error(n,o);break;case ft.critical:F.critical(n,o);break}},t.prototype.lT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeAnalysisUserEvent&&u.onIframeAnalysisUserEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.hT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeAnalysisBrowserEvent&&u.onIframeAnalysisBrowserEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.fT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeRecordingUserEvent&&u.onIframeRecordingUserEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.pT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeRecordingBrowserEvent&&u.onIframeRecordingBrowserEvent(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.dT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeJavascriptError&&u.onIframeJavascriptError(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.vT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeApiError&&u.onIframeApiError(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.yT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeDetailedApiError&&u.onIframeDetailedApiError(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.mT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeEmerchandisingMessage&&u.onIframeEmerchandisingMessage(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.ST=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeCommands&&u.onIframeCommands(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.ET=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeIntegrationCallback&&u.onIframeIntegrationCallback(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.wT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeStaticResource&&u.onIframeStaticResource(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype._T=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onTrackingContextRequestCallback&&u.onTrackingContextRequestCallback(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.gT=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIframeCustomError&&u.onIframeCustomError(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t}(Wi);return i}(),XS=function(){var i=function(){function r(){}return r.prototype.setItem=function(t,e){window.sessionStorage.setItem(t,e)},r.prototype.getItem=function(t){return window.sessionStorage.getItem(t)},r.prototype.removeItem=function(t){window.sessionStorage.removeItem(t)},r}();return i}(),KS=function(){var i=function(){function r(){}return r.prototype.setItem=function(t,e){window.localStorage.setItem(t,e)},r.prototype.getItem=function(t){return window.localStorage.getItem(t)},r.prototype.removeItem=function(t){window.localStorage.removeItem(t)},r}();return i}(),ja=function(){return["setCustomVariable"]}(),JS=function(){var i=function(){function r(t,e){this.f=t,this.wt=e}return r.prototype.init=function(){var t=this;this.f.register(ja,function(e,n,o,a){t.wt.set(e,n,o,a)})},r.prototype.onAfterArtificialPageView=function(){this.wt.deleteNextPageOnlyCustomVariables()},r.prototype.onAfterNaturalPageView=function(){this.wt.deleteNextPageOnlyCustomVariables()},r.prototype.onOptout=function(){this.wt.removeCustomVariablesSession()},r.prototype.onBeforeVisitorRenewal=function(){this.wt.removeCustomVariablesSession(),this.wt.removeCustomVariablesPage()},r}();return i}(),fu=function(){return 512}(),pu=function(){return 255}(),Ao=function(){return{SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]}}(),QS=function(){var i=function(){function r(t,e){this.I=t,this.it=e,this.Gt={},this.ke={}}return r.prototype.set=function(t,e,n,o){var a,s;if((Ie(t)||J(t))&&Number(t)>0&&Ht(e)&&Ht(n)&&!ce(e)&&!ce(n)&&this.bT(o)){var u=this.I.anonymizePII(csString(e)),c=this.I.anonymizePII(csString(n));if(a=[csString.prototype.slice.call(u,0,fu),csString.prototype.slice.call(c,0,pu)],s=n!=="",!ot(o)||csArray.prototype.indexOf.call(Ao.SESSION,o)>=0){var h=this.getCustomVariablesSession();s?h[t]=a:delete h[t],this.setCustomVariableSession(h)}(!ot(o)||csArray.prototype.indexOf.call(Ao.PAGE,o)>=0)&&(s?this.Gt[t]=a:delete this.Gt[t]),ot(o)&&csArray.prototype.indexOf.call(Ao.NEXT_PAGE_ONLY,o)>=0&&(s?this.ke[t]=a:delete this.ke[t])}else throw new Error("Command misuse: ".concat(ja[0]))},r.prototype.getCustomVariablesSession=function(){var t=this.it.get();if(!t)return{};var e=window.csJSON.parse(t);return e!==null&&ue(e)?e:{}},r.prototype.setCustomVariableSession=function(t){this.it.set(window.csJSON.stringify(t))},r.prototype.removeCustomVariablesSession=function(){this.it.remove()},r.prototype.removeCustomVariablesPage=function(){this.Gt={}},r.prototype.getRequestParameters=function(){var t=this.getCustomVariablesSession();for(var e in this.ke)this.ke.hasOwnProperty(e)&&(this.Gt[e]=this.ke[e]);for(var e in this.Gt)this.Gt.hasOwnProperty(e)&&(t[e]=this.Gt[e]);if(window.csJSON.stringify(t).length<=2)return{};var n={cvars:this.iy(t)};return this.Gt&&window.csJSON.stringify(this.Gt).length>2&&(n.cvarp=this.iy(this.Gt)),n},r.prototype.deleteNextPageOnlyCustomVariables=function(){if(Object.keys(this.ke).length>0)for(var t in this.ke)this.ke[t]===this.Gt[t]&&(delete this.Gt[t],delete this.ke[t])},r.prototype.oy=function(t){for(var e in t)if(t.hasOwnProperty(e)){var n=parseInt(e,10),o=t[e],a=o[0],s=o[1];(!Jf(n,1,20)||a.length>fu||s.length>pu)&&delete t[e]}},r.prototype.iy=function(t){this.oy(t);var e=Qf(t)?[]:t;return window.csJSON.stringify(e)},r.prototype.bT=function(t){return!ot(t)||J(t)||Ie(t)},r.prototype.getAllValidCustomVars=function(){var t=this.getCustomVariablesSession();for(var e in this.ke)this.ke.hasOwnProperty(e)&&(this.Gt[e]=this.ke[e]);for(var e in this.Gt)this.Gt.hasOwnProperty(e)&&(t[e]=this.Gt[e]);return this.oy(t),t},r}();return i}(),_e=function(){return"_cs_id"}(),ZS=function(){var i=function(){function r(t,e,n){this.h=t,this.M=e,this.Xt=n}return r.prototype.onCookieToSet=function(t){this.En=t},r.prototype.onCookieToRemove=function(t){this.wn=t},r.prototype.get=function(){var t;return this.h.cookielessTrackingEnabled?t=this.Xt.getItem(_e):t=this.M.get(_e),t?kd(t):null},r.prototype.set=function(t){var e,n=Dd(t);if(this.h.cookielessTrackingEnabled)this.Xt.setItem(_e,n);else{var o=new csDate(t.expires);this.M.set(_e,n,o),(e=this.En)===null||e===void 0||e.call(this,_e,n,o)}},r.prototype.remove=function(){var t;this.h.cookielessTrackingEnabled?this.Xt.removeItem(_e):(this.M.delete(_e),(t=this.wn)===null||t===void 0||t.call(this,_e))},r.prototype.handleSubdomainChange=function(){if(!this.h.cookielessTrackingEnabled){var t=this.get();t&&(t.allowSubdomains=this.h.allowSubdomains,this.h.allowSubdomains?this.M.delete(_e,ki.CURRENT_DOMAIN):this.M.delete(_e,this.M.getRootDomain()),this.set(t))}},r}();return i}(),$S=function(){return/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi}(),tE=function(){return"$1CS_ANONYMIZED_NAME"}(),Zl=function(){var i=function(){function r(t){this.I=t}return r.prototype.anonymizeUrl=function(t,e){e===void 0&&(e={});var n=e.maskingPatterns||[],o=e.partialMaskingPatterns||[],a=this.I.anonymizePII(t);if(a=this.I.anonymizeJwt(a),e.maskNames){var s=a;a=this.ko(a),a!==s&&(pt.counters.redactedPII.count("name"),pt.counters.redactedPII.count("name-in-url"))}var u=this.AT(a,n);if(u!==a)return pt.counters.redactedPII.count("url"),u;var c=this.TT(a,o);return c!==a&&pt.counters.redactedPII.count("url"),c},r.prototype.removeQueryString=function(t){var e=this.ih(t),n=e.path,o=e.queryString;return o!==""?"".concat(n,"?"):n},r.prototype.ih=function(t){var e=csString.prototype.indexOf.call(t,"?"),n,o="";return e!==-1?(n=csString.prototype.slice.call(t,0,e),o=csString.prototype.slice.call(t,e,t.length)):n=t,{path:n,queryString:o}},r.prototype.AT=function(t,e){var n,o;if(e.length===0)return t;var a=this.ih(t),s=a.path,u=a.queryString,c=csString.prototype.split.call(s,"/");try{for(var h=D(e),f=h.next();!f.done;f=h.next()){var p=f.value,d=this.RT(c,p);if(d!==null)return"".concat(d).concat(u)}}catch(m){n={error:m}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return t},r.prototype.RT=function(t,e){if(t.length<e.length)return null;for(var n=[],o=0;o<t.length;o++){var a=t[o];if(o>=e.length){csArray.prototype.push.call(n,a);continue}var s=e[o].key;if(this.ay(s)){var u=e[o].value;csArray.prototype.push.call(n,u);continue}if(a===s){csArray.prototype.push.call(n,a);continue}return null}return csArray.prototype.join.call(n,"/")},r.prototype.TT=function(t,e){var n,o;if(e.length===0)return t;var a=this.ih(t),s=a.path,u=a.queryString,c=csString.prototype.split.call(s,"/");try{for(var h=D(e),f=h.next();!f.done;f=h.next()){var p=f.value;c=this.CT(c,p)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return"".concat(csArray.prototype.join.call(c,"/")).concat(u)},r.prototype.CT=function(t,e){for(var n=[],o=0,a=t[0]==="http:"||t[0]==="https:",s=a?2:0,u=0;u<t.length;u++){var c=t[u],h=e[o].key;if(this.ay(h)&&u>=s){var f=e[o].value;csArray.prototype.push.call(n,c.length>0?f:""),o++,o===e.length&&(o=0);continue}if(c===h){csArray.prototype.push.call(n,c),o++,o===e.length&&(o=0);continue}for(var p=0;p<o;p++){var d=u-o+p;n[d]=t[d]}o=0,csArray.prototype.push.call(n,c)}for(var u=0;u<o;u++){var d=t.length-o+u;n[d]=t[d]}return n},r.prototype.ay=function(t){return We(t,fl)},r.prototype.ko=function(t){return csString.prototype.replace.call(t,$S,tE)},r}();return i}(),eE=function(){return["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"]}(),rE=function(){return 1024}(),nE=function(){return 1024}(),$l=function(){var i=function(){function r(t,e){this.ht=t,this.h=e}return r.prototype.getEventTargetPathAndHierarchy=function(t,e){var n=Mt(t),o={isNodeSensitive:function(a){return H.isMaskedElement(a)||H.isMaskedElementChild(a)},isAttributeSensitive:function(a,s){return H.isMaskedAttribute(a,s)},allWhitelistedAttributes:Sc(this.h.whitelistedAttributes),attributeIgnoreTokens:eE,useAnonymization:e,attrMaxLength:nE,hierarchyMaxLength:rE};return this.ht.getElementPathAndHierarchy(n,o,k({dynamicIdRegex:this.h.dynamicIdRegex},this.h.pathComputationRules))},r.prototype.getEventTargetPath=function(t){var e=Mt(t);return this.ht.getElementPath(e,k({dynamicIdRegex:this.h.dynamicIdRegex},this.h.pathComputationRules))},r.prototype.getEventTargetPathAndTargetLink=function(t){var e=Mt(t),n=this.ht.getElementPathAndFirstAnchorParent(e,k({dynamicIdRegex:this.h.dynamicIdRegex},this.h.pathComputationRules)),o=n.path,a=n.firstAnchorParent,s=this.IT(a)?a.href:"";return{path:o,targetLink:s}},r.prototype.hasValidEventTarget=function(t){var e=Mt(t);return this.ht.isValidElement(e)},r.prototype.getElementPath=function(t){return this.ht.getElementPath(t,k({dynamicIdRegex:this.h.dynamicIdRegex},this.h.pathComputationRules))},r.prototype.IT=function(t){var e;return t!==null&&t.hasAttribute("href")&&!We((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")},r}();return i}(),th=function(){var i=function(){function r(t){this.W=t}return r.prototype.transformEvent=function(t,e){this.PT(t,e.event);var n=this.W.getElementPath(t);return this.OT(n,e.event),e},r.prototype.PT=function(t,e){if(Pg(e)){var n=t.getBoundingClientRect();e.x=Math.round(n.left+e.x+Ot.windowOffsetX()),e.y=Math.round(n.top+e.y+Ot.windowOffsetY())}},r.prototype.OT=function(t,e){Jc(e)&&(e.tgt="".concat(t).concat(Vn).concat(e.tgt)),Cg(e)&&(e.tgtHM="".concat(t).concat(Vn).concat(e.tgtHM)),Ig(e)&&(e.tgtLk="".concat(t).concat(Vn).concat(e.tgtLk))},r}();return i}(),eh=function(){var i=function(){function r(t){this.W=t}return r.prototype.transformEvent=function(t,e){var n=this.W.getElementPath(t),o=e.iframePath?"".concat(n).concat(Vn).concat(e.iframePath):n;return{iframePath:o,commands:e.commands}},r}();return i}(),rh=function(){var i=function(){function r(t){this.W=t}return r.prototype.transformEvent=function(t,e){if(e.products.length===0)return e;var n=this.W.getElementPath(t),o=csArray.prototype.map.call(e.products,function(a){return k(k({},a),{targetPath:"".concat(n).concat(Vn).concat(a.targetPath)})});return k(k({},e),{products:o})},r}();return i}(),nh=function(){var i=function(){function r(){this.NT={clientX:2,clientY:3},this.MT={clientX:1,clientY:2},this.xT=[z.POINTER_DOWN,z.POINTER_MOVE,z.POINTER_UP],this.kT=[z.TOUCH_START,z.TOUCH_MOVE,z.TOUCH_END]}return r.prototype.transformEvents=function(t,e){var n,o,a=this;if(!It.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,function(d){return d.type!==z.VISIBILITY_CHANGE}),e.events.length===0||(F.warn("IframeRecordingEventsTransformer received event ".concat(M.RecordingEvent,"\n        from disconnected iframe, content:").concat(csJSON.stringify(e.events))),e.events=[]),e;var s=lt(t),u=null,c=csArray.prototype.some.call(e.events,function(d){return a.sy(d)||a.uy(d)});c&&(u=t.getBoundingClientRect());try{for(var h=D(e.events),f=h.next();!f.done;f=h.next()){var p=f.value;this.sy(p)?this.DT(u,p):this.uy(p)&&this.LT(u,p),p.context=p.context&&p.context.length>0?"".concat(s,"/").concat(p.context):"".concat(s)}}catch(d){n={error:d}}finally{try{f&&!f.done&&(o=h.return)&&o.call(h)}finally{if(n)throw n.error}}return e},r.prototype.LT=function(t,e){this.cy(this.MT,t,e)},r.prototype.DT=function(t,e){this.cy(this.NT,t,e)},r.prototype.cy=function(t,e,n){n.args&&(n.args[t.clientX]=Math.round(e.left+n.args[t.clientX]),n.args[t.clientY]=Math.round(e.top+n.args[t.clientY]))},r.prototype.sy=function(t){return csArray.prototype.indexOf.call(this.xT,t.type)!==-1},r.prototype.uy=function(t){return csArray.prototype.indexOf.call(this.kT,t.type)!==-1},r}();return i}(),iE=function(){var i=function(){function r(t){this.oh=t}return r.prototype.start=function(){var t=this;this.oh.onEvent(function(e){return t.z(e)}),this.oh.start()},r.prototype.stop=function(){this.oh.stop()},r.prototype.z=function(t){var e="Content Security Policy error. Violated directive: ".concat(t.violatedDirective," - Source file: ").concat(t.sourceFile);F.warn(e)},r}();return i}(),oE=function(){var i=function(){function r(){var t=this;this.Ut={boundElement:document,type:"securitypolicyviolation",listener:function(e){return t.securityPolicyViolationListener(e)}},csArray.prototype.push.call(r.ah,"localhost"),csArray.prototype.push.call(r.ah,"fake-tracker.content-square.fr")}return r.prototype.start=function(){Vt(this.Ut)},r.prototype.stop=function(){jt(this.Ut)},r.prototype.onEvent=function(t){this.O=t},r.prototype.UT=function(t){if(!t)return!1;var e=t.disposition;return J(t.sourceFile)&&csArray.prototype.some.call(r.ah,function(n){return csString.prototype.indexOf.call(t.sourceFile,n)>0})&&e!=="report"},r.prototype.securityPolicyViolationListener=function(t){this.UT(t)&&this.O({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})},r}();return i.ah=["contentsquare","cdnssl.clicktale.net"],X([B("Event handler type: securitypolicyviolation")],i.prototype,"securityPolicyViolationListener",null),i}(),aE=function(){var i=function(){function r(){}return r.prototype.init=function(){this.ly=new iE(new oE),this.ly.start()},r.prototype.onOptout=function(){this.ly.stop()},r}();return i}();var Dw=function(){return Object.prototype}().toString;function ih(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");var t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=r?r.apply(this,e):e[0],a=t.cache;if(a.has(o))return a.get(o);var s=i.apply(this,e);return t.cache=a.set(o,s)||a,s};return t.cache=new(ih.Cache||Map),t}ih.Cache=Map;var Lw=function(){return Object.prototype}().hasOwnProperty;var oh=function(){var i=function(){function r(t){this.configuration=t}return r}();return i}(),sE=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this,e)||this;return a.configuration=e,a.$o=n,a.S=o,a.iR=j.RECORDING_GLOBAL_SAMPLING,a}return t.prototype.refreshQuota=function(){this.ta=void 0,this.Vs()},t.prototype.onQuotaReady=function(e){this._y=e},t.prototype.init=function(){this.oR()},t.prototype.sanitizeSessionCollectState=function(e){return e},t.prototype.canCollect=function(e){return e!==null&&e.collectState!==j.QUOTA_REACHED},t.prototype.computeInitialCollectState=function(e){return this.ta?(this.S.emitCollectStateChange(this.ta,Ft.ETR_OFF),this.ta):(F.warn("Quota file error computeInitialCollectState() called before quota answered"),j.QUOTA_REACHED)},t.prototype.getEligibleCollectState=function(e){return e.collectState===j.QUOTA_REACHED?j.QUOTA_REACHED:!hn.isRecordingSupported()&&this.isReplayRecorded(e)?j.ANALYTICS_ONLY:e.collectState===j.RECORDING_RULES_TARGETING?j.RECORDING_RULES_TARGETING:e.collectState===j.ANALYTICS_ONLY_RULES_TARGETING?j.ANALYTICS_ONLY_RULES_TARGETING:e.collectState===j.RECORDING_GLOBAL_SAMPLING?j.RECORDING_GLOBAL_SAMPLING:j.ANALYTICS_ONLY},t.prototype.abortQuotaServiceRequest=function(){},t.prototype.isReplayRecorded=function(e){return e.collectState===j.RECORDING_GLOBAL_SAMPLING||e.collectState===j.RECORDING_RULES_TARGETING},t.prototype.getInitialCollectState=function(){return this.ta||j.QUOTA_REACHED},t.prototype.setVisitorService=function(e){},t.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(e){return j.ANALYTICS_ONLY},t.prototype.ra=function(e){this.ta=e,this._y&&this._y(e)},t.prototype.oR=function(){var e=this;this.$o.onError(function(n){return e.quotaServiceErrorHandler("HTTP:".concat(n.status," - fetching quota file for pid: ").concat(e.configuration.projectId))}),this.$o.onTimeout(function(){return e.quotaServiceErrorHandler("timeout")}),this.$o.onLoad(function(n){return e.quotaFileHandler(n)})},t.prototype.Vs=function(){this.$o.isInProgress()||this.$o.send()},t.prototype.quotaFileHandler=function(e){var n;if(!(!((n=e==null?void 0:e.quotas)===null||n===void 0)&&n.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.aR(e)},t.prototype.quotaServiceErrorHandler=function(e){var n="Quota error - ".concat(e);F.warn(n),this.ra(this.iR)},t.prototype.aR=function(e){var n,o,a=!1,s=!1;try{for(var u=D(e.quotas),c=u.next();!c.done;c=u.next()){var h=c.value;h.quotaType==="ANALYTICS"&&h.value?a=!0:h.quotaType==="RECORDING"&&h.value&&Ye.boolean(Math.round(h.value*100))&&(s=!0)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}!a&&s?this.quotaServiceErrorHandler("Quota types impossible: replay without analytics - ".concat(csJSON.stringify(e))):a&&s?hn.isRecordingSupported()?this.ra(j.RECORDING_GLOBAL_SAMPLING):this.ra(j.ANALYTICS_ONLY):a&&!s?this.ra(j.ANALYTICS_ONLY):this.ra(j.QUOTA_REACHED)},t.prototype.getRecordingConsentWithdrawn=function(){return j.ANALYTICS_ONLY},t}(oh);return X([B("Quota File: quotaFileHandler")],i.prototype,"quotaFileHandler",null),X([B("Quota File: onerror")],i.prototype,"quotaServiceErrorHandler",null),i}(),uE=function(){return 3e3}(),cE=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s){var u=r.call(this,e)||this;return u.configuration=e,u.na=n,u.S=o,u.Wl=a,u.A=s,u.ze=[],u}return t.prototype.refreshQuota=function(){},t.prototype.onQuotaReady=function(e){},t.prototype.canCollect=function(e){return!0},t.prototype.init=function(){this.sR()},t.prototype.sanitizeSessionCollectState=function(e){return(e.collectState===j.QUOTA_REACHED||e.collectState===j.RECORDING_RULES_TARGETING||e.collectState===j.RECORDING_TEMPORARILY)&&(e.collectState=j.ANALYTICS_ONLY),e},t.prototype.computeInitialCollectState=function(e){return gr.isReplayConsentNeeded(this.configuration)?j.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Ms(e)},t.prototype.computeInitialCollectStateFromRecordingConsentGranted=function(e){return this.Ms(e)},t.prototype.Ms=function(e){return hn.isRecordingSupported()?(this.ze=[],Ye.percentage()<this.configuration.replayRecordingRate||this.Wl.isForceReplayRecorded()?csArray.prototype.push.call(this.ze,j.RECORDING_GLOBAL_SAMPLING):this.configuration.malkaUrlEnabled&&csArray.prototype.push.call(this.ze,j.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.ze,j.RECORDING_ETR_SAMPLING),this.ze.length>0?(this.Vs(e),j.RECORDING_TEMPORARILY):j.ANALYTICS_ONLY):j.ANALYTICS_ONLY},t.prototype.getEligibleCollectState=function(e){return hn.isRecordingSupported()?gr.isRecordingBlockedByConsent(e)?e.collectState===j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:j.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:e.collectState===j.RECORDING_GLOBAL_SAMPLING?j.RECORDING_GLOBAL_SAMPLING:(this.ze=[],this.configuration.malkaUrlEnabled&&(csArray.prototype.push.call(this.ze,j.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&csArray.prototype.push.call(this.ze,j.RECORDING_ETR_SAMPLING)),this.ze.length>0?(this.Vs(e),j.RECORDING_TEMPORARILY):(e.etrState===Ft.ETR_ON&&this.S.emitCollectStateChange(j.ANALYTICS_ONLY,Ft.ETR_ON),j.ANALYTICS_ONLY)):j.ANALYTICS_ONLY},t.prototype.Vs=function(e){var n,o=(n=this.R)===null||n===void 0?void 0:n.getVisitor();this.na.send({recordingTypes:csArray.prototype.map.call(this.ze,Number),url:this.A.getAnonymizedUrl(),projectId:this.configuration.projectId,uu:(o==null?void 0:o.id)||"",sn:(o==null?void 0:o.visitsCount)||"",pn:(e==null?void 0:e.pageNumber)||""})},t.prototype.abortQuotaServiceRequest=function(){this.na.abort()},t.prototype.isReplayRecorded=function(e){return gr.isRecordingBlockedByConsent(e)?!1:e.collectState===j.RECORDING_TEMPORARILY||e.collectState===j.RECORDING_GLOBAL_SAMPLING||e.collectState===j.RECORDING_URL_SAMPLING||e.etrState===Ft.ETR_ON},t.prototype.sR=function(){var e=this;this.na.onError(function(){return e.quotaServiceErrorHandler("NetworkError")}),this.na.onTimeout(function(){return e.quotaServiceTimeoutHandler()},uE),this.na.onLoad(function(n){return e.quotaServiceLoadHandler(n)})},t.prototype.quotaServiceErrorHandler=function(e){this.by("error - ".concat(e))},t.prototype.quotaServiceTimeoutHandler=function(){this.by("timeout")},t.prototype.by=function(e){var n=j.ANALYTICS_ONLY;this.Ay(this.ze)?(n=j.RECORDING_GLOBAL_SAMPLING,F.warn("Quota Service: request ".concat(e," - bypassed by GLOBAL_SAMPLING"))):F.warn("Quota Service: request ".concat(e)),this.S.emitCollectStateChange(n,Ft.ETR_OFF)},t.prototype.quotaServiceLoadHandler=function(e){if(e.status!==200){this.quotaServiceErrorHandler("Status code: ".concat(e.status));return}var n;try{n=csJSON.parse(e.responseText)}catch(u){this.quotaServiceErrorHandler("Unable to parse the quota service response: ".concat(e.responseText));return}var o=n.allowedRecordingTypes==null?void 0:csArray.prototype.map.call(n.allowedRecordingTypes,csString);if(!o){this.quotaServiceErrorHandler("recording types missing from quota service response");return}var a=Ft.ETR_OFF,s=j.ANALYTICS_ONLY;this.Ay(o)?s=j.RECORDING_GLOBAL_SAMPLING:this.uR(o)&&(s=j.RECORDING_URL_SAMPLING),this.cR(o)&&(a=Ft.ETR_ON),this.S.emitCollectStateChange(s,a)},t.prototype.Ay=function(e){return csArray.prototype.some.call(e,function(n){return n===j.RECORDING_GLOBAL_SAMPLING})},t.prototype.uR=function(e){return csArray.prototype.some.call(e,function(n){return n===j.RECORDING_URL_SAMPLING})},t.prototype.cR=function(e){return csArray.prototype.some.call(e,function(n){return n===j.RECORDING_ETR_SAMPLING})},t.prototype.setVisitorService=function(e){this.R=e},t.prototype.getInitialCollectState=function(){return j.ANALYTICS_ONLY},t.prototype.getRecordingConsentWithdrawn=function(){return j.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN},t}(oh);return X([B("Quota Service: onerror")],i.prototype,"quotaServiceErrorHandler",null),X([B("Quota Service: ontimeout")],i.prototype,"quotaServiceTimeoutHandler",null),X([B("Quota Service: onload")],i.prototype,"quotaServiceLoadHandler",null),i}();function lE(){var i="[data-cs-mask]",r="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],n=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return Ct(Ct([i,r,t],it(e),!1),it(n),!1)}function hE(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var ah=function(){var i=function(){function r(){this.lR={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.Tr={elementSelector:"",attrSelector:"",attrSelectors:[]};var t={PIISelectors:lE(),Attributes:hE()};this.Tr=H.getComputedSelectorSettings(t,this.Tr)}return r.prototype.init=function(){this.hR()},r.prototype.setMaskedElementSettingsFromCommand=function(t){if(t=H.sanitizeSelectorUserInput(t),!H.isSelectorUserInput(t))throw new Error("Command misuse: ".concat(qi[0]));this.mh(t)},r.prototype.setMaskedElementSettingsFromParent=function(t){var e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.mh(e)},r.prototype.getMaskedElementSettings=function(t){return t?this.Ty(this.lR):this.Tr},r.prototype.hR=function(){var t,e,n,o,a,s,u,c={PIISelectors:[],Attributes:[]};((o=(n=(e=window==null?void 0:window.ClickTaleSettings)===null||e===void 0?void 0:e.DOM)===null||n===void 0?void 0:n.PII)===null||o===void 0?void 0:o.Text)instanceof Array&&(t=c.PIISelectors).push.apply(t,Ct([],it(window.ClickTaleSettings.DOM.PII.Text),!1)),((u=(s=(a=window==null?void 0:window.ClickTaleSettings)===null||a===void 0?void 0:a.DOM)===null||s===void 0?void 0:s.PII)===null||u===void 0?void 0:u.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(function(h){J(h.attr)&&J(h.rule)&&c.Attributes.push({selector:h.rule,attrName:h.attr})}),this.mh(c)},r.prototype.mh=function(t){this.Tr=this.Ty(t)},r.prototype.Ty=function(t){return H.getComputedSelectorSettings(t,this.Tr)},r}();return i}();var fE=function(){var i=function(){function r(t,e,n,o,a){var s=this;this.h=t,this.mn=e,this.lr=n,this.C=o,this.S=a,this.fR=function(){var u,c=Rt.get(ve);c!==null&&Ju(c)?s.et.canCollect(jd(c))?s.init():!((u=s.h.voc)===null||u===void 0)&&u.enabled:(s.et.onQuotaReady(function(h){var f;h!==j.QUOTA_REACHED?s.init():!((f=s.h.voc)===null||f===void 0)&&f.enabled}),s.et.refreshQuota())}}return r.prototype.initWithQuota=function(){var t;if(!this.h.collectionEnabled){!((t=this.h.voc)===null||t===void 0)&&t.enabled;return}var e=new tS(this.h.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this.et=new sE(this.h,e,this.S),this.et.init(),this.fR()},r.prototype.init=function(){var t=this;Vr.isSupported()&&Vr.setDigestSalt(this.h.projectId.toString());var e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b,R,A,I,U,N,q,$,W,T,P,L,Y,G,at,St,Tt,zt,Le,Tr;this.C.schedule(function(){e=new Br,n=new Zl(e),a=new Jl(window.location,n),o=new ki(t.h,a,t.mn),o.init()}),this.C.schedule(function(){s=new XS,u=new KS,R=new HS(window.location,o);var pe=new aE;pe.init(),A=jl.create(F.warn),b=new zu(A);var Ue=b.create("".concat(t.h.getLegacyQuotaUri(),"/quota"),!0);t.et===void 0&&(t.et=new cE(t.h,Ue,t.S,R,a),t.et.init())}),this.C.schedule(function(){c=new AS(t.h,o,s),f=new CS(c,t.et)}),this.C.schedule(function(){p=new ZS(t.h,o,s),d=new _S(t.h,p,t.S,f),t.lr.setContext(d,f),t.et.setVisitorService(d)}),this.C.schedule(function(){Le=new xS(t.h,new OS(t.h,o,u),t.S),m=new PS(d,f,Le),w=new Bd(t.h,o,s),E=new DS(window.location,w),_=new LS(E),N=new IS(t.h,d,E),Tt=new $l(Me,t.h),L=new th(Tt),Y=new eh(Tt),G=new rh(Tt),at=new nh,St=new Ql(L,Y,G,at),P=new Yl([Jo.UXA]),q=new zS(P,St),$=new zl(a),W=new ql($,P);var pe=new Fd(t.h,o,s);zt=new QS(e,pe),T=new JS(P,zt);var Ue=new xd(d,f,E,zt,t.h);if(0){var Ke,Nt;if(0)var te}}),this.C.schedule(function(){var pe=new wS(t.h,d,E,N,m,I,h,R);pe.compute(function(Ue){t.C.schedule(function(){q.init();var Ke=new YS,Nt=new MS(t.h,P,Le,f,t.S),te=new BS(t.h,o,u),zr=new FS(t.S,window.location,te),Kn=new GS(P,zr),Yi=new WS(P,t.h),Jn=new qS(t.h,d,f,U);if(Ue){t.S.emitInitTracking();var Xi=new ah,Qn=new ES(Jn,A,d,f,t.S,P,q,t.h,Kn,zr,Nt,Le,e,Tt,n,a,Yi,Ke,St,zt,T,$,W,t.C,b,o,u,t.et,Xi);Qn.start()}else{var Zn=new kS(t.S,P,q,Kn,zr,_,Nt);Zn.start()}})})})},r}();return i}(),Dr=function(){var i;return function(r){var t="{domain}/tag/tag.bundle.js?v={version}",e,n={loadBundle:function(b){var R=b.source,A=b.data;if(s(A)){var I=function(){var U=o(t,A);p(U,function(){return R.postMessage("csBundleLoaded",b.origin)})};e=A.token,_(n.loadBundle),u(b.origin)&&I()}}};function o(b,R){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(b,"{version}",R.version),"{token}",R.token),"{domain}",R.domain)}function a(){return e}r.getToken=a;function s(b){return b&&b.type==="csBundleInjection"&&u(b.domain)&&h(b.version)&&c(b.token)}r.isAuthorizedIncomingMessage=s,r.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function u(b){var R=/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/;return R.test(b)||r.hjDomainRegex.test(b)}r.isAuthorizedDomain=u;function c(b){return/^[a-zA-Z0-9]+$/.test(b)}r.isAuthorizedToken=c;function h(b){return/^[a-zA-Z0-9\.]+$/.test(b)}r.isAuthorizedTagVersion=h;function f(){var b=window.opener||window.parent;return window!==b&&window.addEventListener}r.isActivable=f;function p(b,R){var A=document.createElement("script");A.type="text/javascript",A.async=!0,A.src=b,A.onload=R,A.charset="utf-8",document.head.appendChild(A)}r.addScript=p;function d(b){var R=document.createElement("link");R.rel="stylesheet",R.href=b,document.head.appendChild(R)}r.addStyle=d;function m(b){return"".concat(b,"?cb=").concat(new csDate().getTime())}r.addCacheBusting=m;function w(){E(n.loadBundle)}r.waitForBundleInjection=w;function E(b){window.addEventListener("message",b,!1)}r.listen=E;function _(b){window.removeEventListener("message",b,!1)}r.removeListener=_}(i||(i={})),i}(),du=function(){return"_hp_ved"}(),pE=function(){return 18e5}(),Xn=function(){return"https://heapanalytics.com"}(),dE=function(){return"".concat(Xn,"/js/ved.js")}(),vE=function(){return"".concat(Xn,"/css/ved.css")}(),yE=function(){return"".concat(Xn,"/js/ved.css")}(),gE=function(){var i;return function(r){r.StatusUpdate="status"}(i||(i={})),i}(),mE=function(){var i;return function(r){r.ReceivedInitMessage="received_init_message"}(i||(i={})),i}();var To=function(){var i;return function(r){var t=!1;function e(){var h=[vE,yE];csArray.prototype.forEach.call(h,function(f){Dr.addStyle(f)})}function n(h){var f=new csRegExp("(^|;)[ ]*"+h+"=([^;]*)"),p=f.exec(document.cookie);return p?decodeURIComponent(p[2]):null}function o(h,f,p){var d=encodeURIComponent(h)+"="+encodeURIComponent(f),m=new csDate;m.setTime(m.getTime()+p);var w=d+"; expires="+m.toUTCString()+"; path=/";document.cookie=w}function a(){o(du,"on",pE)}function s(){return n(du)==="on"}r.isVLCookieEnabled=s;function u(h){window.heapV=Object.assign({},window.heap,{source:h==null?void 0:h.source,uri:Xn,loadArgs:h==null?void 0:h.data.args,identify:function(){},track:function(){}})}r.initializeHeapV=u;function c(h){var f;if(h){var p={type:gE.StatusUpdate,value:mE.ReceivedInitMessage},d={targetOrigin:h==null?void 0:h.origin};(f=h==null?void 0:h.source)===null||f===void 0||f.postMessage(p,d)}t||(t=!0,a(),u(h),window.heapV&&(Dr.addScript(dE),e()))}r.init=c}(i||(i={})),i}(),SE=function(){var i;return function(r){var t=window.opener||window.parent,e="tag",n="https://app.contentsquare.com",o=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,Dr.hjDomainRegex],a,s,u={initHeapVisualLabeler:function(A){var I;A.origin===Xn&&((I=A.data)===null||I===void 0?void 0:I.message)==="init"&&A.source&&(To.init(A),_(u.initHeapVisualLabeler))},ping:function(A){if(typeof A.data=="string"&&A.data==="ping"&&f(A.origin)){s=A.origin;var I=Dr.hjDomainRegex.test(A.origin);a=I?n:A.origin,_(u.ping),E(u.insertMessageScript),p(Dr.addCacheBusting("utils.js"))}},insertMessageScript:b(function(A){typeof A.data=="string"&&A.data!=="ping"&&(_(u.insertMessageScript),p(A.data))})};function c(){return Dr.getToken()}r.getToken=c;function h(){return window!==t&&window.addEventListener}r.isActivable=h;function f(A){return csArray.prototype.some.call(o,function(I){return I.test(A)})}r.isAuthorizedDomain=f;function p(A,I){var U=document.createElement("script");U.type="text/javascript",U.async=!0;var N=a==null?void 0:csString.prototype.replace.call(a,/^https?:/,"");U.src="".concat(N,"/").concat(e,"/").concat(A),U.onload=I,U.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(U),d(A)}function d(A){csString.prototype.includes.call(A,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(A,"&mode=")[1])}function m(){E(u.ping),Dr.waitForBundleInjection()}r.waitForConnection=m;function w(){E(u.initHeapVisualLabeler),To.isVLCookieEnabled()&&To.init()}r.waitForHeapVisualLabeler=w;function E(A){window.addEventListener("message",A,!1)}r.listen=E;function _(A){window.removeEventListener("message",A,!1)}r.removeListener=_;function b(A){return function(I){I.origin===s&&A(I)}}r.secureListener=b;function R(A){s&&t.postMessage(A,s)}r.post=R}(i||(i={})),i}();var yi=function(){return window.CSFrameCommunication||SE}(),EE=function(){var i=function(r){Q(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.emitTrackingContextResultMessage=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onTrackingContextResultCallback&&u.onTrackingContextResultCallback(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitAfterPageViewCallback=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onAfterPageViewCallback&&u.onAfterPageViewCallback(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitIntegrationSessionKeyCallback=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onIntegrationSessionKeyCallback&&u.onIntegrationSessionKeyCallback(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitParentRecordingContextChange=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onParentRecordingContextChange&&u.onParentRecordingContextChange(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitParentSensitiveStatusChange=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onParentSensitiveStatusChange&&u.onParentSensitiveStatusChange(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitStartAnalytics=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onStartAnalytics&&s.onStartAnalytics()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitStopAnalytics=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onStopAnalytics&&s.onStopAnalytics()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitStartRecording=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onStartRecording&&s.onStartRecording()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitStopRecording=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onStopRecording&&s.onStopRecording()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t}(Wi);return i}(),sh=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.C=e,n}return t.prototype.emitBeforeNaturalPageView=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onBeforeNaturalPageView&&s.onBeforeNaturalPageView()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterNaturalPageView=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterNaturalPageView&&s.onAfterNaturalPageView()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitInitTracking=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onInitTracking&&s.onInitTracking()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitStartTracking=function(e){var n,o,a=function(f){f.onStartTracking&&s.C.schedule(function(){return f.onStartTracking(e)})},s=this;try{for(var u=D(this.listeners),c=u.next();!c.done;c=u.next()){var h=c.value;a(h)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(n)throw n.error}}},t.prototype.emitArtificialPageViewEnd=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;if(s.onArtificialPageViewEnd)try{s.onArtificialPageViewEnd()}catch(u){F.error(u)}}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitBeforeArtificialPageView=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onBeforeArtificialPageView&&s.onBeforeArtificialPageView()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterArtificialPageView=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterArtificialPageView&&s.onAfterArtificialPageView()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitBeforeSessionRenewal=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onBeforeSessionRenewal&&s.onBeforeSessionRenewal()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterSessionRenewal=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterSessionRenewal&&s.onAfterSessionRenewal()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitOptout=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onOptout&&s.onOptout()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitReplayUnanonymizationConsentGranted=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onReplayUnanonymizationConsentGranted&&s.onReplayUnanonymizationConsentGranted()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitReplayUnanonymizationConsentWithdrawn=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onReplayUnanonymizationConsentWithdrawn&&s.onReplayUnanonymizationConsentWithdrawn()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterReplayRecordingConsentGranted=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterReplayRecordingConsentGranted&&s.onAfterReplayRecordingConsentGranted()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterReplayRecordingConsentWithdrawn=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterReplayRecordingConsentWithdrawn&&s.onAfterReplayRecordingConsentWithdrawn()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitCollectStateChange=function(e,n){var o,a;try{for(var s=D(this.listeners),u=s.next();!u.done;u=s.next()){var c=u.value;c.onCollectStateChange&&c.onCollectStateChange(e,n)}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}},t.prototype.emitInitialDomStart=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onInitialDomStart&&s.onInitialDomStart()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitInitialDomDone=function(e){var n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;u.onInitialDomDone&&u.onInitialDomDone(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}},t.prototype.emitRecordingContextChange=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onRecordingContextChange&&s.onRecordingContextChange()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitSensitiveStatusChange=function(){var e,n,o;try{for(var a=D(this.listeners),s=a.next();!s.done;s=a.next()){var u=s.value;(o=u.onSensitiveStatusChange)===null||o===void 0||o.call(u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},t.prototype.emitBeforeVisitorRenewal=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onBeforeVisitorRenewal&&s.onBeforeVisitorRenewal()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterVisitorCleared=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterVisitorCleared&&s.onAfterVisitorCleared()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t.prototype.emitAfterVisitorRenewal=function(){var e,n;try{for(var o=D(this.listeners),a=o.next();!a.done;a=o.next()){var s=a.value;s.onAfterVisitorRenewal&&s.onAfterVisitorRenewal()}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}},t}(Wi);return X([Jt("emitStartTracking")],i.prototype,"emitStartTracking",null),i}(),uh=function(){return["trackTransaction"]}(),wE=function(){var i=function(){function r(t){this.G=t}return r.prototype.init=function(){this.G.register(Hi),this.G.register(ja),this.G.register(Xo),this.G.register(Ko),this.G.register(Ca),this.G.register(Kc),this.G.register(Ea),this.G.register(Bi),this.G.register(wa),this.G.register(uh),this.G.register(vl),this.G.register(yl),this.G.register(Va),this.G.register(Wl),this.G.register(gl),this.G.register(Ia),this.G.register(Pa),this.G.register(Hc),this.G.register(Hl),this.G.register(Bl),this.G.register(Fl),this.G.register(Gl),this.G.register(Da),this.G.register(La),this.G.register(dS),this.G.register(eS),this.G.register(rS),this.G.register(nS)},r.prototype.onStartTracking=function(){this.G.start()},r.prototype.onOptout=function(){this.G.stop()},r}();return i}(),_E=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.f=e,o.T=n,o.Ht=[],o}return t.prototype.onStart=function(){this.commandsBatchReady()},t.prototype.onStop=function(){this.Ht=[]},t.prototype.register=function(e){var n,o,a=this,s=function(p){u.f.register([p],function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return a.send(p,d)})},u=this;try{for(var c=D(e),h=c.next();!h.done;h=c.next()){var f=h.value;s(f)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(o=c.return)&&o.call(c)}finally{if(n)throw n.error}}},t.prototype.send=function(e,n){csArray.prototype.push.call(this.Ht,{name:e,params:n}),this.isStarted&&this.commandsBatchReady()},t.prototype.commandsBatchReady=function(){if(this.Ht.length!==0){var e={commands:this.Ht};this.T.sendToParent(M.Commands,e),this.Ht=[]}},t}(wt);return X([B("Commands.iframe.commandsBatch.send")],i.prototype,"send",null),X([qn({wait:0,mode:"trailing"}),B("send iframe commands batch")],i.prototype,"commandsBatchReady",null),i}(),bE=function(){return"Buffer is full, events might be missing."}(),AE=function(){var i=function(){function r(t){t===void 0&&(t=25),this.Cy=t,this.Ui=[]}return r.prototype.reset=function(){this.Ui=[]},r.prototype.getMessages=function(){return this.Ui},r.prototype.addMessage=function(t){this.Ui.length<this.Cy?csArray.prototype.push.call(this.Ui,t):this.Ui.length===this.Cy&&(this.pR(t),csArray.prototype.push.call(this.Ui,t))},r.prototype.pR=function(t){t.type=M.ChildLogMessage,t.content={message:bE,errorCode:"",level:ft.warn}},r}();return i}(),ch=function(){var i=function(r){Q(t,r);function t(e){var n=r.call(this)||this;return n.buffer=new AE(e),n}return t}(wt);return i}(),TE=function(){return 25}(),RE=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s){var u=r.call(this,TE)||this;return u.h=e,u.S=n,u.Cr=o,u.zt=a,u.nn=s,u.qe=null,u.Iy={boundElement:window,type:"message",listener:function(c){return u.ul(c)}},u}return t.prototype.onStart=function(){Vt(this.Iy,!1),this.dR()},t.prototype.onStop=function(){jt(this.Iy,!1),this.qe&&(ct.closeChannelPort(this.qe),this.qe=null)},t.prototype.sendToParent=function(e,n){var o=this.buildChildBaseMessage(e,n);this.xs(o)},t.prototype.dR=function(){var e=this.buildChildBaseMessage(M.Discovery);ct.sendPostMessage(window.parent,"*",e)},t.prototype.buildChildBaseMessage=function(e,n){var o=ct.buildBaseMessage(e,ee.Child,this.h.projectId);return n&&(o.content=n),o},t.prototype.xs=function(e){this.qe!==null?ct.sendChannelMessage(this.qe,e):this.buffer.addMessage(e)},t.prototype.vR=function(e,n){var o=this,a=ct.getNewChannelMessage();this.qe=a.port1,this.qe.onmessage=function(u){o.ll(u)};var s=this.buildChildBaseMessage(M.Discovery);s.id=n,ct.sendPostMessage(window.parent,e,s,[a.port2]),this.sendAllMessagesFromBuffer()},t.prototype.ll=function(e){switch(e.data.type){case M.TrackingContextResultMessage:this.nn.emitTrackingContextResultMessage(e.data.content);break;case M.IntegrationCallback:{var n=e.data.content;n.initiator===un.AfterPageView?this.nn.emitAfterPageViewCallback(n):n.initiator===un.GetSessionKey?this.nn.emitIntegrationSessionKeyCallback(n):F.warn("Iframe child received unknown IntegrationCallback type from parent : ".concat(csJSON.stringify(e.data)));break}case M.Stop:this.S.emitOptout();break;case M.RecordingContext:{var o=e.data.content;this.Cr.setRecordingContext(o),this.nn.emitParentRecordingContextChange(o);break}case M.SensitiveStatus:{var a=e.data.content;this.zt.setSensitiveStatus(a),this.nn.emitParentSensitiveStatusChange(a);break}default:F.warn("Iframe child received unknown channelMessage type from parent : ".concat(csJSON.stringify(e.data)))}},t.prototype.ul=function(e){if(this.qe===null&&ct.isMessageValid(e,ee.Parent,this.h.projectId,this.h.hostnames))switch(e.data.type){case M.Stop:this.S.emitOptout();break;case M.Discovery:if(!qe(e.data.id)||e.data.id<0){F.warn("Iframe child received discovery without valid id from parent (".concat(e.origin,") : ").concat(csJSON.stringify(e.data)));return}this.vR(e.origin,e.data.id);break;default:F.warn("Iframe child received unknown postMessage type from parent (".concat(e.origin,") : ").concat(csJSON.stringify(e.data)))}},t.prototype.sendAllMessagesFromBuffer=function(){var e,n;if(this.qe!==null){var o=this.buffer.getMessages();try{for(var a=D(o),s=a.next();!s.done;s=a.next()){var u=s.value;ct.sendChannelMessage(this.qe,u)}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}this.yR(),this.buffer.reset()}},t.prototype.yR=function(){var e=ct.buildBaseMessage(M.EndOfBufferedMessages,ee.Child,this.h.projectId);ct.sendChannelMessage(this.qe,e)},t}(ch);return i}(),CE=function(){var i=function(){function r(t){this.T=t}return r.prototype.onStartTracking=function(){this.T.start()},r.prototype.onOptout=function(){this.T.stop()},r}();return i}(),IE=function(){var i=function(){function r(t,e,n,o,a){this.Y=t,this.nt=e,this.T=n,this.Cr=o,this.zt=a}return r.prototype.init=function(){var t=this;this.Y.onChildMessage(function(e,n,o){return t.nt.emitIframeEvent(e,n,o)}),this.Y.setSentiveStatusCallback(function(){return t.zt.getSensitiveStatus()}),this.Y.setRecordingContextCallback(function(){return t.Cr.getRecordingContext()})},r.prototype.onStartTracking=function(){this.Y.start()},r.prototype.onOptout=function(){this.Y.stop()},r.prototype.onIframeRecordingUserEvent=function(t){var e={events:t,containsUserEvent:!0};this.T.sendToParent(M.RecordingEvent,e)},r.prototype.onIframeRecordingBrowserEvent=function(t){var e={events:t,containsUserEvent:!1};this.T.sendToParent(M.RecordingEvent,e)},r.prototype.onIframeAnalysisUserEvent=function(t){var e={event:t,isUserEvent:!0};this.T.sendToParent(M.AnalysisEvent,e)},r.prototype.onIframeAnalysisBrowserEvent=function(t){var e={event:t,isUserEvent:!1};this.T.sendToParent(M.AnalysisEvent,e)},r.prototype.onIframeJavascriptError=function(t){this.T.sendToParent(M.JavascriptError,t)},r.prototype.onIframeApiError=function(t){this.T.sendToParent(M.ApiError,t)},r.prototype.onIframeDetailedApiError=function(t){this.T.sendToParent(M.DetailedApiError,t)},r.prototype.onIframeEmerchandisingMessage=function(t){this.T.sendToParent(M.EmerchandisingMessage,t)},r.prototype.onIframeCommands=function(t){this.T.sendToParent(M.Commands,t)},r.prototype.onIframeIntegrationCallback=function(t){this.T.sendToParent(M.IntegrationCallback,t)},r.prototype.onTrackingContextRequestCallback=function(t){this.T.sendToParent(M.TrackingContextRequestMessage,t)},r.prototype.onIframeStaticResource=function(t){this.T.sendToParent(M.StaticResource,t)},r.prototype.onIframeCustomError=function(t){this.T.sendToParent(M.CustomError,t)},r.prototype.onTrackingContextResultCallback=function(t){this.Y.sendToChildren(M.TrackingContextResultMessage,t)},r.prototype.onAfterPageViewCallback=function(t){this.Y.sendToChildren(M.IntegrationCallback,t)},r.prototype.onIntegrationSessionKeyCallback=function(t){this.Y.sendToChildren(M.IntegrationCallback,t)},r.prototype.onParentRecordingContextChange=function(t){this.Y.sendToChildren(M.RecordingContext,t)},r.prototype.onParentSensitiveStatusChange=function(t){this.Y.sendToChildren(M.SensitiveStatus,t)},r}();return i}(),PE=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u,c,h){var f=r.call(this)||this;return f.qr=e,f.kt=n,f.T=o,f.mr=a,f.Sr=s,f.Ln=u,f.Un=c,f.Vn=h,f}return t.prototype.init=function(){var e=this,n,o,a,s,u;this.qr.onEvent(function(c){return e.It(c)}),this.kt.onEvent(function(c){return e.It(c)}),(n=this.mr)===null||n===void 0||n.onEvent(function(c){return e.It(c)}),(o=this.Sr)===null||o===void 0||o.onEvent(function(c){return e.It(c)}),(a=this.Ln)===null||a===void 0||a.onEvent(function(c){return e.It(c)}),(s=this.Un)===null||s===void 0||s.onEvent(function(c){return e.Fe(c)}),(u=this.Vn)===null||u===void 0||u.onEvent(function(c){return e.Fe(c)})},t.prototype.onStart=function(){var e,n,o,a,s;this.qr.start(),this.kt.start(),(e=this.mr)===null||e===void 0||e.start(),(n=this.Sr)===null||n===void 0||n.start(),(o=this.Ln)===null||o===void 0||o.start(),(a=this.Un)===null||a===void 0||a.start(),(s=this.Vn)===null||s===void 0||s.start()},t.prototype.onStop=function(){var e,n,o,a,s;this.qr.stop(),this.kt.stop(),(e=this.mr)===null||e===void 0||e.stop(),(n=this.Sr)===null||n===void 0||n.stop(),(o=this.Ln)===null||o===void 0||o.stop(),(a=this.Un)===null||a===void 0||a.stop(),(s=this.Vn)===null||s===void 0||s.stop()},t.prototype.It=function(e){var n={isUserEvent:!0,event:e};this.z(n)},t.prototype.Fe=function(e){var n={isUserEvent:!1,event:e};this.z(n)},t.prototype.z=function(e){!this.isStarted||e.event.type===Z.RESIZE||this.T.sendToParent(M.AnalysisEvent,e)},t}(wt);return i}(),OE=function(){return["webview:analytics:start"]}(),NE=function(){return["webview:analytics:stop"]}(),ME=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h){this.h=t,this.W=e,this.Dt=n,this.T=o,this.pt=a,this.ft=s,this.f=u,this.kt=c,this.fe=h}return r.prototype.init=function(){var t,e,n=cl(this.h,this.W,this.fe),o=[];this.h.collectSubmit||csArray.prototype.push.call(o,"submit");var a=new Zc(n,this.W,this.Dt,o),s=this.pt.isInWebViewContext()?{collectGestureVelocity:!0,collectGestureDistance:!0}:{collectGestureVelocity:!1,collectGestureDistance:!1},u=ll(this.h,this.W,this.fe),c=new Qc(u,this.kt,s),h,f,p;this.ia=new PE(a,c,this.T,t,e,f,p,h),this.ia.init(),this.pt.isInWebViewContext()&&this.gR()},r.prototype.onStartTracking=function(){this.ia.start()},r.prototype.onOptout=function(){this.ia.stop()},r.prototype.onStartAnalytics=function(){this.ia.start()},r.prototype.onStopAnalytics=function(){this.ia.stop()},r.prototype.gR=function(){var t=this;this.f.register(OE,function(){return t.ft.emitStartAnalytics()},{disableApplyPending:!0}),this.f.register(NE,function(){t.ft.emitStopRecording(),t.ft.emitStopAnalytics()},{disableApplyPending:!0})},r}();return i}();var xE=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u){s===void 0&&(s=[]);var c=r.call(this)||this;return c.h=e,c.tt=n,c.T=o,c.Pe=a,c.Oe=s,c.Lt=u,c.Sh=!1,c.An=!1,c.Dr=new da,c.j=[],c.Hs=!1,c.vr=function(h){return c.Fe(h)},c.Xi=function(h){return c.It(h)},c}return t.prototype.init=function(){this.Bu()},t.prototype.Bu=function(){var e;this.Pe.onEvent(this.vr,this.Xi),(e=this.tt)===null||e===void 0||e.onInputNodeToEncrypt(this.Xi)},t.prototype.setEnableOnlineAssets=function(e){this.Sh=e!=null?e:!1},t.prototype.setOnlineAssetsEnabledOnNextStart=function(e){this.An=e},t.prototype.getStaticResourceManagerStatus=function(){return this.Lt?{supported:cn.isSupported(),onlineAssets:{activated:this.Sh,enableOnNextStart:this.An}}:null},t.prototype.Fe=function(e){this.wR(e),this.Bs()},t.prototype.It=function(e){this.Py(e),this.Bs()},t.prototype.Py=function(e){csArray.prototype.push.call(this.j,e),this.Hs=!0},t.prototype.wR=function(e){csArray.prototype.push.call(this.j,e)},t.prototype.Bs=function(){rt(this.Oe,function(n){var o;return(o=n.flushEvents)===null||o===void 0?void 0:o.call(n)});var e={containsUserEvent:this.Hs,events:this.j};this.T.sendToParent(M.RecordingEvent,e),this.j=[],this.Hs=!1},t.prototype.onStart=function(){this.Lt&&this.Sh&&this.Lt.enableOnlineAssets(),this.Pe.start(),this.h.emitDebugEvents&&this.Dr.emit("replayRecordingStarted"),rt(this.Oe,function(e){e.start&&e.start()})},t.prototype.onStop=function(){var e;this.Pe.stop(),(e=this.Lt)===null||e===void 0||e.disableOnlineAssets(),rt(this.Oe,function(n){n.stop&&n.stop()})},t.prototype.addInitialDom=function(e){for(var n=0;n<this.j.length;n+=1){var o=this.j[n];if(o.date>=e.date){csArray.prototype.splice.call(this.j,n,0,e),this.Hs=!0,this.Bs();return}}this.Py(e),this.Bs()},t}(wt);return i}(),lh=function(){var i=function(){function r(t){this.h=t}return r.prototype.isReplayUnanonymizedAllowedByConsent=function(){return!this.h.consentRequired},r}();return i}(),Qo=function(){var i=function(){function r(){}return r.isWebViewLocalAssetsSupported=function(){return"URL"in window},r}();return i}(),kE=function(){return["webview:replay:start"]}(),DE=function(){return["webview:replay:stop"]}(),LE=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.h=t,this.ft=e,this.Oy=n,this.an=o,this.Eh=a,this.f=s,this.A=u,this.zt=c,this._h=!1}return r.prototype.init=function(){var t=this,e=new lh(this.h),n=new Ma;this.$t=new zl(this.A);var o=new ql(this.$t,this.f);if(o.init(),this.ot=new Na(e,this.h,this.A,n),this.ot.init(),Qo.isWebViewLocalAssetsSupported()){var a=function(f){t.oa(f)},s=function(f){return F.error("An error occurred while fetching a styleSheet: "+f)},u=new Set,c=function(f){return!u.has(f)},h=function(f){u.add(f.assetId),t.oa([f])};this.Oy.onAsset(function(f){t._R(f)}),this.Oy.onStyleSheetFound(function(f){t.Eh.getStyleSheetAssets(f.assetId,a,s,c,h)})}this.bR()},r.prototype.onStartRecording=function(){if(this._h=!0,!this.$t.isUrlExcludedForSessionReplay()){var t=this.zt.getSensitiveStatus();this.ft.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}},r.prototype.onStopRecording=function(){this._h=!1,this.ft.emitParentRecordingContextChange({isRecording:!1})},r.prototype.onArtificialPageViewEnd=function(){this.ft.emitParentRecordingContextChange({isRecording:!1})},r.prototype.onAfterArtificialPageView=function(){if(this.N()&&!this.$t.isUrlExcludedForSessionReplay()){var t=this.zt.getSensitiveStatus();this.ft.emitParentRecordingContextChange({isRecording:!0,useAnonymization:t.useAnonymization})}},r.prototype.N=function(){return this._h},r.prototype.bR=function(){var t=this;this.f.register(kE,function(){t.ft.emitStartAnalytics(),t.ft.emitStartRecording()},{disableApplyPending:!0}),this.f.register(DE,function(){return t.ft.emitStopRecording()},{disableApplyPending:!0})},r.prototype._R=function(t){this.an.sendToParent(M.Assets,{assets:[t]})},r.prototype.oa=function(t){t.length!==0&&this.an.sendToParent(M.Assets,{assets:t})},r}();return i}();function UE(i){var r=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return i.replace(r,function(t,e,n,o){if(e==="\\")return t.slice(1);if(o)return o;var a=parseInt(n,16),s=55296<=a&&a<=57343;return s||a===0||a>1114111?"\uFFFD":String.fromCodePoint(a)})}var VE=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\))/g;function jE(i,r){var t=i.replace(VE,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=e[3]||e[4],a=e[9]||e[10]||e[11],s=UE((o||a).trim()),u=o?"@import ":"",c=r(s)||s;return u+"url("+HE(c)+")"});return t}function HE(i){return i.indexOf('"')===-1?'"'+i+'"':i.indexOf("'")===-1?"'"+i+"'":i}function BE(i){var r=[];return jE(i,function(t){return r.push(t),t}),r}var hh=function(){var i=function(){function r(t){this.AR=t}return r.prototype.getStyleSheetAssets=function(t,e,n,o,a){var s=this,u=[];if(!Ci(t)){n("Not a recognized valid css file path ".concat(t));return}var c=function(h,f){var p=s.TR(h,f);csArray.prototype.forEach.call(p,function(d){csArray.prototype.push.call(u,d),Ci(d.assetId)&&o(d.assetId)&&(a==null||a(d),s.getStyleSheetAssets(d.assetId,e,n,o,a))}),e(u)};this.AR.getResourceContentText(t,c,n)},r.prototype.TR=function(t,e){return this.RR(t,BE(e))},r.prototype.RR=function(t,e){return csArray.prototype.map.call(csArray.prototype.filter.call(csArray.prototype.filter.call(e,function(n){return!re(n)}),function(n){return!rc(n)}),function(n){return{assetId:Bu(n,t),assetBasePath:t,assetRawPath:n}})},r}();return i}(),fh=function(){var i=function(){function r(){}return r.prototype.getResourceContentText=function(t,e,n){var o=function(s){e(t,s.responseText)},a=this.CR(o,n);a.open("GET",t),a.send()},r.prototype.CR=function(t,e){var n=new XMLHttpRequest;return n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(n.status===200?t(n):e(n.statusText))},n},r}();return i}(),FE=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.Ae=e,o.T=n,o}return t.prototype.onStart=function(){},t.prototype.onStop=function(){},t.prototype.init=function(){var e=this;this.Ae.onSendStaticResource(function(n){return e.T.sendToParent(M.StaticResource,n)})},t}(wt);return i}(),GE=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h,f,p,d,m){this.h=t,this.I=e,this.jt=n,this.S=o,this.T=a,this.Cr=s,this.f=u,this.nn=c,this.pt=h,this.A=f,this.zt=p,this.K=d,this.tt=m}return r.prototype.init=function(){var t=this,e=[],n=this.Cr.getRecordingContext();this.yo=new _c(!!n.useAnonymization,this.h.whitelistedAttributes,this.I,this.h.anonymizeDigits);var o=[];csArray.prototype.push.call(o,new mc,this.yo,new bc(this.K)),csArray.prototype.push.call(o,new Ac);var a=new yc;if(csArray.prototype.push.call(e,a),0){var s;if(s)var u}!this.pt.isInWebViewContext()&&this.h.useStaticResourceManager&&cn.isSupported()&&(this.Lt=new cn,csArray.prototype.push.call(o,this.Lt),this.Ae=new Vc,this.bh=new FE(this.Ae,this.T),this.bh.init()),this.xn=new tc,this.xn.init(),csArray.prototype.push.call(e,this.xn),csArray.prototype.push.call(e,new fc(window.location,this.I));var c=[this.jt,new lc,new Lc(csArray.prototype.filter.call(e,function(d){return d})),new Ic,new Pc,new Nc,new Cc(this.tt)],h=new Dc(c,o),f=new Uc(h,this.S,this.Ae);if(this.vn=new xE(this.h,this.tt,this.T,f,e,this.Lt),this.f.register(jc,function(){var d=t.Cr.getRecordingContext();return d.isRecording}),this.f.register(Bc,function(){return t.vn.getStaticResourceManagerStatus()}),this.vn.init(),this.pt.isInWebViewContext()){var p=new hh(new fh);this.Ah=new LE(this.h,this.nn,a,this.T,p,this.f,this.A,this.zt),this.nn.addListener(this.Ah),this.S.addListener(this.Ah),this.Ah.init()}},r.prototype.onParentRecordingContextChange=function(t){var e,n;t.useAnonymization!==void 0&&this.Mn(t.useAnonymization),t.enableOnlineResourcesOnNextPageview!==void 0&&this.vn.setOnlineAssetsEnabledOnNextStart(t.enableOnlineResourcesOnNextPageview),t.isRecording?(this.Rc(),this.vn.setEnableOnlineAssets(t.enableOnlineResources),this.vn.start(),(e=this.bh)===null||e===void 0||e.start()):(this.vn.stop(),(n=this.bh)===null||n===void 0||n.stop())},r.prototype.onInitialDomStart=function(){},r.prototype.onInitialDomDone=function(t){this.xn.start(),this.vn.addInitialDom(t)},r.prototype.Mn=function(t){var e;this.yo.setAnonymization(t),(e=this.OE)===null||e===void 0||e.setAnonymization(t)},r.prototype.onOptout=function(){this.vn.stop()},r.prototype.Rc=function(){var t,e,n,o;if(!((e=(t=this.h.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){var a=(o=(n=this.h.experimental.sessionReplay)===null||n===void 0?void 0:n.shadowRoot)===null||o===void 0?void 0:o.filterByHostSelector;rt(a,function(s){tn(s)&&Xe.setShadowRootFilter(function(u){try{return le.call(u.host,s)}catch(c){return!1}})})}},r}();return i}(),zE=function(){var i=function(){function r(t,e){this.an=t,this.Ny=e}return r.prototype.init=function(){var t=this;this.an.onWebViewEvent(function(e,n){t.Ny.emitWebviewEventToBridge(e,n)})},r.prototype.onStartTracking=function(){this.an.start()},r.prototype.onOptout=function(){this.an.stop()},r.prototype.onStartAnalytics=function(){this.an.setAnalyticsStatus(!0)},r.prototype.onStopAnalytics=function(){this.an.setAnalyticsStatus(!1)},r.prototype.onParentRecordingContextChange=function(t){this.Ny.setSessionReplayStatus(t.isRecording)},r}();return i}(),Te=function(){var i;return function(r){r[r.PAGE_VIEW=4]="PAGE_VIEW",r[r.TAP=6]="TAP",r[r.LONG_PRESS=8]="LONG_PRESS",r[r.DRAG=9]="DRAG",r[r.FLICK=10]="FLICK",r[r.DETAILED_API_ERROR=13]="DETAILED_API_ERROR",r[r.JAVASCRIPT_ERROR_SR=19]="JAVASCRIPT_ERROR_SR",r[r.CUSTOM_ERROR_SR=20]="CUSTOM_ERROR_SR",r[r.API_ERROR=21]="API_ERROR",r[r.CUSTOM_ERROR_AN=25]="CUSTOM_ERROR_AN",r[r.JAVASCRIPT_ERROR_AN=26]="JAVASCRIPT_ERROR_AN"}(i||(i={})),i}(),qE=function(){var i=function(){function r(){this.Wn=1}return r.prototype.transformEvent=function(t){switch(t.type){case Z.TAP:return{version:this.Wn,type:Te.TAP,data:{path:t.tgt}};case Z.DRAG:{var e=t;return{version:this.Wn,type:Te.DRAG,data:{path:e.tgt,direction:e.fd,distance:e.distance,velocity:e.velocity}}}case Z.FLICK:{var n=t;return{version:this.Wn,type:Te.FLICK,data:{path:n.tgt,direction:n.fd,distance:n.distance,velocity:n.velocity}}}default:return null}},r}();return i}(),WE=function(){var i=function(){function r(t,e,n,o){this.A=t,this.se=e,this.ue=n,this.Jr=o,this.Wn=1}return r.prototype.transformEvent=function(t,e){switch(t){case M.ApiError:case M.DetailedApiError:{var n=this.ue.anonymize(e);return{version:this.Wn,data:n}}case M.JavascriptError:{var o=k(k({},e),{pageUrl:this.A.getAnonymizedUrl()}),n=this.se.anonymize(o);return{version:this.Wn,data:k(k({},n),{date:V.now()})}}case M.CustomError:{var a=e;return a.message=this.Jr.anonymize(a.message),{version:this.Wn,data:k(k({},a),{date:V.now()})}}default:return null}},r}();return i}(),YE=function(){return 2}(),At=function(){var i;return function(r){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}r.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{var m=window.CSJavascriptBridge.getVersion();if(Ie(m))return m}catch(w){F.warn("an error occurred when calling getVersion")}return null}r.getBridgeVersion=e;function n(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}r.notifyIsReadyForTracking=n;function o(m){window.CSJavascriptBridge.sendEvent(csJSON.stringify(m))}r.sendAnalysisEvent=o;function a(m){var w,E;if(window.CSJavascriptBridge.sendSREvent)try{for(var _=D(m.events),b=_.next();!b.done;b=_.next()){var R=b.value;window.CSJavascriptBridge.sendSREvent(csJSON.stringify(R))}}catch(A){w={error:A}}finally{try{b&&!b.done&&(E=_.return)&&E.call(_)}finally{if(w)throw w.error}}}r.sendSREvent=a;function s(m){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(m))}r.sendLog=s;function u(){window.CSJavascriptBridge.optIn()}r.sendOptIn=u;function c(){window.CSJavascriptBridge.optOut()}r.sendOptOut=c;function h(m,w){window.CSJavascriptBridge.sendDynamicVar(m,w)}r.sendDynamicVariable=h;function f(m,w,E){window.CSJavascriptBridge.sendTransaction(m,w,E)}r.sendTransaction=f;function p(m,w){if(window.CSJavascriptBridge.sendAssets){var E=csJSON.stringify(m);window.CSJavascriptBridge.sendAssets(E,w||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(m,function(_){return _.assetId}))}r.sendAssets=p;function d(m){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(m))}r.sendNativeSREvent=d}(i||(i={})),i}(),XE=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.My=t,this.$e=e,this.IR=n,this.Fs=o,this.Vi=a,this.S=s,this.A=u,this.ut=c,this.Th=!1}return r.prototype.emitWebviewEventToBridge=function(t,e){return Kt(this,void 0,void 0,function(){var n,o,a,s,u,c,h,f,p=this;return Gt(this,function(d){switch(d.label){case 0:switch(n=t,n){case M.AnalysisEvent:return[3,1];case M.RecordingEvent:return[3,2];case M.ChildLogMessage:return[3,3];case M.Commands:return[3,4];case M.Assets:return[3,5];case M.JavascriptError:return[3,7];case M.ApiError:return[3,8];case M.DetailedApiError:return[3,9]}return[3,10];case 1:return o=this.IR.transformEvent(e.event),o&&At.sendAnalysisEvent(o),[3,11];case 2:return At.sendSREvent(e),[3,11];case 3:return At.sendLog(e),[3,11];case 4:return F.tryToExecute("SDKMessageUtils.sendMessage.sendCommandMessage: ".concat(e),function(){p.PR(e)})(),[3,11];case 5:return a=e.assets,s=e.serializationId,[4,this.Vi.getTransformedAssets(a,s)];case 6:return u=d.sent(),At.sendAssets(u,s),[3,11];case 7:return c=this.Fs.transformEvent(M.JavascriptError,e),c&&(this.Th&&At.sendNativeSREvent(k(k({},c),{type:Te.JAVASCRIPT_ERROR_SR})),At.sendAnalysisEvent(k(k({},c),{type:Te.JAVASCRIPT_ERROR_AN}))),[3,11];case 8:return h=this.Fs.transformEvent(M.ApiError,e),h&&(At.sendAnalysisEvent(k(k({},h),{type:Te.API_ERROR})),pt.counters.networkRequests.count("collected")),[3,11];case 9:return f=this.Fs.transformEvent(M.DetailedApiError,e),f&&(At.sendNativeSREvent(k(k({},f),{type:Te.DETAILED_API_ERROR})),pt.counters.networkRequests.count("collected")),[3,11];case 10:return[3,11];case 11:return[2]}})})},r.prototype.setSessionReplayStatus=function(t){this.Th=t},r.prototype.PR=function(t){var e,n,o=t.commands;try{for(var a=D(o),s=a.next();!s.done;s=a.next()){var u=s.value;switch(!0){case csArray.prototype.indexOf.call(Wl,u.name)>=0:At.sendOptIn();break;case csArray.prototype.indexOf.call(Va,u.name)>=0:this.S.emitOptout(),At.sendOptOut();break;case csArray.prototype.indexOf.call(Hi,u.name)>=0:this.NR(u);break;case csArray.prototype.indexOf.call(Ca,u.name)>=0:this.MR(u);break;case csArray.prototype.indexOf.call(Ea,u.name)>=0:this.xy(u);break;case csArray.prototype.indexOf.call(Bi,u.name)>=0:break;case csArray.prototype.indexOf.call(wa,u.name)>=0:this.ks();break;case csArray.prototype.indexOf.call(uh,u.name)>=0:this.xy(u),this.ks();break;case csArray.prototype.indexOf.call(Oi,u.name)>=0:this.ut.addUrlMaskingPattern(u.params[0]);break;case csArray.prototype.indexOf.call(Da,u.name)>=0:this.ut.addPartialUrlMaskingPattern(u.params[0]);break;case csArray.prototype.indexOf.call(La,u.name)>=0:this.ut.resetPartialUrlMaskingPatterns();break;case csArray.prototype.indexOf.call(mn,u.name)>=0:this.xR(u);break;default:F.warn("WebviewBridgeEventEmitter received an unknown command: ".concat(csJSON.stringify(u)));break}}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}},r.prototype.NR=function(t){if(t.params.length===1){var e=t.params[0];if(!(!ue(e)||!("key"in e)||!("value"in e))&&Ln.isKeyValid(e.key)&&Ln.isValueValid(e.value)){var n=this.My.anonymizePII(e.key),o=qe(e.value)?e.value:this.My.anonymizePII(e.value);At.sendDynamicVariable(n,o)}}},r.prototype.MR=function(t){if(t.params.length===1){var e=t.params[0];if(J(e)){var n={type:Te.PAGE_VIEW,version:1,data:{url:e}};this.A.overridePath(e),this.S.emitArtificialPageViewEnd(),At.sendAnalysisEvent(n),this.S.emitAfterArtificialPageView()}}},r.prototype.xy=function(t){if(t.params.length===1){var e=it(t.params,1),n=e[0];n.value&&(n.revenue=n.value),this.$e.addTransaction(n)}},r.prototype.ks=function(){var t=this.$e.getTransaction();Wo.isValid(t)&&(At.sendTransaction(t.id?t.id:null,t.revenue,t.currency?t.currency:""),this.$e.clear())},r.prototype.xR=function(t){if(!(t.params.length<1)){var e=t.params[0],n=t.params[1]||{};if(J(e)&&ue(n)){var o=Tl.buildCustomErrorEvent(e,n),a=this.Fs.transformEvent(M.CustomError,o);a&&(this.Th&&At.sendNativeSREvent(k(k({},a),{type:Te.CUSTOM_ERROR_SR})),At.sendAnalysisEvent(k(k({},a),{type:Te.CUSTOM_ERROR_AN})))}}},r}();return i}();var KE=function(){return"REMOTE_ASSET"}(),vu=function(){return"LOCAL_ASSET"}(),JE=function(){return"UNKNOWN_ASSET_TYPE"}(),Zo=function(){return"NONE"}(),ph=function(){return"ONLY_LOCAL_ASSETS"}(),$o=function(){return"ALL"}(),QE=function(){var i=function(){function r(t){var e,n;this.kR=t,this.Rh=new Set,this.Gs=Zo;try{var o=(n=(e=window.CSJavascriptBridge)===null||e===void 0?void 0:e.getAssetTransformerMode)===null||n===void 0?void 0:n.call(e);(o===ph||o===$o)&&(this.Gs=o)}catch(a){}}return r.prototype.setAssetProcessingMode=function(t){this.Gs=t},r.prototype.getTransformedAssets=function(t,e){return Kt(this,void 0,void 0,function(){var n,o,a,s,u,c,h,f,p,d,m,w;return Gt(this,function(E){switch(E.label){case 0:if(this.Gs===Zo)return[2,t];n=[],E.label=1;case 1:E.trys.push([1,10,11,12]),o=D(t),a=o.next(),E.label=2;case 2:if(a.done)return[3,9];if(s=a.value,u=s.assetId,c=this.DR(u),!(this.Gs===$o||c===vu))return[3,7];if(h=u,this.LR(u,e)&&(h=this.UR(u,e)),this.Rh.has(h))return csArray.prototype.push.call(n,s),[3,8];E.label=3;case 3:return E.trys.push([3,5,,6]),[4,this.kR.getAssetContent(u)];case 4:return f=E.sent(),this.Rh.has(h)?(csArray.prototype.push.call(n,s),[3,8]):(csArray.prototype.push.call(n,k(k({},s),{retrievedAssetContent:f})),this.Rh.add(s.assetId),[3,6]);case 5:return p=E.sent(),F.error("an error occurred while getting data for asset: ".concat(h,": ").concat(p)),csArray.prototype.push.call(n,s),[3,6];case 6:return[3,8];case 7:csArray.prototype.push.call(n,s),E.label=8;case 8:return a=o.next(),[3,2];case 9:return[3,12];case 10:return d=E.sent(),m={error:d},[3,12];case 11:try{a&&!a.done&&(w=o.return)&&w.call(o)}finally{if(m)throw m.error}return[7];case 12:return[2,n]}})})},r.prototype.DR=function(t){var e=window.WEBVIEW_SERVER_URL||null;try{var n=new csURL(t).protocol;return n==="file:"||e&&csString.prototype.startsWith.call(t,e)?vu:KE}catch(o){F.error("Error constructing URL (".concat(t,'"): ').concat(o.message))}return JE},r.prototype.LR=function(t,e){return e&&Ci(t)||!1},r.prototype.UR=function(t,e){return"".concat(t,"#").concat(e)},r}();return i}(),ZE=function(){var i=function(){function r(){this.VR=52428800,this.jR=31457280,this.Ch=0,this.Ih=!1,this.zs=new Map,this.At=[]}return r.prototype.getAssetContent=function(t){return Kt(this,void 0,void 0,function(){var e,n=this;return Gt(this,function(o){return e=this.zs.get(t),e?[2,e]:[2,new Promise(function(a,s){csArray.prototype.push.call(n.At,{assetUrl:t,successCallback:a,errorCallback:s}),n.Ih||n.HR()})]})})},r.prototype.HR=function(){return Kt(this,void 0,void 0,function(){var t,e,n=this;return Gt(this,function(o){switch(o.label){case 0:this.Ih=!0,t=function(){var a,s,u,c,h,f,p,d,m,_,w,E,_;return Gt(this,function(b){switch(b.label){case 0:if(a=csArray.prototype.shift.call(e.At),s=a.assetUrl,u=a.successCallback,c=a.errorCallback,h=e.zs.get(s),h)return u(h),[2,"continue"];b.label=1;case 1:return b.trys.push([1,3,,4]),[4,e.BR("GET",s,"blob")];case 2:if(f=b.sent(),p=f.target,p.status===200){if(d=p.getResponseHeader("Content-Type"),m=Number(p.getResponseHeader("Content-Length")),m&&Number(m)>e.jR)return _="asset is too big, size = ".concat(m," bytes"),c(_),[2,"continue"];w=new csFileReader,w.onload=function(){var R=csString.prototype.split.call(w.result,"base64,")[1],A={data:R,mimeType:d!=null?d:""};n.Ch+=m,n.Ch>n.VR&&(n.Ch=0,n.zs.clear()),n.zs.set(s,A),u(A)},w.onerror=function(){var R="Error converting XHR response to base64";c(R)},w.readAsDataURL(p.response)}else c("error downloading ".concat(s,": ").concat(p.statusText));return[3,4];case 3:return E=b.sent(),_="Error downloading resource ".concat(s,": ").concat(E.message),c(_),[3,4];case 4:return[2]}})},e=this,o.label=1;case 1:return this.At.length>0?[5,t()]:[3,3];case 2:return o.sent(),[3,1];case 3:return this.Ih=!1,[2]}})})},r.prototype.BR=function(t,e,n){return new Promise(function(o,a){var s=new XMLHttpRequest;s.open(t,e),s.responseType=n,s.onload=o,s.onerror=a,s.send()})},r}();return i}();function $E(i,r){var t=cc(Sr(Sr({},r),{async:!1})),e;return t(i,function(n){return e=n}),e}var tw=function(){var i=function(){function r(t,e){this.T=t,this.Eh=e,this.ky=new pc}return r.prototype.FR=function(){var t=this,e=new Set,n=ne(document,NodeFilter.SHOW_ELEMENT);n.visitAll(function(o){e.has(o)||(t.ky.scanElement(o),e.add(o))})},r.prototype.handleCommand=function(t){var e=t&&t.withAssets,n=[],o=new Set,a=new Set,s=[];e&&Qo.isWebViewLocalAssetsSupported()?(this.ky.onScannedAsset(function(f){var p=f.type,d=f.asset;p==="stylesheet"&&!a.has(d.assetId)&&(a.add(d.assetId),csArray.prototype.push.call(s,d)),o.has(d.assetId)||(o.add(d.assetId),csArray.prototype.push.call(n,d))}),this.FR()):Qo.isWebViewLocalAssetsSupported()||F.warn("Local asset is not supported on this browser");var u=ew(),c=csJSON.stringify(u);if(e){var h=Rl.generate();return this.GR(n,s,h),csJSON.stringify({serializedDom:c,serializationId:h})}return c},r.prototype.GR=function(t,e,n){var o=this;e.length===0?this.oa(t,n):this.zR(t,e,n,function(a,s){return o.oa(a,s)})},r.prototype.zR=function(t,e,n,o){var a=this,s=0,u=0,c=new Set(csArray.prototype.map.call(t,function(m){return m.assetId})),h=function(m){return!c.has(m)},f=function(m){c.has(m.assetId)||(c.add(m.assetId),csArray.prototype.push.call(e,m),csArray.prototype.push.call(t,m))},p=function(m){var w,E;try{for(var _=D(m),b=_.next();!b.done;b=_.next()){var R=b.value;c.has(R.assetId)||(c.add(R.assetId),csArray.prototype.push.call(t,R))}}catch(A){w={error:A}}finally{try{b&&!b.done&&(E=_.return)&&E.call(_)}finally{if(w)throw w.error}}s++,s+u===e.length&&o(t,n)},d=function(m){u++,F.error("An error occurred while fetching a styleSheet: "+m),s+u===e.length&&o(t,n)};csArray.prototype.forEach.call(e,function(m){a.Eh.getStyleSheetAssets(m.assetId,p,d,h,f)})},r.prototype.oa=function(t,e){this.T.sendToParent(M.Assets,{assets:t,serializationId:e})},r}();return i}();function ew(){Jm();var i=Xm($E(document));return i}var rw=function(){var i=function(){function r(t){this.h=t,this.Ph=null}return r.prototype.isSdkTrackingContext=function(t){return Ht(t)&&ue(t)&&J(t.sessionKey)&&qe(t.pageNumber)&&J(t.pageViewType)&&Io(t.isRecording)},r.prototype.update=function(t){if(!this.isSdkTrackingContext(t)){F.warn("webViewTrackingContext.service received wrong sdkTrackingContext, content:".concat(csJSON.stringify(t))),this.Ph=null;return}this.Ph=k(k(k({},t),{recordingConsentState:Pn.NOT_NEEDED,projectId:this.h.projectId,uxaDomain:this.h.uxaDomain}),this.h.smbConfig)},r.prototype.getTrackingContext=function(){return this.Ph},r}();return i}(),nw=function(){var i=function(){function r(t){this.yn=t,this.te=[]}return r.prototype.handleCommand=function(t){if(ce(t)){this.go(t);var e=this.yn.getTrackingContext();e!==null&&this.xt(t,e)}},r.prototype.executeRegisteredCallbacks=function(t){var e=this,n=t.trackingContext;n&&csArray.prototype.map.call(this.te,function(o){return e.xt(o,n)})},r.prototype.go=function(t){csArray.prototype.push.call(this.te,t)},r.prototype.xt=function(t,e){csSetTimeout(function(){t(e)})},r}();return i}(),iw=function(){var i=function(){function r(t,e){this.Y=t,this.yn=e}return r.prototype.onIframeIntegrationCallback=function(t){var e=this.yn.getTrackingContext();e!==null&&(t.trackingContext=e,this.Y.sendToChildren(M.IntegrationCallback,t))},r}();return i}(),dh=function(){var i=function(){function r(t){this.commandsService=t,this.So=new Gc}return r.prototype.registerChildCommands=function(){var t=this;this.commandsService.register(qc,function(e){return t.So.handleCommand(e,t.ji)})},r.prototype.onParentRecordingContextChange=function(t){this.ji={isRecording:t.isRecording,recordingStartTimestamp:t.recordingStartTimestamp||0,etrState:t.etrState||Ft.ETR_OFF},this.So.executeCallbacks(this.ji)},r}();return X([qn({wait:0,mode:"trailing"})],i.prototype,"onParentRecordingContextChange",null),i}(),ow=function(){return["serializeWebView","webview:serializeWebView"]}(),aw=function(){return["setAssetTransformerMode","webview:setAssetTransformerMode"]}(),sw=function(){return["webview:onAfterScreenView"]}(),uw=function(){var i=function(r){Q(t,r);function t(e,n,o,a,s,u,c){var h=r.call(this,e)||this;return h.commandsService=e,h.T=n,h.Y=o,h.Vi=a,h.qR=s,h.nt=u,h.h=c,h}return t.prototype.init=function(){this.yn=new rw(this.h),this.WR=new iw(this.Y,this.yn),this.nt.addListener(this.WR),this.Dy=new nw(this.yn);var e=new hh(new fh);this.YR=new tw(this.T,e),this.lt()},t.prototype.onAfterPageViewCallback=function(e){this.Dy.executeRegisteredCallbacks(e)},t.prototype.lt=function(){var e=this;r.prototype.registerChildCommands.call(this),this.commandsService.register(Sa,function(n){e.Dy.handleCommand(n)}),this.commandsService.register(sw,function(n){e.yn.update(n);var o=e.yn.getTrackingContext();o!==null&&e.qR.emitAfterPageViewCallback({initiator:un.AfterPageView,trackingContext:o})}),this.commandsService.register(ow,function(n){return e.YR.handleCommand(n)}),this.commandsService.register(aw,function(n){(n===Zo||n===ph||n===$o)&&e.Vi.setAssetProcessingMode(n)})},t}(dh);return i}(),cw=function(){var i=function(){function r(t){this.T=t,this.te={}}return r.prototype.handleCommand=function(t){ce(t)&&this.go(t)},r.prototype.executeRegisteredCallbacks=function(t){var e=t.trackingContext;if(e)if(t.callbackId){var n=this.te[t.callbackId];n&&this.xt(n,e)}else for(var o in this.te)this.xt(this.te[o],e)},r.prototype.go=function(t){var e=Ye.integer(),n={callbackId:e,initiator:un.AfterPageView};this.te[e]=t,this.T.sendToParent(M.IntegrationCallback,n)},r.prototype.xt=function(t,e){csSetTimeout(function(){t(e)})},r}();return i}(),lw=function(){var i=function(){function r(t){this.T=t,this.Dn={}}return r.prototype.handleCommand=function(t){ue(t)&&ce(t.callback)&&this.mo(t.callback)},r.prototype.executePendingCallbacks=function(t){var e=t.trackingContext,n=t.callbackId;if(!(!n||!e)){var o=this.Dn[n];o&&(delete this.Dn[n],this.xt(o,e.sessionKey))}},r.prototype.mo=function(t){var e=Ye.integer(),n={callbackId:e,initiator:un.GetSessionKey};this.Dn[e]=t,this.T.sendToParent(M.IntegrationCallback,n)},r.prototype.xt=function(t,e){csSetTimeout(function(){t(e)})},r}();return i}(),hw=function(){var i=function(){function r(t,e){this.T=t,this.Y=e,this.qs={}}return r.prototype.handleCommand=function(t,e){ue(t)&&ce(e)&&this.mo(t,e)},r.prototype.executePendingCommand=function(t){var e=t.trackingContext,n=t.callbackId;if(!(!n||!e))if(this.qs[n]){var o=it(this.qs[n],2),a=o[0],s=o[1];a&&(delete this.qs[n],this.xt(e,a,s))}else this.Y.sendToChildren(M.TrackingContextResultMessage,t)},r.prototype.mo=function(t,e){var n=Ye.integer();this.qs[n]=[t,e],this.T.sendToParent(M.TrackingContextRequestMessage,{callbackId:n})},r.prototype.xt=function(t,e,n){csSetTimeout(function(){var o=Fc(t,e);n(o)})},r}();return i}(),fw=function(){var i=function(r){Q(t,r);function t(e,n,o){var a=r.call(this,e)||this;return a.commandsService=e,a.T=n,a.Y=o,a}return t.prototype.init=function(){this.Ly=new cw(this.T),this.Uy=new lw(this.T),this.Vy=new hw(this.T,this.Y),this.lt()},t.prototype.onAfterPageViewCallback=function(e){this.Ly.executeRegisteredCallbacks(e)},t.prototype.onIntegrationSessionKeyCallback=function(e){this.Uy.executePendingCallbacks(e)},t.prototype.onTrackingContextResultCallback=function(e){this.Vy.executePendingCommand(e)},t.prototype.lt=function(){var e=this;r.prototype.registerChildCommands.call(this),this.commandsService.register(Sa,function(n){e.Ly.handleCommand(n)}),this.commandsService.register(zc,function(n){return e.Uy.handleCommand(n)}),this.commandsService.register(Wc,function(n,o){e.Vy.handleCommand(n,o)})},t}(dh);return i}(),pw=function(){var i=function(){function r(t,e,n,o,a,s,u){this.f=t,this.yt=e,this.jt=n,this.Ot=o,this.tt=a,this.aa=s,this.Ni=u}return r.prototype.init=function(){var t,e;this.aa&&this.tt&&((t=this.aa)===null||t===void 0||t.addSelector((e=this.tt)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.lt(),this.ve=new ka(this.jt,this.yt,this.Ot,this.aa,this.Ni)},r.prototype.XR=function(){this.ve.start()},r.prototype.ju=function(){this.ve.stop()},r.prototype.onParentSensitiveStatusChange=function(t){var e,n;t.maskedElementSettings&&this.yt.setMaskedElementSettingsFromParent(t.maskedElementSettings),t.capturedElementSelector&&this.Ot.setWhitelistedElementsSelector(t.capturedElementSelector,!1),t.encryptionSelectors&&((e=this.aa)===null||e===void 0||e.addSelector(t.encryptionSelectors),(n=this.tt)===null||n===void 0||n.setEncryptionSelectors(t.encryptionSelectors,!1)),t.started?this.XR():this.ju()},r.prototype.lt=function(){var t=this;this.f.register(xa,function(e){t.Ot.setWhitelistedElementsSelector(e)}),this.f.register(qi,function(e){t.yt.setMaskedElementSettingsFromCommand(e)}),this.f.register(Ul,function(e){var n,o;(n=t.tt)===null||n===void 0||n.setEncryptionSelectors(e),(o=t.aa)===null||o===void 0||o.addSelector(e)})},r}();return i}(),dw=function(){var i=function(){function r(t,e,n,o,a,s,u,c){this.S=t,this.f=e,this.yt=n,this.jt=o,this.ot=a,this.Ot=s,this.zt=u,this.Ni=c,this.ve=new ka(this.jt,this.yt,this.Ot,void 0,this.Ni,this.ot)}return r.prototype.init=function(){this.ot.init(),this.lt()},r.prototype.onStartAnalytics=function(){this.ki()},r.prototype.onAfterArtificialPageView=function(){this.jy(),this.ki()},r.prototype.onStopAnalytics=function(){this.jy()},r.prototype.ki=function(){this.ve.start(),this.zt.setSensitiveStatus({started:!0,useAnonymization:this.ot.shouldUseAnonymization()}),this.S.emitSensitiveStatusChange()},r.prototype.jy=function(){this.ve.stop(),this.zt.setSensitiveStatus({started:!1,useAnonymization:this.ot.shouldUseAnonymization()}),this.S.emitSensitiveStatusChange()},r.prototype.lt=function(){var t=this;this.f.register(xa,function(e){t.Ot.setWhitelistedElementsSelector(e),t.S.emitSensitiveStatusChange()}),this.f.register(qi,function(e){t.yt.setMaskedElementSettingsFromCommand(e),t.S.emitSensitiveStatusChange()})},r}();return i}(),vw=function(){var i=function(){function r(t,e,n,o,a,s,u,c,h){var f=this;this.ft=t,this.S=e,this.h=n,this.T=o,this.Cr=a,this.f=s,this.pt=u,this.C=c,this.zt=h,this.Ns=function(){f.f.start(),f.xi.start()}}return r.prototype.start=function(){var t=this,e,n,o,a,s,u,c,h,f,p,d,m,w,E,_,b;this.C.schedule(function(){if(s=new ah,u=new kl(function(){}),w=new Dl,b=new Ll,0)var R,A,I;if(t.pt.isInIframeContext()){var U=new pw(t.f,s,u,w,E,_,b);U.init(),t.ft.addListener(U)}if(o=new Br,p=new Zl(o),d=new Jl(window.location,p),t.pt.isInWebViewContext()){var N=new lh(t.h),q=new Ma,$=new Na(N,t.h,d,q),W=new dw(t.S,t.f,s,u,$,w,t.zt);W.init(),t.ft.addListener(W),t.S.addListener(W)}}),this.C.schedule(function(){e=new $l(Me,t.h),n=new pl(e),a=new ME(t.h,e,n,t.T,t.pt,t.ft,t.f,new Al(F),t.zt),t.ft.addListener(a)}),hn.isRecordingSupported()&&this.C.schedule(function(){var R=new GE(t.h,o,u,t.S,t.T,t.Cr,t.f,t.ft,t.pt,d,t.zt,p,E);t.S.addListener(R),t.ft.addListener(R),R.init()}),this.C.schedule(function(){f=new El(t.h);var R=new th(e),A=new eh(e),I=new rh(e),U=new nh;h=new Ql(R,A,I,U),c=new IE(f,h,t.T,t.Cr,t.zt)}),this.C.schedule(function(){h.addListener(c),t.ft.addListener(c),t.S.addListener(c),t.S.addListener(a)}),this.C.schedule(function(){var R;if(t.pt.isInWebViewContext()){var A=new ZE;t.Vi=new QE(A),R=new uw(t.f,t.T,f,t.Vi,t.ft,h,t.h)}else R=new fw(t.f,t.T,f);t.ft.addListener(R),R.init()}),this.C.schedule(function(){c.init(),a.init()}),this.C.schedule(function(){var R,A,I,U;if(t.pt.isInWebViewContext()){var N=new qE,q=new bl(o,d),$=new Ra,W=new _l($,p,!!(!((A=(R=t.h)===null||R===void 0?void 0:R.experimental)===null||A===void 0)&&A.anonymizeNameInUrls)),T=new Vl(o,!((U=(I=t.h)===null||I===void 0?void 0:I.experimental)===null||U===void 0)&&U.anonymizeNameInUrls?p:void 0),P=new WE(d,q,W,T),L=new XE(o,new Xc(o,null,null),N,P,t.Vi,t.S,d,$),Y=new zE(t.T,L);Y.init(),t.S.addListener(Y),t.ft.addListener(Y)}else{var G=new CE(t.T);t.S.addListener(G)}}),this.xi=new dl,this.C.schedule(function(){t.xi.onLoad(function(){t.S.emitStartTracking()}),t.Ns()})},r}();return i}(),yw=function(){return 2500}(),gw=function(){return 500}(),mw=function(){var i=function(r){Q(t,r);function t(e,n,o){o===void 0&&(o=gw);var a=r.call(this,yw)||this;return a.ft=e,a.h=n,a.KR=o,a.Yn=!1,a.Ws=void 0,a.Oh=!0,a}return t.prototype.onStart=function(){this.JR()},t.prototype.onStop=function(){this.buffer.reset(),this.Nh&&window.csClearInterval(this.Nh)},t.prototype.sendToParent=function(e,n){var o;if(this.QR()){(o=this.Mh)===null||o===void 0||o.call(this,e,n);return}if(this.ZR(e)){var a=this.buildChildBaseMessage(e,n);this.buffer.addMessage(a)}},t.prototype.QR=function(){return this.Yn&&this.Oh},t.prototype.ZR=function(e){return!this.Yn||e===M.Commands},t.prototype.onWebViewEvent=function(e){this.Mh=e},t.prototype.setAnalyticsStatus=function(e){this.Oh=e,this.Oh&&this.$R()},t.prototype.sendAllMessagesFromBuffer=function(){var e,n,o,a=this.buffer.getMessages();try{for(var s=D(a),u=s.next();!u.done;u=s.next()){var c=u.value;(o=this.Mh)===null||o===void 0||o.call(this,c.type,c.content)}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}this.buffer.reset()},t.prototype.$R=function(){var e,n,o;if(this.Yn){var a=this.buffer.getMessages();try{for(var s=D(a),u=s.next();!u.done;u=s.next()){var c=u.value;c.type===M.Commands&&((o=this.Mh)===null||o===void 0||o.call(this,c.type,c.content))}}catch(h){e={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}this.buffer.reset()}},t.prototype.buildChildBaseMessage=function(e,n){return{type:e,content:n}},t.prototype.JR=function(){var e=this;this.Yn=At.isCSJavascriptBridgeDefined(),this.Yn?this.Hy():this.Nh=window.csSetInterval(function(){e.Yn=At.isCSJavascriptBridgeDefined(),e.Yn&&(e.Hy(),window.csClearInterval(e.Nh))},this.KR)},t.prototype.Hy=function(){this.tC(),this.Ws=At.getBridgeVersion(),this.Ws===null?this.sendAllMessagesFromBuffer():this.Ws>=YE?(this.eC(),At.notifyIsReadyForTracking()):F.warn("bridge version ".concat(this.Ws," is not supported"))},t.prototype.tC=function(){var e={message:csJSON.stringify(this.h),errorCode:"TAG_CONFIGURATION",level:ft.critical};At.sendLog(e)},t.prototype.eC=function(){this.ft.emitStopAnalytics()},t}(ch);return i}(),Sw=function(){var i=function(){function r(){this.ji=null}return r.prototype.getRecordingContext=function(){return this.ji===null?{isRecording:!1}:this.ji},r.prototype.setRecordingContext=function(t){this.ji=t},r}();return i}(),Ew=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.at=e,o.T=n,o}return t.prototype.onStart=function(){var e=this;this.at.subscribe(t.Mt,function(n){return e.z(n)})},t.prototype.onStop=function(){this.at.unsubscribe(t.Mt)},t.prototype.z=function(e){this.isStarted&&this.T.sendToParent(M.ApiError,e)},t}(wt);return i.Mt="ChildApiErrorsService",i}(),ww=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.at=e,o.T=n,o}return t.prototype.onStart=function(){var e=this;this.at.subscribe(t.Mt,function(n){return e.z(n)},{detailedEvent:!0})},t.prototype.onStop=function(){this.at.unsubscribe(t.Mt)},t.prototype.z=function(e){this.isStarted&&this.T.sendToParent(M.DetailedApiError,e)},t}(wt);return i.Mt="ChildDetailedApiErrorsService",i}(),_w=function(){var i=function(){function r(t,e,n){this.h=t,this.T=e,this.G=n}return r.prototype.init=function(){var t,e=new Br,n;!((t=this.h.apiErrors.collectionRules)===null||t===void 0)&&t.length?n=new Ml(this.h.apiErrors,e):n=new xl(this.h.apiErrors,e),this.at=new wl(new Il,new Pl,n),this.Ys=new Ew(this.at,this.T),this.xh=new ww(this.at,this.T),this.at.init(),this.lt()},r.prototype.lt=function(){this.G.register(Oi)},r.prototype.onStartTracking=function(){this.Ys.start()},r.prototype.onParentRecordingContextChange=function(t){t.isRecording?this.xh.start():this.xh.stop()},r.prototype.onOptout=function(){this.Ys.stop(),this.xh.stop()},r.prototype.onStartAnalytics=function(){this.Ys.start()},r.prototype.onStopAnalytics=function(){this.Ys.stop()},r}();return i}(),bw=function(){var i=function(r){Q(t,r);function t(e,n){var o=r.call(this)||this;return o.br=e,o.T=n,o}return t.prototype.onStart=function(){var e=this;this.br.subscribe(t.Mt,function(n){return e.z(n)})},t.prototype.onStop=function(){this.br.unsubscribe(t.Mt)},t.prototype.z=function(e){this.isStarted&&this.T.sendToParent(M.JavascriptError,e)},t}(wt);return i.Mt="ChildJavaScriptErrorsService",i}(),Aw=function(){var i=function(){function r(t,e,n){this.h=t,this.T=e,this.G=n}return r.prototype.init=function(){var t=new Sl;this.Xs=new bw(t,this.T),this.lt()},r.prototype.onStartTracking=function(){this.Xs.start()},r.prototype.onOptout=function(){this.Xs.stop()},r.prototype.onStartAnalytics=function(){this.Xs.start()},r.prototype.onStopAnalytics=function(){this.Xs.stop()},r.prototype.lt=function(){this.h.jsCustomErrorsEnabled&&!this.h.customErrors.enabled&&this.G.register(mn)},r}();return i}();var Tw=function(){var i=function(){function r(t,e,n){this.h=t,this.T=e,this.G=n}return r.prototype.init=function(){var t;if(0)var e;this.lt()},r.prototype.onStartTracking=function(){var t;(t=this.kh)===null||t===void 0||t.start()},r.prototype.onOptout=function(){var t;(t=this.kh)===null||t===void 0||t.stop()},r.prototype.onStartAnalytics=function(){var t;(t=this.kh)===null||t===void 0||t.start()},r.prototype.onStopAnalytics=function(){var t;(t=this.kh)===null||t===void 0||t.stop()},r.prototype.lt=function(){this.G.register(mn)},r}();return i}(),Rw=function(){var i=function(){function r(){this.Ks={started:!1,useAnonymization:!0}}return r.prototype.getSensitiveStatus=function(){return this.Ks},r.prototype.setSensitiveStatus=function(t){this.Ks=t},r.prototype.getElementSensitiveStatus=function(t){return this.Ks.started?H.isMaskedElement(t)||H.isMaskedElementChild(t)?Xt.MASKED:wc.shouldEncrypt(t)?Xt.ENCRYPTED:Be.isEditableNode(t)?Xt.ANONYMIZED:this.Ks.useAnonymization?Re.isWhitelistedElement(t)?Xt.CAPTURED:Xt.ANONYMIZED:Xt.CAPTURED:Xt.ANONYMIZED},r}();return i}(),Cw=function(){var i=function(){function r(t,e,n){this.h=t,this.pt=e,this.C=n}return r.prototype.init=function(){var t=this;Vr.isSupported()&&Vr.setDigestSalt(this.h.projectId.toString());var e,n,o,a,s,u,c,h,f;this.C.schedule(function(){e=new sh(t.C),n=new EE,o=new Sw,a=new Rw;var p=[Jo.UXA];t.pt.isInWebViewContext()?(window.cs_wvt=window.cs_wvt||[],csArray.prototype.push.call(p,Jo.WVT),s=new mw(n,t.h)):s=new RE(t.h,e,o,a,n),u=new Yl(p)}),this.C.schedule(function(){c=new _E(u,s),h=new wE(c)}),this.C.schedule(function(){h.init()}),this.C.schedule(function(){}),this.C.schedule(function(){if(t.h.apiErrors.enabled){var p=new _w(t.h,s,c);p.init(),e.addListener(p),n.addListener(p)}if(t.h.jsErrorsEnabled){var d=new Aw(t.h,s,c);d.init(),e.addListener(d),n.addListener(d)}if(t.h.customErrors.enabled){var m=new Tw(t.h,s,c);m.init(),e.addListener(m),n.addListener(m)}}),this.C.schedule(function(){e.addListener(h)}),this.C.schedule(function(){e.emitInitTracking()}),this.C.schedule(function(){var p=new vw(n,e,t.h,s,o,u,t.pt,t.C,a);p.start()})},r}();return i}(),Iw=function(){var i=function(){function r(t,e,n){this.h=t,this.pt=e,this.lr=n}return r.prototype.start=function(){var t,e,n,o,a;if(!window.UXAnalytics){window.UXAnalytics={};var s=new vc(!!(!((t=this.h.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.h.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(n=this.h.taskSchedulerOptions)===null||n===void 0?void 0:n.waitDuration),u=new Cd(this.pt,this.h);u.init();var c=new Pd(this.h,u);if(this.pt.isTopWindowTracker()&&c.canTrack()){if(!((o=window.CSProtectnativeFunctionsLogs)===null||o===void 0)&&o.Warning&&F.warn("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Warning)),!((a=window.CSProtectnativeFunctionsLogs)===null||a===void 0)&&a.Critical){F.error("protectNativeFunctions failed: ".concat(window.CSProtectnativeFunctionsLogs.Critical));return}Td();var h=new sh(s),f=new fE(this.h,u,this.lr,s,h);this.h.isQuotaEnabled()?f.initWithQuota():f.init()}else if(!this.pt.isTopWindowTracker()&&c.canTrackInChild()){var p=new Cw(this.h,this.pt,s);p.init()}var d=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive:function(m){return H.isMaskedElement(m)||H.isMaskedElementChild(m)},isAttributeSensitive:function(m,w){return H.isMaskedAttribute(m,w)},getSensitiveAttributes:function(m){return sa(m.attributes,function(w){return H.isMaskedAttribute(m,w.name)})}},Console:{warn:function(m){d&&console.warn("cs.tracking.warning",m)},error:function(m){d&&console.error("cs.tracking.error",m)}},Version:ku},window.CSFrameCommunication||(window.CSFrameCommunication=yi,yi.isActivable()&&yi.waitForConnection(),this.h.isCsCrosswritingHeap()&&yi.waitForHeapVisualLabeler())}},r}();return X([Jt("main.start"),B("main.start")],i.prototype,"start",null),i}(),Pw=function(){var i=function(){function r(){}return r.prototype.send=function(t,e,n){n===void 0&&(n=ft.warn);var o={message:t,errorCode:e,level:n};At.sendLog(o)},r}();return i}();var Ow=function(){var i=function(){function r(t,e,n){this.U=t,this.I=e,this.sC=n,this.At=[],this.Ie=null,this.uC=ca().v}return r.prototype.Fy=function(){this.At.length!==0&&(this.U.send({m:csArray.prototype.map.call(this.At,function(t){return{n:t.name,p:t.parameter,v:t.value}}),p:this.I.anonymizePII(window.location.pathname),pid:this.sC,v:this.uC}),this.At=[])},r.prototype.push=function(t){var e,n=this;if((e=csArray.prototype.push).call.apply(e,Ct([this.At],it(t),!1)),this.Ie&&(csClearTimeout(this.Ie),this.Ie=null),this.At.length>=r.MAX_QUEUE_SIZE){this.Fy();return}this.Ie=window.csSetTimeout(function(){n.Fy(),n.Ie=null},r.DEBOUNCE_INTERVAL)},r}();return i.DEBOUNCE_INTERVAL=5e3,i.MAX_QUEUE_SIZE=100,i}();function Nw(i,r){var t=i.validationRate/10,e=Ye.boolean(t),n=i.environment==="staging",o=!1;if((n||o||e)&&!r.isInWebViewContext())try{var a=jl.create(F.warn,r.isTopWindowTracker()),s=new zu(a),u=s.create(i.getMetricsUri(),!0),c=new Br,h=new Ow(u,c,i.projectId);pt.setService(h)}catch(f){F.warn("Error initializing metrics: ".concat(f.message))}}function Mw(){var i,r=new Qp(window.CS_CONF);window._uxa=window._uxa||[],r.processOptionOverrides(window._uxa);var t=new Zp(window,r);t.init();var e=new wd;if(Np(F),F.computeIsActive(r.validationRate),t.isTopWindowTracker()){var n=new gd(r,e),o=n;F.setStrategy(o)}else if(t.isInIframeContext()){var a=new Ed(r);F.setStrategy(a)}else if(t.isInWebViewContext()){var s=new Pw;F.setStrategy(s)}!((i=r==null?void 0:r.experimental)===null||i===void 0)&&i.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=Ar(window,"MutationObserver")),xp(),Nw(r,t);var u=new Iw(r,t,e);u.start()}window.CSCurrentScript=document.currentScript;csSetTimeout(function(){try{_d(Mw)}catch(i){}});})();

