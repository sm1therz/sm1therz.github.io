(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{6035:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return n}});let n=(0,r(59113).createAsyncLocalStorage)()},16706:(e,t,r)=>{"use strict";r.d(t,{A:()=>o,I:()=>a});var n=r(54568),s=r(67444);function a(e){let{name:t,size:r=16,className:a,...o}=e;return(0,n.jsx)("svg",{height:r,width:r,className:(0,s.A)("fill-transparent",a),...o,"aria-hidden":!0,children:(0,n.jsx)("use",{href:"#".concat(t)})})}let o=a},17377:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=s.apply(null,r);o&&e.push(o)}}else if("object"===a)if(r.toString===Object.prototype.toString)for(var i in r)n.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=(function(){return s}).apply(t,[]))||(e.exports=r)}()},18474:(e,t,r)=>{"use strict";r.d(t,{HN:()=>n.HN,pY:()=>u});var n=r(57469),s=r(46481),a=r(7620),o=r(26788),i=r(89557),l=r(24559);function u(e){var t;return t=(0,l.r)(e),(0,s.U6)(e=>"useContext"===e||"useUtils"===e?()=>{let e=t.useUtils();return a.useMemo(()=>(0,i.np)(e),[e])}:t.hasOwnProperty(e)?t[e]:(0,o.w)(e,t))}r(8003),r(15268)},21796:(e,t,r)=>{"use strict";r.d(t,{i:()=>l});var n=r(62115),s=r(57469),a=r(26162),o=r(51722);let i=e=>t=>{let r,n=t.op.path.split("."),s="";return 2==n.length?(r=n[0],s=n[1]):(r=n[1],s=n.splice(2,n.length-2).join(".")),e[r]({...t,op:{...t.op,path:s}})},l=(0,a.R)({config(){let e="/api/trpc";return{links:[(0,s.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,s.hf)({condition:e=>!!e.context.skipBatch,true:t=>i(Object.fromEntries(o.Hr.map(r=>[r,(0,s.Lb)({url:"".concat(e,"/").concat(r)})(t)]))),false:t=>i(Object.fromEntries(o.Hr.map(r=>[r,(0,s.fu)({url:"".concat(e,"/").concat(r)})(t)])))})],queryClientConfig:{defaultOptions:{queries:{staleTime:1e3,retry(e,t){var r;let n=null==t||null==(r=t.data)?void 0:r.code;return"BAD_REQUEST"!==n&&"FORBIDDEN"!==n&&"UNAUTHORIZED"!==n&&e<3}}}},transformer:n.Ay}},ssr:!1})},29695:e=>{e.exports={style:{fontFamily:"'calFont', 'calFont Fallback'",fontWeight:600},className:"__className_a90182",variable:"__variable_a90182"}},30458:(e,t,r)=>{Promise.resolve().then(r.bind(r,41835)),Promise.resolve().then(r.bind(r,64908)),Promise.resolve().then(r.t.bind(r,44760,23)),Promise.resolve().then(r.t.bind(r,37336,23)),Promise.resolve().then(r.t.bind(r,29695,23)),Promise.resolve().then(r.t.bind(r,63131,23)),Promise.resolve().then(r.bind(r,63660))},37336:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_e8ce0c",variable:"__variable_e8ce0c"}},37684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=r(21510)._(r(92644));function s(e,t){var r;let s={};"function"==typeof e&&(s.loader=e);let a={...s,...t};return(0,n.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},38447:(e,t,r)=>{"use strict";r.d(t,{Y:()=>l,y:()=>u});var n=r(54568),s=r(7620),a=r(21796),o=r(63591);let i=(0,s.createContext)(null);function l(e){let{children:t}=e,[r,l]=(0,s.useState)(()=>"Notification"in window?Notification.permission:"denied"),[u,d]=(0,s.useState)(null),[f,m]=(0,s.useState)(!1),[p,b]=(0,s.useState)(!1),{mutate:h}=a.i.viewer.loggedInViewerRouter.addNotificationsSubscription.useMutation(),{mutate:v}=a.i.viewer.loggedInViewerRouter.removeNotificationsSubscription.useMutation();(0,s.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/service-worker.js").then(async e=>{"pushManager"in e&&(d(e.pushManager),b(!!await e.pushManager.getSubscription()))}).catch(e=>{console.error("Service Worker registration failed:",e)})},[]);let g=(0,s.useMemo)(()=>({permission:r,isLoading:f,isSubscribed:p,subscribe:async()=>{try{m(!0);let e=await Notification.requestPermission();if(l(e),"granted"===e&&u){let e=await u.subscribe({userVisibleOnly:!0,applicationServerKey:c("BDmAry-HZ2ad1AV9HES7cUHQ4bsv09Ls0yJ_ko-YUz7BNDM2s7dUQwKstRfEX91HbmmeNRBvE7DOedlAFt8aKnU")});h({subscription:JSON.stringify(e)}),b(!0),(0,o.P0)("Notifications enabled successfully","success")}}catch(e){console.error("Failed to subscribe:",e),(0,o.P0)("Failed to enable notifications","error")}finally{m(!1)}},unsubscribe:async()=>{if(u)try{m(!0);let e=await u.getSubscription();if(e){let t=JSON.stringify(e);await e.unsubscribe(),v({subscription:t}),b(!1),(0,o.P0)("Notifications disabled successfully","success")}}catch(e){console.error("Failed to unsubscribe:",e),(0,o.P0)("Failed to disable notifications","error")}finally{m(!1)}}}),[r,f,p,u,h,v]);return(0,n.jsx)(i.Provider,{value:g,children:t})}function u(){let e=(0,s.useContext)(i);if(!e)throw Error("useWebPush must be used within a WebPushProvider");return e}let c=e=>{let t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(r),s=new Uint8Array(n.length);for(let e=0;e<n.length;++e)s[e]=n.charCodeAt(e);return s}},41835:(e,t,r)=>{"use strict";r.d(t,{AppRouterI18nContext:()=>a,AppRouterI18nProvider:()=>o});var n=r(54568),s=r(7620);let a=(0,s.createContext)(null);function o(e){let{children:t,translations:r,locale:o,ns:i}=e,l=(0,s.useMemo)(()=>({translations:r,locale:o,ns:i}),[o,i]);return(0,n.jsx)(a.Provider,{value:l,children:t})}},49669:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return n.workAsyncStorageInstance}});let n=r(6035)},51722:(e,t,r)=>{"use strict";r.d(t,{Hr:()=>n}),r(32393);let n=["loggedInViewerRouter","admin","apiKeys","appRoutingForms","apps","auth","availability","appBasecamp3","bookings","calendars","calVideo","credentials","deploymentSetup","dsync","eventTypes","features","highPerf","i18n","insights","me","ooo","payments","public","timezones","saml","slots","teams","organizations","travelSchedules","users","viewer","webhook","workflows","googleWorkspace","oAuth","attributes","delegationCredential","routingForms","credits","filterSegments","pbac"]},59113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return o},createAsyncLocalStorage:function(){return a},createSnapshot:function(){return i}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let s="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function a(){return s?new s:new n}function o(e){return s?s.bind(e):n.bind(e)}function i(){return s?s.snapshot():function(e,...t){return e(...t)}}},60207:(e,t,r)=>{"use strict";r.d(t,{O:()=>s});var n=r(62942);let s=()=>{var e,t;let r=null!=(e=(0,n.useSearchParams)())?e:new URLSearchParams,s=null!=(t=(0,n.useParams)())?t:{},a=new URLSearchParams(r.toString());return Object.getOwnPropertyNames(s).forEach(e=>{a.delete(e);let t=s[e]||"";("string"==typeof t?t.split("/"):t).forEach(t=>{a.append(e,t)})}),new n.ReadonlyURLSearchParams(a)}},60931:(e,t,r)=>{"use strict";function n(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}}),r(13159)},62942:(e,t,r)=>{"use strict";var n=r(42418);r.o(n,"ReadonlyURLSearchParams")&&r.d(t,{ReadonlyURLSearchParams:function(){return n.ReadonlyURLSearchParams}}),r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},63131:()=>{},63591:(e,t,r)=>{"use strict";r.d(t,{P0:()=>d});var n=r(54568),s=r(17377),a=r.n(s),o=r(51874),i=r(16706);let l=e=>{let{message:t,onClose:r,toastId:s}=e;return(0,n.jsxs)("button",{className:a()("data-testid-toast-success bg-default dark:bg-inverted text-emphasis dark:text-inverted shadow-elevation-low border-subtle mb-2 flex h-auto items-center justify-between space-x-2 rounded-lg border px-3 py-2.5 text-sm font-semibold rtl:space-x-reverse md:max-w-sm"),onClick:()=>r(s),children:[(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"check",className:"size-4"})}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{"data-testid":"toast-success",className:"m-0 w-full text-left",children:t})}),(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"x",className:"size-4 hover:cursor-pointer"})})]})},u=e=>{let{message:t,onClose:r,toastId:s}=e;return(0,n.jsxs)("button",{className:a()("animate-fade-in-up bg-semantic-error-subtle text-semantic-error shadow-elevation-low border-semantic-error-subtle mb-2 flex h-auto items-center justify-between space-x-2 rounded-md border px-3 py-2.5 text-sm font-semibold rtl:space-x-reverse md:max-w-sm"),onClick:()=>r(s),children:[(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"info",className:"text-semantic-error  size-4"})}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{"data-testid":"toast-error",className:"m-0 w-full text-left",children:t})}),(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"x",className:"text-semantic-error size-4 hover:cursor-pointer"})})]})},c=e=>{let{message:t,onClose:r,toastId:s}=e;return(0,n.jsxs)("button",{className:a()("animate-fade-in-up bg-semantic-attention-subtle text-semantic-attention shadow-elevation-low border-semantic-attention-subtle mb-2 flex h-auto items-center justify-between space-x-2 rounded-md border px-3 py-2.5 text-sm font-semibold rtl:space-x-reverse md:max-w-sm"),onClick:()=>r(s),children:[(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"info",className:"text-semantic-attention size-4"})}),(0,n.jsx)("div",{className:"flex items-center",children:(0,n.jsx)("p",{"data-testid":"toast-warning",className:"m-0 w-full text-left",children:t})}),(0,n.jsx)("span",{className:"mt-1",children:(0,n.jsx)(i.A,{name:"x",className:"text-semantic-attention size-4 hover:cursor-pointer"})})]})};function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6e3,s="number"==typeof r?{duration:r}:r;s.duration||(s.duration=6e3),s.position||(s.position="bottom-center");let a=e=>{o.oR.dismiss(e)};return o.oR.custom({success:t=>(0,n.jsx)(l,{message:e,onClose:a,toastId:t}),error:t=>(0,n.jsx)(u,{message:e,onClose:a,toastId:t}),warning:t=>(0,n.jsx)(c,{message:e,onClose:a,toastId:t})}[t]||(t=>(0,n.jsx)(l,{message:e,onClose:a,toastId:t})),s)}},64908:(e,t,r)=>{"use strict";r.d(t,{Providers:()=>P});var n=r(54568),s=r(87606),a=r(39195),o=r(57469);let i=e=>e instanceof o.HN,l=new a.E({defaultOptions:{queries:{staleTime:1e3,retry(e,t){if(i(t)&&t.data){let{code:e}=t.data;if("BAD_REQUEST"===e||"FORBIDDEN"===e||"UNAUTHORIZED"===e)return!1}return e<3}}}}),u=(0,r(18474).pY)({});var c=r(62115),d=r(51722);let f=e=>t=>{let r,n=t.op.path.split("."),s="";return 2==n.length?(r=n[0],s=n[1]):(r=n[1],s=n.splice(2,n.length-2).join(".")),e[r]({...t,op:{...t.op,path:s}})},m="/api/trpc",p=u.createClient({links:[(0,o.$H)({enabled:e=>"down"===e.direction&&e.result instanceof Error}),(0,o.hf)({condition:e=>!!e.context.skipBatch,true:e=>f(Object.fromEntries(d.Hr.map(t=>[t,(0,o.Lb)({url:"".concat(m,"/").concat(t)})(e)]))),false:e=>f(Object.fromEntries(d.Hr.map(t=>[t,(0,o.fu)({url:"".concat(m,"/").concat(t)})(e)])))})],transformer:c.Ay}),b=e=>{let{children:t}=e;return(0,n.jsx)(u.Provider,{client:p,queryClient:l,children:(0,n.jsx)(s.Ht,{client:l,children:t})})};var h=r(89223);function v(e){let{children:t,name:r}=e;return"undefined"!=typeof window&&window.document&&window.document.createElement&&(window.REACT_INLINESVG_CACHE_NAME=r,window.REACT_INLINESVG_PERSISTENT_CACHE=!0),t}var g=r(38447),y=r(7620);function x(){let e=(0,y.useRef)(null),t=(0,y.useRef)(null),r=(0,y.useRef)(null),n=async()=>{try{if(e.current&&"closed"!==e.current.state||(e.current=new(window.AudioContext||window.webkitAudioContext)),"suspended"===e.current.state&&await e.current.resume(),!r.current){let t=await fetch("/ring.mp3"),n=await t.arrayBuffer();r.current=await e.current.decodeAudioData(n),console.log("Audio file loaded and decoded")}return!0}catch(e){return console.error("Failed to initialize audio system:",e),!1}},s=async()=>{try{if((!e.current||"closed"===e.current.state)&&!await n()||!e.current)return;"suspended"===e.current.state&&await e.current.resume(),t.current&&(t.current.stop(),t.current.disconnect(),t.current=null);let s=e.current.createBufferSource();s.buffer=r.current,s.connect(e.current.destination),t.current=s,s.loop=!0,s.start(0),console.log("Sound started playing"),setTimeout(()=>{t.current===s&&(s.stop(),s.disconnect(),t.current=null)},7e3)}catch(t){console.error("Error playing sound:",t),e.current=null,r.current=null}},a=()=>{t.current&&(t.current.stop(),t.current.disconnect(),t.current=null)};return(0,y.useEffect)(()=>()=>{a(),e.current&&"closed"!==e.current.state&&e.current.close(),e.current=null,r.current=null},[]),(0,y.useEffect)(()=>{if(!("serviceWorker"in navigator))return void console.log("ServiceWorker not available");let e=async e=>{"PLAY_NOTIFICATION_SOUND"===e.data.type&&(r.current||await n(),await s()),"STOP_NOTIFICATION_SOUND"===e.data.type&&a()};return navigator.serviceWorker.addEventListener("message",e),()=>navigator.serviceWorker.removeEventListener("message",e)},[]),(0,y.useEffect)(()=>{let e=async()=>{r.current||await n(),document.removeEventListener("click",e),document.removeEventListener("touchstart",e)};return document.addEventListener("click",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("click",e),document.removeEventListener("touchstart",e)}},[]),null}var w=r(93352);let j=(0,r(91039).default)(()=>r.e(96493).then(r.bind(r,96493)),{loadableGenerated:{webpack:()=>[96493]}});function P(e){let{isEmbed:t,children:r}=e,s=(0,w.A)();return(0,n.jsx)(h.SessionProvider,{children:(0,n.jsxs)(b,{children:[s?null:(0,n.jsx)(j,{}),!t&&!s&&(0,n.jsx)(x,{}),(0,n.jsx)(v,{children:(0,n.jsx)(g.Y,{children:r})})]})})}},67444:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(84230);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.Q)(t.filter(Boolean).join(" "))}},91039:(e,t,r)=>{"use strict";r.d(t,{default:()=>s.a});var n=r(37684),s=r.n(n)},92644:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let n=r(54568),s=r(7620),a=r(60931);function o(e){return{default:e&&"default"in e?e.default:e}}r(96670);let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},l=function(e){let t={...i,...e},r=(0,s.lazy)(()=>t.loader().then(o)),l=t.loading;function u(e){let o=l?(0,n.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,u=i?s.Suspense:s.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:[null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(u,{...i?{fallback:o}:{},children:c})}return u.displayName="LoadableComponent",u}},93352:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(62942),s=r(60207);function a(){let e=(0,n.usePathname)(),t=["/booking","/cancel","/reschedule","/instant-meeting","/team","/d","/apps/routing-forms/routing-link","/forms/"].some(t=>null==e?void 0:e.startsWith(t)),r=(0,s.O)(),a=!!(null==r?void 0:r.get("user")),o=!!((null==r?void 0:r.get("user"))&&(null==r?void 0:r.get("type")));return t||a||o}},96670:(e,t,r)=>{"use strict";function n(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return n}}),r(54568),r(97509),r(49669),r(32252)}},e=>{var t=t=>e(e.s=t);e.O(0,[13060,286,84230,51874,74417,89223,65280,63660,587,95087,77358],()=>t(30458)),_N_E=e.O()}]);
//# sourceMappingURL=layout-2199f6acf21a6546.js.map